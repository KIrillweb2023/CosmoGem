(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var T0={exports:{}},gh={},S0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),UE=Symbol.for("react.portal"),GE=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),$E=Symbol.for("react.profiler"),HE=Symbol.for("react.provider"),jE=Symbol.for("react.context"),VE=Symbol.for("react.forward_ref"),WE=Symbol.for("react.suspense"),XE=Symbol.for("react.memo"),YE=Symbol.for("react.lazy"),og=Symbol.iterator;function KE(t){return t===null||typeof t!="object"?null:(t=og&&t[og]||t["@@iterator"],typeof t=="function"?t:null)}var b0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C0=Object.assign,A0={};function ao(t,e,r){this.props=t,this.context=e,this.refs=A0,this.updater=r||b0}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P0(){}P0.prototype=ao.prototype;function Pp(t,e,r){this.props=t,this.context=e,this.refs=A0,this.updater=r||b0}var Rp=Pp.prototype=new P0;Rp.constructor=Pp;C0(Rp,ao.prototype);Rp.isPureReactComponent=!0;var ag=Array.isArray,R0=Object.prototype.hasOwnProperty,Ip={current:null},I0={key:!0,ref:!0,__self:!0,__source:!0};function M0(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)R0.call(e,n)&&!I0.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:za,type:t,key:s,ref:o,props:i,_owner:Ip.current}}function qE(t,e){return{$$typeof:za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===za}function QE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lg=/\/+/g;function ec(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QE(""+t.key):e.toString(36)}function Wl(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case za:case UE:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ec(o,0):n,ag(i)?(r="",t!=null&&(r=t.replace(lg,"$&/")+"/"),Wl(i,e,r,"",function(u){return u})):i!=null&&(Mp(i)&&(i=qE(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ag(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+ec(s,a);o+=Wl(s,e,r,l,i)}else if(l=KE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+ec(s,a++),o+=Wl(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,r){if(t==null)return t;var n=[],i=0;return Wl(t,n,"","",function(s){return e.call(r,s,i++)}),n}function ZE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},Xl={transition:null},JE={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:Ip};function k0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:il,forEach:function(t,e,r){il(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=ao;he.Fragment=GE;he.Profiler=$E;he.PureComponent=Pp;he.StrictMode=zE;he.Suspense=WE;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;he.act=k0;he.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=C0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ip.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)R0.call(e,l)&&!I0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:za,type:t.type,key:i,ref:s,props:n,_owner:o}};he.createContext=function(t){return t={$$typeof:jE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HE,_context:t},t.Consumer=t};he.createElement=M0;he.createFactory=function(t){var e=M0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:VE,render:t}};he.isValidElement=Mp;he.lazy=function(t){return{$$typeof:YE,_payload:{_status:-1,_result:t},_init:ZE}};he.memo=function(t,e){return{$$typeof:XE,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Xl.transition;Xl.transition={};try{t()}finally{Xl.transition=e}};he.unstable_act=k0;he.useCallback=function(t,e){return xt.current.useCallback(t,e)};he.useContext=function(t){return xt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};he.useEffect=function(t,e){return xt.current.useEffect(t,e)};he.useId=function(){return xt.current.useId()};he.useImperativeHandle=function(t,e,r){return xt.current.useImperativeHandle(t,e,r)};he.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return xt.current.useMemo(t,e)};he.useReducer=function(t,e,r){return xt.current.useReducer(t,e,r)};he.useRef=function(t){return xt.current.useRef(t)};he.useState=function(t){return xt.current.useState(t)};he.useSyncExternalStore=function(t,e,r){return xt.current.useSyncExternalStore(t,e,r)};he.useTransition=function(){return xt.current.useTransition()};he.version="18.3.1";S0.exports=he;var D=S0.exports;const Bn=Ap(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT=D,tT=Symbol.for("react.element"),rT=Symbol.for("react.fragment"),nT=Object.prototype.hasOwnProperty,iT=eT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sT={key:!0,ref:!0,__self:!0,__source:!0};function D0(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)nT.call(e,n)&&!sT.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:tT,type:t,key:s,ref:o,props:i,_owner:iT.current}}gh.Fragment=rT;gh.jsx=D0;gh.jsxs=D0;T0.exports=gh;var L=T0.exports,kf={},O0={exports:{}},jt={},N0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var R=O.length;O.push(V);e:for(;0<R;){var W=R-1>>>1,Z=O[W];if(0<i(Z,V))O[W]=V,O[R]=Z,R=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var V=O[0],R=O.pop();if(R!==V){O[0]=R;e:for(var W=0,Z=O.length,ae=Z>>>1;W<ae;){var ie=2*(W+1)-1,C=O[ie],I=ie+1,N=O[I];if(0>i(C,R))I<Z&&0>i(N,C)?(O[W]=N,O[I]=R,W=I):(O[W]=C,O[ie]=R,W=ie);else if(I<Z&&0>i(N,R))O[W]=N,O[I]=R,W=I;else break e}}return V}function i(O,V){var R=O.sortIndex-V.sortIndex;return R!==0?R:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,c=null,f=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=O)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function x(O){if(m=!1,g(O),!p)if(r(l)!==null)p=!0,K(w);else{var V=r(u);V!==null&&B(x,V.startTime-O)}}function w(O,V){p=!1,m&&(m=!1,_(E),E=-1),d=!0;var R=f;try{for(g(V),c=r(l);c!==null&&(!(c.expirationTime>V)||O&&!k());){var W=c.callback;if(typeof W=="function"){c.callback=null,f=c.priorityLevel;var Z=W(c.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?c.callback=Z:c===r(l)&&n(l),g(V)}else n(l);c=r(l)}if(c!==null)var ae=!0;else{var ie=r(u);ie!==null&&B(x,ie.startTime-V),ae=!1}return ae}finally{c=null,f=R,d=!1}}var b=!1,T=null,E=-1,S=5,A=-1;function k(){return!(t.unstable_now()-A<S)}function F(){if(T!==null){var O=t.unstable_now();A=O;var V=!0;try{V=T(!0,O)}finally{V?M():(b=!1,T=null)}}else b=!1}var M;if(typeof y=="function")M=function(){y(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=F,M=function(){H.postMessage(null)}}else M=function(){v(F,0)};function K(O){T=O,b||(b=!0,M())}function B(O,V){E=v(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,K(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var R=f;f=V;try{return O()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=f;f=O;try{return V()}finally{f=R}},t.unstable_scheduleCallback=function(O,V,R){var W=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=R+Z,O={id:h++,callback:V,priorityLevel:O,startTime:R,expirationTime:Z,sortIndex:-1},R>W?(O.sortIndex=R,e(u,O),r(l)===null&&O===r(u)&&(m?(_(E),E=-1):m=!0,B(x,R-W))):(O.sortIndex=Z,e(l,O),p||d||(p=!0,K(w))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var V=f;return function(){var R=f;f=V;try{return O.apply(this,arguments)}finally{f=R}}}})(F0);N0.exports=F0;var oT=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT=D,zt=oT;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B0=new Set,ua={};function Hi(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(ua[t]=e,t=0;t<e.length;t++)B0.add(e[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,lT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ug={},hg={};function uT(t){return Df.call(hg,t)?!0:Df.call(ug,t)?!1:lT.test(t)?hg[t]=!0:(ug[t]=!0,!1)}function hT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cT(t,e,r,n){if(e===null||typeof e>"u"||hT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Dp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kp,Dp);lt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kp,Dp);lt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kp,Dp);lt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Op(t,e,r,n){var i=lt.hasOwnProperty(e)?lt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cT(e,r,i,n)&&(r=null),n||i===null?uT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vn=aT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),cs=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),L0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),G0=Symbol.for("react.offscreen"),cg=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=cg&&t[cg]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,tc;function ko(t){if(tc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tc=e&&e[1]||""}return`
`+tc+t}var rc=!1;function nc(t,e){if(!t||rc)return"";rc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ko(t):""}function fT(t){switch(t.tag){case 5:return ko(t.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return t=nc(t.type,!1),t;case 11:return t=nc(t.type.render,!1),t;case 1:return t=nc(t.type,!0),t;default:return""}}function Bf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case cs:return"Portal";case Of:return"Profiler";case Np:return"StrictMode";case Nf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U0:return(t.displayName||"Context")+".Consumer";case L0:return(t._context.displayName||"Context")+".Provider";case Fp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bp:return e=t.displayName||null,e!==null?e:Bf(t.type)||"Memo";case Sn:e=t._payload,t=t._init;try{return Bf(t(e))}catch{}}return null}function dT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bf(e);case 8:return e===Np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pT(t){var e=z0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=pT(t))}function $0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=z0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lf(t,e){var r=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H0(t,e){e=e.checked,e!=null&&Op(t,"checked",e,!1)}function Uf(t,e){H0(t,e);var r=qn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gf(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gf(t,e,r){(e!=="number"||vu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Do=Array.isArray;function As(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(U(92));if(Do(r)){if(1<r.length)throw Error(U(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qn(r)}}function j0(t,e){var r=qn(e.value),n=qn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,W0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ha(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mT=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(t){mT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vo[e]=Vo[t]})});function X0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vo.hasOwnProperty(t)&&Vo[t]?(""+e).trim():e+"px"}function Y0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=X0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var gT=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(gT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Lp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,Ps=null,Rs=null;function gg(t){if(t=ja(t)){if(typeof Wf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=wh(e),Wf(t.stateNode,t.type,e))}}function K0(t){Ps?Rs?Rs.push(t):Rs=[t]:Ps=t}function q0(){if(Ps){var t=Ps,e=Rs;if(Rs=Ps=null,gg(t),e)for(t=0;t<e.length;t++)gg(e[t])}}function Q0(t,e){return t(e)}function Z0(){}var ic=!1;function J0(t,e,r){if(ic)return t(e,r);ic=!0;try{return Q0(t,e,r)}finally{ic=!1,(Ps!==null||Rs!==null)&&(Z0(),q0())}}function ca(t,e){var r=t.stateNode;if(r===null)return null;var n=wh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(U(231,e,typeof r));return r}var Xf=!1;if(cn)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Xf=!1}function yT(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Wo=!1,xu=null,wu=!1,Yf=null,_T={onError:function(t){Wo=!0,xu=t}};function vT(t,e,r,n,i,s,o,a,l){Wo=!1,xu=null,yT.apply(_T,arguments)}function xT(t,e,r,n,i,s,o,a,l){if(vT.apply(this,arguments),Wo){if(Wo){var u=xu;Wo=!1,xu=null}else throw Error(U(198));wu||(wu=!0,Yf=u)}}function ji(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ev(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yg(t){if(ji(t)!==t)throw Error(U(188))}function wT(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(U(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return yg(i),t;if(s===n)return yg(i),e;s=s.sibling}throw Error(U(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?t:e}function tv(t){return t=wT(t),t!==null?rv(t):null}function rv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rv(t);if(e!==null)return e;t=t.sibling}return null}var nv=zt.unstable_scheduleCallback,_g=zt.unstable_cancelCallback,ET=zt.unstable_shouldYield,TT=zt.unstable_requestPaint,Ue=zt.unstable_now,ST=zt.unstable_getCurrentPriorityLevel,Up=zt.unstable_ImmediatePriority,iv=zt.unstable_UserBlockingPriority,Eu=zt.unstable_NormalPriority,bT=zt.unstable_LowPriority,sv=zt.unstable_IdlePriority,yh=null,Lr=null;function CT(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:RT,AT=Math.log,PT=Math.LN2;function RT(t){return t>>>=0,t===0?32:31-(AT(t)/PT|0)|0}var ll=64,ul=4194304;function Oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Oo(a):(s&=o,s!==0&&(n=Oo(s)))}else o=r&~i,o!==0?n=Oo(o):s!==0&&(n=Oo(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vr(e),i=1<<r,n|=t[r],e&=~i;return n}function IT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vr(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=IT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ov(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function sc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $a(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=r}function kT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Gp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ge=0;function av(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lv,zp,uv,hv,cv,qf=!1,hl=[],Ln=null,Un=null,Gn=null,fa=new Map,da=new Map,Cn=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vg(t,e){switch(t){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(e.pointerId)}}function _o(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ja(e),e!==null&&zp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OT(t,e,r,n,i){switch(e){case"focusin":return Ln=_o(Ln,t,e,r,n,i),!0;case"dragenter":return Un=_o(Un,t,e,r,n,i),!0;case"mouseover":return Gn=_o(Gn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return fa.set(s,_o(fa.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,da.set(s,_o(da.get(s)||null,t,e,r,n,i)),!0}return!1}function fv(t){var e=wi(t.target);if(e!==null){var r=ji(e);if(r!==null){if(e=r.tag,e===13){if(e=ev(r),e!==null){t.blockedOn=e,cv(t.priority,function(){uv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Qf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Vf=n,r.target.dispatchEvent(n),Vf=null}else return e=ja(r),e!==null&&zp(e),t.blockedOn=r,!1;e.shift()}return!0}function xg(t,e,r){Yl(t)&&r.delete(e)}function NT(){qf=!1,Ln!==null&&Yl(Ln)&&(Ln=null),Un!==null&&Yl(Un)&&(Un=null),Gn!==null&&Yl(Gn)&&(Gn=null),fa.forEach(xg),da.forEach(xg)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,qf||(qf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,NT)))}function pa(t){function e(i){return vo(i,t)}if(0<hl.length){vo(hl[0],t);for(var r=1;r<hl.length;r++){var n=hl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ln!==null&&vo(Ln,t),Un!==null&&vo(Un,t),Gn!==null&&vo(Gn,t),fa.forEach(e),da.forEach(e),r=0;r<Cn.length;r++)n=Cn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cn.length&&(r=Cn[0],r.blockedOn===null);)fv(r),r.blockedOn===null&&Cn.shift()}var Is=vn.ReactCurrentBatchConfig,Su=!0;function FT(t,e,r,n){var i=ge,s=Is.transition;Is.transition=null;try{ge=1,$p(t,e,r,n)}finally{ge=i,Is.transition=s}}function BT(t,e,r,n){var i=ge,s=Is.transition;Is.transition=null;try{ge=4,$p(t,e,r,n)}finally{ge=i,Is.transition=s}}function $p(t,e,r,n){if(Su){var i=Qf(t,e,r,n);if(i===null)mc(t,e,n,bu,r),vg(t,n);else if(OT(i,t,e,r,n))n.stopPropagation();else if(vg(t,n),e&4&&-1<DT.indexOf(t)){for(;i!==null;){var s=ja(i);if(s!==null&&lv(s),s=Qf(t,e,r,n),s===null&&mc(t,e,n,bu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else mc(t,e,n,null,r)}}var bu=null;function Qf(t,e,r,n){if(bu=null,t=Lp(n),t=wi(t),t!==null)if(e=ji(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ev(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bu=t,null}function dv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ST()){case Up:return 1;case iv:return 4;case Eu:case bT:return 16;case sv:return 536870912;default:return 16}default:return 16}}var Rn=null,Hp=null,Kl=null;function pv(){if(Kl)return Kl;var t,e=Hp,r=e.length,n,i="value"in Rn?Rn.value:Rn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Kl=i.slice(t,1<n?1-n:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function wg(){return!1}function Vt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cl:wg,this.isPropagationStopped=wg,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=Vt(lo),Ha=ke({},lo,{view:0,detail:0}),LT=Vt(Ha),oc,ac,xo,_h=ke({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(oc=t.screenX-xo.screenX,ac=t.screenY-xo.screenY):ac=oc=0,xo=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:ac}}),Eg=Vt(_h),UT=ke({},_h,{dataTransfer:0}),GT=Vt(UT),zT=ke({},Ha,{relatedTarget:0}),lc=Vt(zT),$T=ke({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),HT=Vt($T),jT=ke({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VT=Vt(jT),WT=ke({},lo,{data:0}),Tg=Vt(WT),XT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KT[t])?!!e[t]:!1}function Vp(){return qT}var QT=ke({},Ha,{key:function(t){if(t.key){var e=XT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZT=Vt(QT),JT=ke({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=Vt(JT),eS=ke({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),tS=Vt(eS),rS=ke({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=Vt(rS),iS=ke({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=Vt(iS),oS=[9,13,27,32],Wp=cn&&"CompositionEvent"in window,Xo=null;cn&&"documentMode"in document&&(Xo=document.documentMode);var aS=cn&&"TextEvent"in window&&!Xo,mv=cn&&(!Wp||Xo&&8<Xo&&11>=Xo),bg=" ",Cg=!1;function gv(t,e){switch(t){case"keyup":return oS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function lS(t,e){switch(t){case"compositionend":return yv(e);case"keypress":return e.which!==32?null:(Cg=!0,bg);case"textInput":return t=e.data,t===bg&&Cg?null:t;default:return null}}function uS(t,e){if(ds)return t==="compositionend"||!Wp&&gv(t,e)?(t=pv(),Kl=Hp=Rn=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mv&&e.locale!=="ko"?null:e.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hS[t.type]:e==="textarea"}function _v(t,e,r,n){K0(n),e=Cu(e,"onChange"),0<e.length&&(r=new jp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yo=null,ma=null;function cS(t){Rv(t,0)}function vh(t){var e=gs(t);if($0(e))return t}function fS(t,e){if(t==="change")return e}var vv=!1;if(cn){var uc;if(cn){var hc="oninput"in document;if(!hc){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),hc=typeof Pg.oninput=="function"}uc=hc}else uc=!1;vv=uc&&(!document.documentMode||9<document.documentMode)}function Rg(){Yo&&(Yo.detachEvent("onpropertychange",xv),ma=Yo=null)}function xv(t){if(t.propertyName==="value"&&vh(ma)){var e=[];_v(e,ma,t,Lp(t)),J0(cS,e)}}function dS(t,e,r){t==="focusin"?(Rg(),Yo=e,ma=r,Yo.attachEvent("onpropertychange",xv)):t==="focusout"&&Rg()}function pS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vh(ma)}function mS(t,e){if(t==="click")return vh(e)}function gS(t,e){if(t==="input"||t==="change")return vh(e)}function yS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:yS;function ga(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Df.call(e,i)||!br(t[i],e[i]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,e){var r=Ig(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ig(r)}}function wv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ev(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vu(t.document)}return e}function Xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _S(t){var e=Ev(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&wv(r.ownerDocument.documentElement,r)){if(n!==null&&Xp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Mg(r,s);var o=Mg(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vS=cn&&"documentMode"in document&&11>=document.documentMode,ps=null,Zf=null,Ko=null,Jf=!1;function kg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jf||ps==null||ps!==vu(n)||(n=ps,"selectionStart"in n&&Xp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ko&&ga(Ko,n)||(Ko=n,n=Cu(Zf,"onSelect"),0<n.length&&(e=new jp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ps)))}function fl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ms={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},cc={},Tv={};cn&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function xh(t){if(cc[t])return cc[t];if(!ms[t])return t;var e=ms[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Tv)return cc[t]=e[r];return t}var Sv=xh("animationend"),bv=xh("animationiteration"),Cv=xh("animationstart"),Av=xh("transitionend"),Pv=new Map,Dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){Pv.set(t,e),Hi(e,[t])}for(var fc=0;fc<Dg.length;fc++){var dc=Dg[fc],xS=dc.toLowerCase(),wS=dc[0].toUpperCase()+dc.slice(1);ii(xS,"on"+wS)}ii(Sv,"onAnimationEnd");ii(bv,"onAnimationIteration");ii(Cv,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(Av,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Og(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xT(n,e,void 0,t),t.currentTarget=null}function Rv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Og(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Og(i,a,u),s=l}}}if(wu)throw t=Yf,wu=!1,Yf=null,t}function we(t,e){var r=e[id];r===void 0&&(r=e[id]=new Set);var n=t+"__bubble";r.has(n)||(Iv(e,t,2,!1),r.add(n))}function pc(t,e,r){var n=0;e&&(n|=4),Iv(r,t,n,e)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ya(t){if(!t[dl]){t[dl]=!0,B0.forEach(function(r){r!=="selectionchange"&&(ES.has(r)||pc(r,!1,t),pc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dl]||(e[dl]=!0,pc("selectionchange",!1,e))}}function Iv(t,e,r,n){switch(dv(e)){case 1:var i=FT;break;case 4:i=BT;break;default:i=$p}r=i.bind(null,e,r,t),i=void 0,!Xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function mc(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wi(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}J0(function(){var u=s,h=Lp(r),c=[];e:{var f=Pv.get(t);if(f!==void 0){var d=jp,p=t;switch(t){case"keypress":if(ql(r)===0)break e;case"keydown":case"keyup":d=ZT;break;case"focusin":p="focus",d=lc;break;case"focusout":p="blur",d=lc;break;case"beforeblur":case"afterblur":d=lc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=GT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=tS;break;case Sv:case bv:case Cv:d=HT;break;case Av:d=nS;break;case"scroll":d=LT;break;case"wheel":d=sS;break;case"copy":case"cut":case"paste":d=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Sg}var m=(e&4)!==0,v=!m&&t==="scroll",_=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,g;y!==null;){g=y;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,_!==null&&(x=ca(y,_),x!=null&&m.push(_a(y,x,g)))),v)break;y=y.return}0<m.length&&(f=new d(f,p,null,r,h),c.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&r!==Vf&&(p=r.relatedTarget||r.fromElement)&&(wi(p)||p[fn]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?wi(p):null,p!==null&&(v=ji(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(m=Eg,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Sg,x="onPointerLeave",_="onPointerEnter",y="pointer"),v=d==null?f:gs(d),g=p==null?f:gs(p),f=new m(x,y+"leave",d,r,h),f.target=v,f.relatedTarget=g,x=null,wi(h)===u&&(m=new m(_,y+"enter",p,r,h),m.target=g,m.relatedTarget=v,x=m),v=x,d&&p)t:{for(m=d,_=p,y=0,g=m;g;g=Zi(g))y++;for(g=0,x=_;x;x=Zi(x))g++;for(;0<y-g;)m=Zi(m),y--;for(;0<g-y;)_=Zi(_),g--;for(;y--;){if(m===_||_!==null&&m===_.alternate)break t;m=Zi(m),_=Zi(_)}m=null}else m=null;d!==null&&Ng(c,f,d,m,!1),p!==null&&v!==null&&Ng(c,v,p,m,!0)}}e:{if(f=u?gs(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var w=fS;else if(Ag(f))if(vv)w=gS;else{w=pS;var b=dS}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=mS);if(w&&(w=w(t,u))){_v(c,w,r,h);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Gf(f,"number",f.value)}switch(b=u?gs(u):window,t){case"focusin":(Ag(b)||b.contentEditable==="true")&&(ps=b,Zf=u,Ko=null);break;case"focusout":Ko=Zf=ps=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,kg(c,r,h);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":kg(c,r,h)}var T;if(Wp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ds?gv(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(mv&&r.locale!=="ko"&&(ds||E!=="onCompositionStart"?E==="onCompositionEnd"&&ds&&(T=pv()):(Rn=h,Hp="value"in Rn?Rn.value:Rn.textContent,ds=!0)),b=Cu(u,E),0<b.length&&(E=new Tg(E,t,null,r,h),c.push({event:E,listeners:b}),T?E.data=T:(T=yv(r),T!==null&&(E.data=T)))),(T=aS?lS(t,r):uS(t,r))&&(u=Cu(u,"onBeforeInput"),0<u.length&&(h=new Tg("onBeforeInput","beforeinput",null,r,h),c.push({event:h,listeners:u}),h.data=T))}Rv(c,e)})}function _a(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Cu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ca(t,r),s!=null&&n.unshift(_a(t,s,i)),s=ca(t,e),s!=null&&n.push(_a(t,s,i))),t=t.return}return n}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ng(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ca(r,s),l!=null&&o.unshift(_a(r,l,a))):i||(l=ca(r,s),l!=null&&o.push(_a(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var TS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function Fg(t){return(typeof t=="string"?t:""+t).replace(TS,`
`).replace(SS,"")}function pl(t,e,r){if(e=Fg(e),Fg(t)!==e&&r)throw Error(U(425))}function Au(){}var ed=null,td=null;function rd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(t){return Bg.resolve(null).then(t).catch(AS)}:nd;function AS(t){setTimeout(function(){throw t})}function gc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),pa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);pa(e)}function zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Nr="__reactFiber$"+uo,va="__reactProps$"+uo,fn="__reactContainer$"+uo,id="__reactEvents$"+uo,PS="__reactListeners$"+uo,RS="__reactHandles$"+uo;function wi(t){var e=t[Nr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fn]||r[Nr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Lg(t);t!==null;){if(r=t[Nr])return r;t=Lg(t)}return e}t=r,r=t.parentNode}return null}function ja(t){return t=t[Nr]||t[fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function wh(t){return t[va]||null}var sd=[],ys=-1;function si(t){return{current:t}}function Ee(t){0>ys||(t.current=sd[ys],sd[ys]=null,ys--)}function xe(t,e){ys++,sd[ys]=t.current,t.current=e}var Qn={},yt=si(Qn),Ct=si(!1),Di=Qn;function js(t,e){var r=t.type.contextTypes;if(!r)return Qn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function Pu(){Ee(Ct),Ee(yt)}function Ug(t,e,r){if(yt.current!==Qn)throw Error(U(168));xe(yt,e),xe(Ct,r)}function Mv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(U(108,dT(t)||"Unknown",i));return ke({},r,n)}function Ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Di=yt.current,xe(yt,t),xe(Ct,Ct.current),!0}function Gg(t,e,r){var n=t.stateNode;if(!n)throw Error(U(169));r?(t=Mv(t,e,Di),n.__reactInternalMemoizedMergedChildContext=t,Ee(Ct),Ee(yt),xe(yt,t)):Ee(Ct),xe(Ct,r)}var en=null,Eh=!1,yc=!1;function kv(t){en===null?en=[t]:en.push(t)}function IS(t){Eh=!0,kv(t)}function oi(){if(!yc&&en!==null){yc=!0;var t=0,e=ge;try{var r=en;for(ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}en=null,Eh=!1}catch(i){throw en!==null&&(en=en.slice(t+1)),nv(Up,oi),i}finally{ge=e,yc=!1}}return null}var _s=[],vs=0,Iu=null,Mu=0,Yt=[],Kt=0,Oi=null,rn=1,nn="";function di(t,e){_s[vs++]=Mu,_s[vs++]=Iu,Iu=t,Mu=e}function Dv(t,e,r){Yt[Kt++]=rn,Yt[Kt++]=nn,Yt[Kt++]=Oi,Oi=t;var n=rn;t=nn;var i=32-vr(n)-1;n&=~(1<<i),r+=1;var s=32-vr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,rn=1<<32-vr(e)+i|r<<i|n,nn=s+t}else rn=1<<s|r<<i|n,nn=t}function Yp(t){t.return!==null&&(di(t,1),Dv(t,1,0))}function Kp(t){for(;t===Iu;)Iu=_s[--vs],_s[vs]=null,Mu=_s[--vs],_s[vs]=null;for(;t===Oi;)Oi=Yt[--Kt],Yt[Kt]=null,nn=Yt[--Kt],Yt[Kt]=null,rn=Yt[--Kt],Yt[Kt]=null}var Ut=null,Lt=null,Te=!1,mr=null;function Ov(t,e){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,Lt=zn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Oi!==null?{id:rn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ut=t,Lt=null,!0):!1;default:return!1}}function od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ad(t){if(Te){var e=Lt;if(e){var r=e;if(!zg(t,e)){if(od(t))throw Error(U(418));e=zn(r.nextSibling);var n=Ut;e&&zg(t,e)?Ov(n,r):(t.flags=t.flags&-4097|2,Te=!1,Ut=t)}}else{if(od(t))throw Error(U(418));t.flags=t.flags&-4097|2,Te=!1,Ut=t}}}function $g(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function ml(t){if(t!==Ut)return!1;if(!Te)return $g(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rd(t.type,t.memoizedProps)),e&&(e=Lt)){if(od(t))throw Nv(),Error(U(418));for(;e;)Ov(t,e),e=zn(e.nextSibling)}if($g(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Lt=zn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Ut?zn(t.stateNode.nextSibling):null;return!0}function Nv(){for(var t=Lt;t;)t=zn(t.nextSibling)}function Vs(){Lt=Ut=null,Te=!1}function qp(t){mr===null?mr=[t]:mr.push(t)}var MS=vn.ReactCurrentBatchConfig;function wo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hg(t){var e=t._init;return e(t._payload)}function Fv(t){function e(_,y){if(t){var g=_.deletions;g===null?(_.deletions=[y],_.flags|=16):g.push(y)}}function r(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function n(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Vn(_,y),_.index=0,_.sibling=null,_}function s(_,y,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<y?(_.flags|=2,y):g):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,g,x){return y===null||y.tag!==6?(y=Sc(g,_.mode,x),y.return=_,y):(y=i(y,g),y.return=_,y)}function l(_,y,g,x){var w=g.type;return w===fs?h(_,y,g.props.children,x,g.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Sn&&Hg(w)===y.type)?(x=i(y,g.props),x.ref=wo(_,y,g),x.return=_,x):(x=nu(g.type,g.key,g.props,null,_.mode,x),x.ref=wo(_,y,g),x.return=_,x)}function u(_,y,g,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=bc(g,_.mode,x),y.return=_,y):(y=i(y,g.children||[]),y.return=_,y)}function h(_,y,g,x,w){return y===null||y.tag!==7?(y=Ai(g,_.mode,x,w),y.return=_,y):(y=i(y,g),y.return=_,y)}function c(_,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sc(""+y,_.mode,g),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sl:return g=nu(y.type,y.key,y.props,null,_.mode,g),g.ref=wo(_,null,y),g.return=_,g;case cs:return y=bc(y,_.mode,g),y.return=_,y;case Sn:var x=y._init;return c(_,x(y._payload),g)}if(Do(y)||go(y))return y=Ai(y,_.mode,g,null),y.return=_,y;gl(_,y)}return null}function f(_,y,g,x){var w=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(_,y,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case sl:return g.key===w?l(_,y,g,x):null;case cs:return g.key===w?u(_,y,g,x):null;case Sn:return w=g._init,f(_,y,w(g._payload),x)}if(Do(g)||go(g))return w!==null?null:h(_,y,g,x,null);gl(_,g)}return null}function d(_,y,g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(g)||null,a(y,_,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sl:return _=_.get(x.key===null?g:x.key)||null,l(y,_,x,w);case cs:return _=_.get(x.key===null?g:x.key)||null,u(y,_,x,w);case Sn:var b=x._init;return d(_,y,g,b(x._payload),w)}if(Do(x)||go(x))return _=_.get(g)||null,h(y,_,x,w,null);gl(y,x)}return null}function p(_,y,g,x){for(var w=null,b=null,T=y,E=y=0,S=null;T!==null&&E<g.length;E++){T.index>E?(S=T,T=null):S=T.sibling;var A=f(_,T,g[E],x);if(A===null){T===null&&(T=S);break}t&&T&&A.alternate===null&&e(_,T),y=s(A,y,E),b===null?w=A:b.sibling=A,b=A,T=S}if(E===g.length)return r(_,T),Te&&di(_,E),w;if(T===null){for(;E<g.length;E++)T=c(_,g[E],x),T!==null&&(y=s(T,y,E),b===null?w=T:b.sibling=T,b=T);return Te&&di(_,E),w}for(T=n(_,T);E<g.length;E++)S=d(T,_,E,g[E],x),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?E:S.key),y=s(S,y,E),b===null?w=S:b.sibling=S,b=S);return t&&T.forEach(function(k){return e(_,k)}),Te&&di(_,E),w}function m(_,y,g,x){var w=go(g);if(typeof w!="function")throw Error(U(150));if(g=w.call(g),g==null)throw Error(U(151));for(var b=w=null,T=y,E=y=0,S=null,A=g.next();T!==null&&!A.done;E++,A=g.next()){T.index>E?(S=T,T=null):S=T.sibling;var k=f(_,T,A.value,x);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(_,T),y=s(k,y,E),b===null?w=k:b.sibling=k,b=k,T=S}if(A.done)return r(_,T),Te&&di(_,E),w;if(T===null){for(;!A.done;E++,A=g.next())A=c(_,A.value,x),A!==null&&(y=s(A,y,E),b===null?w=A:b.sibling=A,b=A);return Te&&di(_,E),w}for(T=n(_,T);!A.done;E++,A=g.next())A=d(T,_,E,A.value,x),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),y=s(A,y,E),b===null?w=A:b.sibling=A,b=A);return t&&T.forEach(function(F){return e(_,F)}),Te&&di(_,E),w}function v(_,y,g,x){if(typeof g=="object"&&g!==null&&g.type===fs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case sl:e:{for(var w=g.key,b=y;b!==null;){if(b.key===w){if(w=g.type,w===fs){if(b.tag===7){r(_,b.sibling),y=i(b,g.props.children),y.return=_,_=y;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Sn&&Hg(w)===b.type){r(_,b.sibling),y=i(b,g.props),y.ref=wo(_,b,g),y.return=_,_=y;break e}r(_,b);break}else e(_,b);b=b.sibling}g.type===fs?(y=Ai(g.props.children,_.mode,x,g.key),y.return=_,_=y):(x=nu(g.type,g.key,g.props,null,_.mode,x),x.ref=wo(_,y,g),x.return=_,_=x)}return o(_);case cs:e:{for(b=g.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(_,y.sibling),y=i(y,g.children||[]),y.return=_,_=y;break e}else{r(_,y);break}else e(_,y);y=y.sibling}y=bc(g,_.mode,x),y.return=_,_=y}return o(_);case Sn:return b=g._init,v(_,y,b(g._payload),x)}if(Do(g))return p(_,y,g,x);if(go(g))return m(_,y,g,x);gl(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(_,y.sibling),y=i(y,g),y.return=_,_=y):(r(_,y),y=Sc(g,_.mode,x),y.return=_,_=y),o(_)):r(_,y)}return v}var Ws=Fv(!0),Bv=Fv(!1),ku=si(null),Du=null,xs=null,Qp=null;function Zp(){Qp=xs=Du=null}function Jp(t){var e=ku.current;Ee(ku),t._currentValue=e}function ld(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ms(t,e){Du=t,Qp=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(Qp!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(Du===null)throw Error(U(308));xs=t,Du.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Ei=null;function em(t){Ei===null?Ei=[t]:Ei.push(t)}function Lv(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,em(e)):(r.next=i.next,i.next=r),e.interleaved=r,dn(t,n)}function dn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bn=!1;function tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $n(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,dn(t,r)}return i=n.interleaved,i===null?(e.next=e,em(n)):(e.next=i.next,i.next=e),n.interleaved=e,dn(t,r)}function Ql(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Gp(t,r)}}function jg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ou(t,e,r,n){var i=t.updateQueue;bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,d=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){c=p.call(d,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(d,c,f):p,f==null)break e;c=ke({},c,f);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=d,l=c):h=h.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fi|=o,t.lanes=o,t.memoizedState=c}}function Vg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(U(191,i));i.call(n)}}}var Va={},Ur=si(Va),xa=si(Va),wa=si(Va);function Ti(t){if(t===Va)throw Error(U(174));return t}function rm(t,e){switch(xe(wa,e),xe(xa,t),xe(Ur,Va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$f(e,t)}Ee(Ur),xe(Ur,e)}function Xs(){Ee(Ur),Ee(xa),Ee(wa)}function Gv(t){Ti(wa.current);var e=Ti(Ur.current),r=$f(e,t.type);e!==r&&(xe(xa,t),xe(Ur,r))}function nm(t){xa.current===t&&(Ee(Ur),Ee(xa))}var Ce=si(0);function Nu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _c=[];function im(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var Zl=vn.ReactCurrentDispatcher,vc=vn.ReactCurrentBatchConfig,Ni=0,Ie=null,We=null,Qe=null,Fu=!1,qo=!1,Ea=0,kS=0;function ut(){throw Error(U(321))}function sm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!br(t[r],e[r]))return!1;return!0}function om(t,e,r,n,i,s){if(Ni=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zl.current=t===null||t.memoizedState===null?FS:BS,t=r(n,i),qo){s=0;do{if(qo=!1,Ea=0,25<=s)throw Error(U(301));s+=1,Qe=We=null,e.updateQueue=null,Zl.current=LS,t=r(n,i)}while(qo)}if(Zl.current=Bu,e=We!==null&&We.next!==null,Ni=0,Qe=We=Ie=null,Fu=!1,e)throw Error(U(300));return t}function am(){var t=Ea!==0;return Ea=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ie.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function ir(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Qe===null?Ie.memoizedState:Qe.next;if(e!==null)Qe=e,We=t;else{if(t===null)throw Error(U(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Qe===null?Ie.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Ta(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=ir(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=We,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Ni&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=n):l=l.next=c,Ie.lanes|=h,Fi|=h}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,br(n,e.memoizedState)||(bt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,Fi|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wc(t){var e=ir(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);br(s,e.memoizedState)||(bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function zv(){}function $v(t,e){var r=Ie,n=ir(),i=e(),s=!br(n.memoizedState,i);if(s&&(n.memoizedState=i,bt=!0),n=n.queue,lm(Vv.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Sa(9,jv.bind(null,r,n,i,e),void 0,null),Je===null)throw Error(U(349));Ni&30||Hv(r,e,i)}return i}function Hv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jv(t,e,r,n){e.value=r,e.getSnapshot=n,Wv(e)&&Xv(t)}function Vv(t,e,r){return r(function(){Wv(e)&&Xv(t)})}function Wv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!br(t,r)}catch{return!0}}function Xv(t){var e=dn(t,1);e!==null&&xr(e,t,1,-1)}function Wg(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=NS.bind(null,Ie,t),[e.memoizedState,t]}function Sa(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Yv(){return ir().memoizedState}function Jl(t,e,r,n){var i=Mr();Ie.flags|=t,i.memoizedState=Sa(1|e,r,void 0,n===void 0?null:n)}function Th(t,e,r,n){var i=ir();n=n===void 0?null:n;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,n!==null&&sm(n,o.deps)){i.memoizedState=Sa(e,r,s,n);return}}Ie.flags|=t,i.memoizedState=Sa(1|e,r,s,n)}function Xg(t,e){return Jl(8390656,8,t,e)}function lm(t,e){return Th(2048,8,t,e)}function Kv(t,e){return Th(4,2,t,e)}function qv(t,e){return Th(4,4,t,e)}function Qv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zv(t,e,r){return r=r!=null?r.concat([t]):null,Th(4,4,Qv.bind(null,e,t),r)}function um(){}function Jv(t,e){var r=ir();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ex(t,e){var r=ir();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function tx(t,e,r){return Ni&21?(br(r,e)||(r=ov(),Ie.lanes|=r,Fi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=r)}function DS(t,e){var r=ge;ge=r!==0&&4>r?r:4,t(!0);var n=vc.transition;vc.transition={};try{t(!1),e()}finally{ge=r,vc.transition=n}}function rx(){return ir().memoizedState}function OS(t,e,r){var n=jn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nx(t))ix(e,r);else if(r=Lv(t,e,r,n),r!==null){var i=vt();xr(r,t,n,i),sx(r,e,n)}}function NS(t,e,r){var n=jn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nx(t))ix(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,br(a,o)){var l=e.interleaved;l===null?(i.next=i,em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Lv(t,e,i,n),r!==null&&(i=vt(),xr(r,t,n,i),sx(r,e,n))}}function nx(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function ix(t,e){qo=Fu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Gp(t,r)}}var Bu={readContext:nr,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},FS={readContext:nr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:Xg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jl(4194308,4,Qv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jl(4,2,t,e)},useMemo:function(t,e){var r=Mr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=OS.bind(null,Ie,t),[n.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:Wg,useDebugValue:um,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=Wg(!1),e=t[0];return t=DS.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ie,i=Mr();if(Te){if(r===void 0)throw Error(U(407));r=r()}else{if(r=e(),Je===null)throw Error(U(349));Ni&30||Hv(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Xg(Vv.bind(null,n,s,t),[t]),n.flags|=2048,Sa(9,jv.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Mr(),e=Je.identifierPrefix;if(Te){var r=nn,n=rn;r=(n&~(1<<32-vr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ea++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=kS++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BS={readContext:nr,useCallback:Jv,useContext:nr,useEffect:lm,useImperativeHandle:Zv,useInsertionEffect:Kv,useLayoutEffect:qv,useMemo:ex,useReducer:xc,useRef:Yv,useState:function(){return xc(Ta)},useDebugValue:um,useDeferredValue:function(t){var e=ir();return tx(e,We.memoizedState,t)},useTransition:function(){var t=xc(Ta)[0],e=ir().memoizedState;return[t,e]},useMutableSource:zv,useSyncExternalStore:$v,useId:rx,unstable_isNewReconciler:!1},LS={readContext:nr,useCallback:Jv,useContext:nr,useEffect:lm,useImperativeHandle:Zv,useInsertionEffect:Kv,useLayoutEffect:qv,useMemo:ex,useReducer:wc,useRef:Yv,useState:function(){return wc(Ta)},useDebugValue:um,useDeferredValue:function(t){var e=ir();return We===null?e.memoizedState=t:tx(e,We.memoizedState,t)},useTransition:function(){var t=wc(Ta)[0],e=ir().memoizedState;return[t,e]},useMutableSource:zv,useSyncExternalStore:$v,useId:rx,unstable_isNewReconciler:!1};function fr(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ud(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ke({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=vt(),i=jn(t),s=ln(n,i);s.payload=e,r!=null&&(s.callback=r),e=$n(t,s,i),e!==null&&(xr(e,t,i,n),Ql(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=vt(),i=jn(t),s=ln(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=$n(t,s,i),e!==null&&(xr(e,t,i,n),Ql(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=vt(),n=jn(t),i=ln(r,n);i.tag=2,e!=null&&(i.callback=e),e=$n(t,i,n),e!==null&&(xr(e,t,n,r),Ql(e,t,n))}};function Yg(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!ga(r,n)||!ga(i,s):!0}function ox(t,e,r){var n=!1,i=Qn,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=At(e)?Di:yt.current,n=e.contextTypes,s=(n=n!=null)?js(t,i):Qn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function hd(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},tm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=At(e)?Di:yt.current,i.context=js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ud(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sh.enqueueReplaceState(i,i.state,null),Ou(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,e){try{var r="",n=e;do r+=fT(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ec(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function cd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var US=typeof WeakMap=="function"?WeakMap:Map;function ax(t,e,r){r=ln(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uu||(Uu=!0,wd=n),cd(t,e)},r}function lx(t,e,r){r=ln(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){cd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cd(t,e),typeof n!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function qg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new US;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JS.bind(null,t,e,r),e.then(t,t))}function Qg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zg(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ln(-1,1),e.tag=2,$n(r,e,1))),r.lanes|=1),t)}var GS=vn.ReactCurrentOwner,bt=!1;function _t(t,e,r,n){e.child=t===null?Bv(e,null,r,n):Ws(e,t.child,r,n)}function Jg(t,e,r,n,i){r=r.render;var s=e.ref;return Ms(e,i),n=om(t,e,r,n,s,i),r=am(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pn(t,e,i)):(Te&&r&&Yp(e),e.flags|=1,_t(t,e,n,i),e.child)}function ey(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ym(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ux(t,e,s,n,i)):(t=nu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ga,r(o,n)&&t.ref===e.ref)return pn(t,e,i)}return e.flags|=1,t=Vn(s,n),t.ref=e.ref,t.return=e,e.child=t}function ux(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ga(s,n)&&t.ref===e.ref)if(bt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,pn(t,e,i)}return fd(t,e,r,n,i)}function hx(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Es,Nt),Nt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Es,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xe(Es,Nt),Nt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xe(Es,Nt),Nt|=n;return _t(t,e,i,r),e.child}function cx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fd(t,e,r,n,i){var s=At(r)?Di:yt.current;return s=js(e,s),Ms(e,i),r=om(t,e,r,n,s,i),n=am(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pn(t,e,i)):(Te&&n&&Yp(e),e.flags|=1,_t(t,e,r,i),e.child)}function ty(t,e,r,n,i){if(At(r)){var s=!0;Ru(e)}else s=!1;if(Ms(e,i),e.stateNode===null)eu(t,e),ox(e,r,n),hd(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=At(r)?Di:yt.current,u=js(e,u));var h=r.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Kg(e,o,n,u),bn=!1;var f=e.memoizedState;o.state=f,Ou(e,n,o,i),l=e.memoizedState,a!==n||f!==l||Ct.current||bn?(typeof h=="function"&&(ud(e,r,h,n),l=e.memoizedState),(a=bn||Yg(e,r,a,n,f,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Uv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:fr(e.type,a),o.props=u,c=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=At(r)?Di:yt.current,l=js(e,l));var d=r.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&Kg(e,o,n,l),bn=!1,f=e.memoizedState,o.state=f,Ou(e,n,o,i);var p=e.memoizedState;a!==c||f!==p||Ct.current||bn?(typeof d=="function"&&(ud(e,r,d,n),p=e.memoizedState),(u=bn||Yg(e,r,u,n,f,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return dd(t,e,r,n,s,i)}function dd(t,e,r,n,i,s){cx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Gg(e,r,!1),pn(t,e,s);n=e.stateNode,GS.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ws(e,t.child,null,s),e.child=Ws(e,null,a,s)):_t(t,e,a,s),e.memoizedState=n.state,i&&Gg(e,r,!0),e.child}function fx(t){var e=t.stateNode;e.pendingContext?Ug(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ug(t,e.context,!1),rm(t,e.containerInfo)}function ry(t,e,r,n,i){return Vs(),qp(i),e.flags|=256,_t(t,e,r,n),e.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(t){return{baseLanes:t,cachePool:null,transitions:null}}function dx(t,e,r){var n=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Ce,i&1),t===null)return ad(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ah(o,n,0,null),t=Ai(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=md(r),e.memoizedState=pd,t):hm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zS(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Vn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vn(a,s):(s=Ai(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?md(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=pd,n}return s=t.child,t=s.sibling,n=Vn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hm(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,r,n){return n!==null&&qp(n),Ws(e,t.child,null,r),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zS(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Ec(Error(U(422))),yl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ah({mode:"visible",children:n.children},i,0,null),s=Ai(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ws(e,t.child,null,o),e.child.memoizedState=md(o),e.memoizedState=pd,s);if(!(e.mode&1))return yl(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(U(419)),n=Ec(s,n,void 0),yl(t,e,o,n)}if(a=(o&t.childLanes)!==0,bt||a){if(n=Je,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dn(t,i),xr(n,t,i,-1))}return gm(),n=Ec(Error(U(421))),yl(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Lt=zn(i.nextSibling),Ut=e,Te=!0,mr=null,t!==null&&(Yt[Kt++]=rn,Yt[Kt++]=nn,Yt[Kt++]=Oi,rn=t.id,nn=t.overflow,Oi=e),e=hm(e,n.children),e.flags|=4096,e)}function ny(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ld(t.return,e,r)}function Tc(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function px(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_t(t,e,n.children,r),n=Ce.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,r,e);else if(t.tag===19)ny(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xe(Ce,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Nu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Tc(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Tc(e,!0,r,null,s);break;case"together":Tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,r=Vn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $S(t,e,r){switch(e.tag){case 3:fx(e),Vs();break;case 5:Gv(e);break;case 1:At(e.type)&&Ru(e);break;case 4:rm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;xe(ku,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xe(Ce,Ce.current&1),e.flags|=128,null):r&e.child.childLanes?dx(t,e,r):(xe(Ce,Ce.current&1),t=pn(t,e,r),t!==null?t.sibling:null);xe(Ce,Ce.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return px(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Ce,Ce.current),n)break;return null;case 22:case 23:return e.lanes=0,hx(t,e,r)}return pn(t,e,r)}var mx,gd,gx,yx;mx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gd=function(){};gx=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ti(Ur.current);var s=null;switch(r){case"input":i=Lf(t,i),n=Lf(t,n),s=[];break;case"select":i=ke({},i,{value:void 0}),n=ke({},n,{value:void 0}),s=[];break;case"textarea":i=zf(t,i),n=zf(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Au)}Hf(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ua.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ua.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Eo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HS(t,e,r){var n=e.pendingProps;switch(Kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return At(e.type)&&Pu(),ht(e),null;case 3:return n=e.stateNode,Xs(),Ee(Ct),Ee(yt),im(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(Sd(mr),mr=null))),gd(t,e),ht(e),null;case 5:nm(e);var i=Ti(wa.current);if(r=e.type,t!==null&&e.stateNode!=null)gx(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(U(166));return ht(e),null}if(t=Ti(Ur.current),ml(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Nr]=e,n[va]=s,t=(e.mode&1)!==0,r){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(i=0;i<No.length;i++)we(No[i],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":fg(n,s),we("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},we("invalid",n);break;case"textarea":pg(n,s),we("invalid",n)}Hf(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(n.textContent,a,t),i=["children",""+a]):ua.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",n)}switch(r){case"input":ol(n),dg(n,s,!0);break;case"textarea":ol(n),mg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Au)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Nr]=e,t[va]=n,mx(t,e,!1,!1),e.stateNode=t;e:{switch(o=jf(r,n),r){case"dialog":we("cancel",t),we("close",t),i=n;break;case"iframe":case"object":case"embed":we("load",t),i=n;break;case"video":case"audio":for(i=0;i<No.length;i++)we(No[i],t);i=n;break;case"source":we("error",t),i=n;break;case"img":case"image":case"link":we("error",t),we("load",t),i=n;break;case"details":we("toggle",t),i=n;break;case"input":fg(t,n),i=Lf(t,n),we("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ke({},n,{value:void 0}),we("invalid",t);break;case"textarea":pg(t,n),i=zf(t,n),we("invalid",t);break;default:i=n}Hf(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W0(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ha(t,l):typeof l=="number"&&ha(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ua.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&Op(t,s,l,o))}switch(r){case"input":ol(t),dg(t,n,!1);break;case"textarea":ol(t),mg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?As(t,!!n.multiple,s,!1):n.defaultValue!=null&&As(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Au)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(U(166));if(r=Ti(wa.current),Ti(Ur.current),ml(e)){if(n=e.stateNode,r=e.memoizedProps,n[Nr]=e,(s=n.nodeValue!==r)&&(t=Ut,t!==null))switch(t.tag){case 3:pl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nr]=e,e.stateNode=n}return ht(e),null;case 13:if(Ee(Ce),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Lt!==null&&e.mode&1&&!(e.flags&128))Nv(),Vs(),e.flags|=98560,s=!1;else if(s=ml(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Nr]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),s=!1}else mr!==null&&(Sd(mr),mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ye===0&&(Ye=3):gm())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Xs(),gd(t,e),t===null&&ya(e.stateNode.containerInfo),ht(e),null;case 10:return Jp(e.type._context),ht(e),null;case 17:return At(e.type)&&Pu(),ht(e),null;case 19:if(Ee(Ce),s=e.memoizedState,s===null)return ht(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Eo(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nu(t),o!==null){for(e.flags|=128,Eo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xe(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>Ks&&(e.flags|=128,n=!0,Eo(s,!1),e.lanes=4194304)}else{if(!n)if(t=Nu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Eo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return ht(e),null}else 2*Ue()-s.renderingStartTime>Ks&&r!==1073741824&&(e.flags|=128,n=!0,Eo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,r=Ce.current,xe(Ce,n?r&1|2:r&1),e):(ht(e),null);case 22:case 23:return mm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Nt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function jS(t,e){switch(Kp(e),e.tag){case 1:return At(e.type)&&Pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xs(),Ee(Ct),Ee(yt),im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nm(e),null;case 13:if(Ee(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Ce),null;case 4:return Xs(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return mm(),null;case 24:return null;default:return null}}var _l=!1,ct=!1,VS=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ws(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(t,e,n)}else r.current=null}function yd(t,e,r){try{r()}catch(n){Ne(t,e,n)}}var iy=!1;function WS(t,e){if(ed=Su,t=Ev(),Xp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,h=0,c=t,f=null;t:for(;;){for(var d;c!==r||i!==0&&c.nodeType!==3||(a=o+i),c!==s||n!==0&&c.nodeType!==3||(l=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(d=c.firstChild)!==null;)f=c,c=d;for(;;){if(c===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++h===n&&(l=o),(d=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(td={focusedElem:t,selectionRange:r},Su=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:fr(e.type,m),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){Ne(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=iy,iy=!1,p}function Qo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yd(e,r,s)}i=i.next}while(i!==n)}}function bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _d(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _x(t){var e=t.alternate;e!==null&&(t.alternate=null,_x(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[va],delete e[id],delete e[PS],delete e[RS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vx(t){return t.tag===5||t.tag===3||t.tag===4}function sy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Au));else if(n!==4&&(t=t.child,t!==null))for(vd(t,e,r),t=t.sibling;t!==null;)vd(t,e,r),t=t.sibling}function xd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xd(t,e,r),t=t.sibling;t!==null;)xd(t,e,r),t=t.sibling}var rt=null,pr=!1;function En(t,e,r){for(r=r.child;r!==null;)xx(t,e,r),r=r.sibling}function xx(t,e,r){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(yh,r)}catch{}switch(r.tag){case 5:ct||ws(r,e);case 6:var n=rt,i=pr;rt=null,En(t,e,r),rt=n,pr=i,rt!==null&&(pr?(t=rt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(pr?(t=rt,r=r.stateNode,t.nodeType===8?gc(t.parentNode,r):t.nodeType===1&&gc(t,r),pa(t)):gc(rt,r.stateNode));break;case 4:n=rt,i=pr,rt=r.stateNode.containerInfo,pr=!0,En(t,e,r),rt=n,pr=i;break;case 0:case 11:case 14:case 15:if(!ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yd(r,e,o),i=i.next}while(i!==n)}En(t,e,r);break;case 1:if(!ct&&(ws(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ne(r,e,a)}En(t,e,r);break;case 21:En(t,e,r);break;case 22:r.mode&1?(ct=(n=ct)||r.memoizedState!==null,En(t,e,r),ct=n):En(t,e,r);break;default:En(t,e,r)}}function oy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new VS),e.forEach(function(n){var i=tb.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function or(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,pr=!1;break e;case 3:rt=a.stateNode.containerInfo,pr=!0;break e;case 4:rt=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(rt===null)throw Error(U(160));xx(s,o,i),rt=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wx(e,t),e=e.sibling}function wx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Ar(t),n&4){try{Qo(3,t,t.return),bh(3,t)}catch(m){Ne(t,t.return,m)}try{Qo(5,t,t.return)}catch(m){Ne(t,t.return,m)}}break;case 1:or(e,t),Ar(t),n&512&&r!==null&&ws(r,r.return);break;case 5:if(or(e,t),Ar(t),n&512&&r!==null&&ws(r,r.return),t.flags&32){var i=t.stateNode;try{ha(i,"")}catch(m){Ne(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H0(i,s),jf(a,o);var u=jf(a,s);for(o=0;o<l.length;o+=2){var h=l[o],c=l[o+1];h==="style"?Y0(i,c):h==="dangerouslySetInnerHTML"?W0(i,c):h==="children"?ha(i,c):Op(i,h,c,u)}switch(a){case"input":Uf(i,s);break;case"textarea":j0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?As(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?As(i,!!s.multiple,s.defaultValue,!0):As(i,!!s.multiple,s.multiple?[]:"",!1))}i[va]=s}catch(m){Ne(t,t.return,m)}}break;case 6:if(or(e,t),Ar(t),n&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ne(t,t.return,m)}}break;case 3:if(or(e,t),Ar(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pa(e.containerInfo)}catch(m){Ne(t,t.return,m)}break;case 4:or(e,t),Ar(t);break;case 13:or(e,t),Ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dm=Ue())),n&4&&oy(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(ct=(u=ct)||h,or(e,t),ct=u):or(e,t),Ar(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(c=Q=h;Q!==null;){switch(f=Q,d=f.child,f.tag){case 0:case 11:case 14:case 15:Qo(4,f,f.return);break;case 1:ws(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ne(n,r,m)}}break;case 5:ws(f,f.return);break;case 22:if(f.memoizedState!==null){ly(c);continue}}d!==null?(d.return=f,Q=d):ly(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X0("display",o))}catch(m){Ne(t,t.return,m)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){Ne(t,t.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:or(e,t),Ar(t),n&4&&oy(t);break;case 21:break;default:or(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vx(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ha(i,""),n.flags&=-33);var s=sy(t);xd(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=sy(t);vd(t,a,o);break;default:throw Error(U(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XS(t,e,r){Q=t,Ex(t)}function Ex(t,e,r){for(var n=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_l;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ct;a=_l;var u=ct;if(_l=o,(ct=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?uy(i):l!==null?(l.return=o,Q=l):uy(i);for(;s!==null;)Q=s,Ex(s),s=s.sibling;Q=i,_l=a,ct=u}ay(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):ay(t)}}function ay(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||bh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ct)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:fr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vg(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Vg(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&pa(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ct||e.flags&512&&_d(e)}catch(f){Ne(e,e.return,f)}}if(e===t){Q=null;break}if(r=e.sibling,r!==null){r.return=e.return,Q=r;break}Q=e.return}}function ly(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Q=r;break}Q=e.return}}function uy(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bh(4,e)}catch(l){Ne(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ne(e,i,l)}}var s=e.return;try{_d(e)}catch(l){Ne(e,s,l)}break;case 5:var o=e.return;try{_d(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var YS=Math.ceil,Lu=vn.ReactCurrentDispatcher,cm=vn.ReactCurrentOwner,rr=vn.ReactCurrentBatchConfig,pe=0,Je=null,He=null,at=0,Nt=0,Es=si(0),Ye=0,ba=null,Fi=0,Ch=0,fm=0,Zo=null,Tt=null,dm=0,Ks=1/0,Qr=null,Uu=!1,wd=null,Hn=null,vl=!1,In=null,Gu=0,Jo=0,Ed=null,tu=-1,ru=0;function vt(){return pe&6?Ue():tu!==-1?tu:tu=Ue()}function jn(t){return t.mode&1?pe&2&&at!==0?at&-at:MS.transition!==null?(ru===0&&(ru=ov()),ru):(t=ge,t!==0||(t=window.event,t=t===void 0?16:dv(t.type)),t):1}function xr(t,e,r,n){if(50<Jo)throw Jo=0,Ed=null,Error(U(185));$a(t,r,n),(!(pe&2)||t!==Je)&&(t===Je&&(!(pe&2)&&(Ch|=r),Ye===4&&An(t,at)),Pt(t,n),r===1&&pe===0&&!(e.mode&1)&&(Ks=Ue()+500,Eh&&oi()))}function Pt(t,e){var r=t.callbackNode;MT(t,e);var n=Tu(t,t===Je?at:0);if(n===0)r!==null&&_g(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&_g(r),e===1)t.tag===0?IS(hy.bind(null,t)):kv(hy.bind(null,t)),CS(function(){!(pe&6)&&oi()}),r=null;else{switch(av(n)){case 1:r=Up;break;case 4:r=iv;break;case 16:r=Eu;break;case 536870912:r=sv;break;default:r=Eu}r=Ix(r,Tx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Tx(t,e){if(tu=-1,ru=0,pe&6)throw Error(U(327));var r=t.callbackNode;if(ks()&&t.callbackNode!==r)return null;var n=Tu(t,t===Je?at:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=zu(t,n);else{e=n;var i=pe;pe|=2;var s=bx();(Je!==t||at!==e)&&(Qr=null,Ks=Ue()+500,Ci(t,e));do try{QS();break}catch(a){Sx(t,a)}while(!0);Zp(),Lu.current=s,pe=i,He!==null?e=0:(Je=null,at=0,e=Ye)}if(e!==0){if(e===2&&(i=Kf(t),i!==0&&(n=i,e=Td(t,i))),e===1)throw r=ba,Ci(t,0),An(t,n),Pt(t,Ue()),r;if(e===6)An(t,n);else{if(i=t.current.alternate,!(n&30)&&!KS(i)&&(e=zu(t,n),e===2&&(s=Kf(t),s!==0&&(n=s,e=Td(t,s))),e===1))throw r=ba,Ci(t,0),An(t,n),Pt(t,Ue()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(U(345));case 2:pi(t,Tt,Qr);break;case 3:if(An(t,n),(n&130023424)===n&&(e=dm+500-Ue(),10<e)){if(Tu(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nd(pi.bind(null,t,Tt,Qr),e);break}pi(t,Tt,Qr);break;case 4:if(An(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-vr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YS(n/1960))-n,10<n){t.timeoutHandle=nd(pi.bind(null,t,Tt,Qr),n);break}pi(t,Tt,Qr);break;case 5:pi(t,Tt,Qr);break;default:throw Error(U(329))}}}return Pt(t,Ue()),t.callbackNode===r?Tx.bind(null,t):null}function Td(t,e){var r=Zo;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=zu(t,e),t!==2&&(e=Tt,Tt=r,e!==null&&Sd(e)),t}function Sd(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function KS(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(t,e){for(e&=~fm,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vr(e),n=1<<r;t[r]=-1,e&=~n}}function hy(t){if(pe&6)throw Error(U(327));ks();var e=Tu(t,0);if(!(e&1))return Pt(t,Ue()),null;var r=zu(t,e);if(t.tag!==0&&r===2){var n=Kf(t);n!==0&&(e=n,r=Td(t,n))}if(r===1)throw r=ba,Ci(t,0),An(t,e),Pt(t,Ue()),r;if(r===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,Tt,Qr),Pt(t,Ue()),null}function pm(t,e){var r=pe;pe|=1;try{return t(e)}finally{pe=r,pe===0&&(Ks=Ue()+500,Eh&&oi())}}function Bi(t){In!==null&&In.tag===0&&!(pe&6)&&ks();var e=pe;pe|=1;var r=rr.transition,n=ge;try{if(rr.transition=null,ge=1,t)return t()}finally{ge=n,rr.transition=r,pe=e,!(pe&6)&&oi()}}function mm(){Nt=Es.current,Ee(Es)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,bS(r)),He!==null)for(r=He.return;r!==null;){var n=r;switch(Kp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pu();break;case 3:Xs(),Ee(Ct),Ee(yt),im();break;case 5:nm(n);break;case 4:Xs();break;case 13:Ee(Ce);break;case 19:Ee(Ce);break;case 10:Jp(n.type._context);break;case 22:case 23:mm()}r=r.return}if(Je=t,He=t=Vn(t.current,null),at=Nt=e,Ye=0,ba=null,fm=Ch=Fi=0,Tt=Zo=null,Ei!==null){for(e=0;e<Ei.length;e++)if(r=Ei[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ei=null}return t}function Sx(t,e){do{var r=He;try{if(Zp(),Zl.current=Bu,Fu){for(var n=Ie.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Fu=!1}if(Ni=0,Qe=We=Ie=null,qo=!1,Ea=0,cm.current=null,r===null||r.return===null){Ye=1,ba=e,He=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=Qg(o);if(d!==null){d.flags&=-257,Zg(d,o,a,s,e),d.mode&1&&qg(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){qg(s,u,e),gm();break e}l=Error(U(426))}}else if(Te&&a.mode&1){var v=Qg(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Zg(v,o,a,s,e),qp(Ys(l,a));break e}}s=l=Ys(l,a),Ye!==4&&(Ye=2),Zo===null?Zo=[s]:Zo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=ax(s,l,e);jg(s,_);break e;case 1:a=l;var y=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hn===null||!Hn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=lx(s,a,e);jg(s,x);break e}}s=s.return}while(s!==null)}Ax(r)}catch(w){e=w,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function bx(){var t=Lu.current;return Lu.current=Bu,t===null?Bu:t}function gm(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||!(Fi&268435455)&&!(Ch&268435455)||An(Je,at)}function zu(t,e){var r=pe;pe|=2;var n=bx();(Je!==t||at!==e)&&(Qr=null,Ci(t,e));do try{qS();break}catch(i){Sx(t,i)}while(!0);if(Zp(),pe=r,Lu.current=n,He!==null)throw Error(U(261));return Je=null,at=0,Ye}function qS(){for(;He!==null;)Cx(He)}function QS(){for(;He!==null&&!ET();)Cx(He)}function Cx(t){var e=Rx(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?Ax(t):He=e,cm.current=null}function Ax(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jS(r,e),r!==null){r.flags&=32767,He=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,He=null;return}}else if(r=HS(r,e,Nt),r!==null){He=r;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ye===0&&(Ye=5)}function pi(t,e,r){var n=ge,i=rr.transition;try{rr.transition=null,ge=1,ZS(t,e,r,n)}finally{rr.transition=i,ge=n}return null}function ZS(t,e,r,n){do ks();while(In!==null);if(pe&6)throw Error(U(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(kT(t,s),t===Je&&(He=Je=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vl||(vl=!0,Ix(Eu,function(){return ks(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var o=ge;ge=1;var a=pe;pe|=4,cm.current=null,WS(t,r),wx(r,t),_S(td),Su=!!ed,td=ed=null,t.current=r,XS(r),TT(),pe=a,ge=o,rr.transition=s}else t.current=r;if(vl&&(vl=!1,In=t,Gu=i),s=t.pendingLanes,s===0&&(Hn=null),CT(r.stateNode),Pt(t,Ue()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uu)throw Uu=!1,t=wd,wd=null,t;return Gu&1&&t.tag!==0&&ks(),s=t.pendingLanes,s&1?t===Ed?Jo++:(Jo=0,Ed=t):Jo=0,oi(),null}function ks(){if(In!==null){var t=av(Gu),e=rr.transition,r=ge;try{if(rr.transition=null,ge=16>t?16:t,In===null)var n=!1;else{if(t=In,In=null,Gu=0,pe&6)throw Error(U(331));var i=pe;for(pe|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Qo(8,h,s)}var c=h.child;if(c!==null)c.return=h,Q=c;else for(;Q!==null;){h=Q;var f=h.sibling,d=h.return;if(_x(h),h===u){Q=null;break}if(f!==null){f.return=d,Q=f;break}Q=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qo(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Q=g;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bh(9,a)}}catch(w){Ne(a,a.return,w)}if(a===o){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(pe=i,oi(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(yh,t)}catch{}n=!0}return n}finally{ge=r,rr.transition=e}}return!1}function cy(t,e,r){e=Ys(r,e),e=ax(t,e,1),t=$n(t,e,1),e=vt(),t!==null&&($a(t,1,e),Pt(t,e))}function Ne(t,e,r){if(t.tag===3)cy(t,t,r);else for(;e!==null;){if(e.tag===3){cy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hn===null||!Hn.has(n))){t=Ys(r,t),t=lx(e,t,1),e=$n(e,t,1),t=vt(),e!==null&&($a(e,1,t),Pt(e,t));break}}e=e.return}}function JS(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&r,Je===t&&(at&r)===r&&(Ye===4||Ye===3&&(at&130023424)===at&&500>Ue()-dm?Ci(t,0):fm|=r),Pt(t,e)}function Px(t,e){e===0&&(t.mode&1?(e=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):e=1);var r=vt();t=dn(t,e),t!==null&&($a(t,e,r),Pt(t,r))}function eb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Px(t,r)}function tb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(e),Px(t,r)}var Rx;Rx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)bt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bt=!1,$S(t,e,r);bt=!!(t.flags&131072)}else bt=!1,Te&&e.flags&1048576&&Dv(e,Mu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;eu(t,e),t=e.pendingProps;var i=js(e,yt.current);Ms(e,r),i=om(null,e,n,t,i,r);var s=am();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(n)?(s=!0,Ru(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tm(e),i.updater=Sh,e.stateNode=i,i._reactInternals=e,hd(e,n,t,r),e=dd(null,e,n,!0,s,r)):(e.tag=0,Te&&s&&Yp(e),_t(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=nb(n),t=fr(n,t),i){case 0:e=fd(null,e,n,t,r);break e;case 1:e=ty(null,e,n,t,r);break e;case 11:e=Jg(null,e,n,t,r);break e;case 14:e=ey(null,e,n,fr(n.type,t),r);break e}throw Error(U(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fr(n,i),fd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fr(n,i),ty(t,e,n,i,r);case 3:e:{if(fx(e),t===null)throw Error(U(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Uv(t,e),Ou(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ys(Error(U(423)),e),e=ry(t,e,n,r,i);break e}else if(n!==i){i=Ys(Error(U(424)),e),e=ry(t,e,n,r,i);break e}else for(Lt=zn(e.stateNode.containerInfo.firstChild),Ut=e,Te=!0,mr=null,r=Bv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vs(),n===i){e=pn(t,e,r);break e}_t(t,e,n,r)}e=e.child}return e;case 5:return Gv(e),t===null&&ad(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rd(n,i)?o=null:s!==null&&rd(n,s)&&(e.flags|=32),cx(t,e),_t(t,e,o,r),e.child;case 6:return t===null&&ad(e),null;case 13:return dx(t,e,r);case 4:return rm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ws(e,null,n,r):_t(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fr(n,i),Jg(t,e,n,i,r);case 7:return _t(t,e,e.pendingProps,r),e.child;case 8:return _t(t,e,e.pendingProps.children,r),e.child;case 12:return _t(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(ku,n._currentValue),n._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!Ct.current){e=pn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ln(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),ld(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ld(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_t(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ms(e,r),i=nr(i),n=n(i),e.flags|=1,_t(t,e,n,r),e.child;case 14:return n=e.type,i=fr(n,e.pendingProps),i=fr(n.type,i),ey(t,e,n,i,r);case 15:return ux(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fr(n,i),eu(t,e),e.tag=1,At(n)?(t=!0,Ru(e)):t=!1,Ms(e,r),ox(e,n,i),hd(e,n,i,r),dd(null,e,n,!0,t,r);case 19:return px(t,e,r);case 22:return hx(t,e,r)}throw Error(U(156,e.tag))};function Ix(t,e){return nv(t,e)}function rb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,r,n){return new rb(t,e,r,n)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nb(t){if(typeof t=="function")return ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fp)return 11;if(t===Bp)return 14}return 2}function Vn(t,e){var r=t.alternate;return r===null?(r=qt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function nu(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")ym(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fs:return Ai(r.children,i,s,e);case Np:o=8,i|=8;break;case Of:return t=qt(12,r,e,i|2),t.elementType=Of,t.lanes=s,t;case Nf:return t=qt(13,r,e,i),t.elementType=Nf,t.lanes=s,t;case Ff:return t=qt(19,r,e,i),t.elementType=Ff,t.lanes=s,t;case G0:return Ah(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L0:o=10;break e;case U0:o=9;break e;case Fp:o=11;break e;case Bp:o=14;break e;case Sn:o=16,n=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=qt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ai(t,e,r,n){return t=qt(7,t,n,e),t.lanes=r,t}function Ah(t,e,r,n){return t=qt(22,t,n,e),t.elementType=G0,t.lanes=r,t.stateNode={isHidden:!1},t}function Sc(t,e,r){return t=qt(6,t,null,e),t.lanes=r,t}function bc(t,e,r){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ib(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sc(0),this.expirationTimes=sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _m(t,e,r,n,i,s,o,a,l){return t=new ib(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tm(s),t}function sb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Mx(t){if(!t)return Qn;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var r=t.type;if(At(r))return Mv(t,r,e)}return e}function kx(t,e,r,n,i,s,o,a,l){return t=_m(r,n,!0,t,i,s,o,a,l),t.context=Mx(null),r=t.current,n=vt(),i=jn(r),s=ln(n,i),s.callback=e??null,$n(r,s,i),t.current.lanes=i,$a(t,i,n),Pt(t,n),t}function Ph(t,e,r,n){var i=e.current,s=vt(),o=jn(i);return r=Mx(r),e.context===null?e.context=r:e.pendingContext=r,e=ln(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$n(i,e,o),t!==null&&(xr(t,i,o,s),Ql(t,i,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vm(t,e){fy(t,e),(t=t.alternate)&&fy(t,e)}function ob(){return null}var Dx=typeof reportError=="function"?reportError:function(t){console.error(t)};function xm(t){this._internalRoot=t}Rh.prototype.render=xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ph(t,e,null,null)};Rh.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bi(function(){Ph(null,t,null,null)}),e[fn]=null}};function Rh(t){this._internalRoot=t}Rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=hv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cn.length&&e!==0&&e<Cn[r].priority;r++);Cn.splice(r,0,t),r===0&&fv(t)}};function wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dy(){}function ab(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=$u(o);s.call(u)}}var o=kx(e,n,t,0,null,!1,!1,"",dy);return t._reactRootContainer=o,t[fn]=o.current,ya(t.nodeType===8?t.parentNode:t),Bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=$u(l);a.call(u)}}var l=_m(t,0,!1,null,null,!1,!1,"",dy);return t._reactRootContainer=l,t[fn]=l.current,ya(t.nodeType===8?t.parentNode:t),Bi(function(){Ph(e,l,r,n)}),l}function Mh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$u(o);a.call(l)}}Ph(e,o,t,i)}else o=ab(r,e,t,i,n);return $u(o)}lv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Oo(e.pendingLanes);r!==0&&(Gp(e,r|1),Pt(e,Ue()),!(pe&6)&&(Ks=Ue()+500,oi()))}break;case 13:Bi(function(){var n=dn(t,1);if(n!==null){var i=vt();xr(n,t,1,i)}}),vm(t,1)}};zp=function(t){if(t.tag===13){var e=dn(t,134217728);if(e!==null){var r=vt();xr(e,t,134217728,r)}vm(t,134217728)}};uv=function(t){if(t.tag===13){var e=jn(t),r=dn(t,e);if(r!==null){var n=vt();xr(r,t,e,n)}vm(t,e)}};hv=function(){return ge};cv=function(t,e){var r=ge;try{return ge=t,e()}finally{ge=r}};Wf=function(t,e,r){switch(e){case"input":if(Uf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=wh(n);if(!i)throw Error(U(90));$0(n),Uf(n,i)}}}break;case"textarea":j0(t,r);break;case"select":e=r.value,e!=null&&As(t,!!r.multiple,e,!1)}};Q0=pm;Z0=Bi;var lb={usingClientEntryPoint:!1,Events:[ja,gs,wh,K0,q0,pm]},To={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ub={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tv(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||ob,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{yh=xl.inject(ub),Lr=xl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;jt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(e))throw Error(U(200));return sb(t,e,null,r)};jt.createRoot=function(t,e){if(!wm(t))throw Error(U(299));var r=!1,n="",i=Dx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_m(t,1,!1,null,null,r,!1,n,i),t[fn]=e.current,ya(t.nodeType===8?t.parentNode:t),new xm(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=tv(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return Bi(t)};jt.hydrate=function(t,e,r){if(!Ih(e))throw Error(U(200));return Mh(null,t,e,!0,r)};jt.hydrateRoot=function(t,e,r){if(!wm(t))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Dx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=kx(e,null,t,1,r??null,i,!1,s,o),t[fn]=e.current,ya(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Rh(e)};jt.render=function(t,e,r){if(!Ih(e))throw Error(U(200));return Mh(null,t,e,!1,r)};jt.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(U(40));return t._reactRootContainer?(Bi(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[fn]=null})}),!0):!1};jt.unstable_batchedUpdates=pm;jt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ih(r))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Mh(t,e,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function Ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ox)}catch(t){console.error(t)}}Ox(),O0.exports=jt;var hb=O0.exports,py=hb;kf.createRoot=py.createRoot,kf.hydrateRoot=py.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var my="popstate";function cb(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return bd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ca(i)}return db(e,r,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fb(){return Math.random().toString(36).substring(2,10)}function gy(t,e){return{usr:t.state,key:t.key,idx:e}}function bd(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:r,key:e&&e.key||n||fb()}}function Ca({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ho(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function db(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function c(){a="POP";let v=h(),_=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:_})}function f(v,_){a="PUSH";let y=bd(m.location,v,_);u=h()+1;let g=gy(y,u),x=m.createHref(y);try{o.pushState(g,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}s&&l&&l({action:a,location:m.location,delta:1})}function d(v,_){a="REPLACE";let y=bd(m.location,v,_);u=h();let g=gy(y,u),x=m.createHref(y);o.replaceState(g,"",x),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){return pb(v)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(my,c),l=v,()=>{i.removeEventListener(my,c),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:d,go(v){return o.go(v)}};return m}function pb(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Me(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ca(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Nx(t,e,r="/"){return mb(t,e,r,!1)}function mb(t,e,r,n){let i=typeof e=="string"?ho(e):e,s=mn(i.pathname||"/",r);if(s==null)return null;let o=Fx(t);gb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Ab(s);a=bb(o[l],u,n)}return a}function Fx(t,e=[],r=[],n=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=un([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Fx(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Tb(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Bx(s.path))i(s,o,l)}),e}function Bx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Bx(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function gb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Sb(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var yb=/^:[\w-]+$/,_b=3,vb=2,xb=1,wb=10,Eb=-2,yy=t=>t==="*";function Tb(t,e){let r=t.split("/"),n=r.length;return r.some(yy)&&(n+=Eb),e&&(n+=vb),r.filter(i=>!yy(i)).reduce((i,s)=>i+(yb.test(s)?_b:s===""?xb:wb),n)}function Sb(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function bb(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",c=Hu({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!c&&u&&r&&!n[n.length-1].route.index&&(c=Hu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:un([s,c.pathname]),pathnameBase:Mb(un([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=un([s,c.pathnameBase]))}return o}function Hu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Cb(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:c},f)=>{if(h==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const d=a[f];return c&&!d?u[h]=void 0:u[h]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Cb(t,e=!1,r=!0){Hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Ab(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Pb(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ho(t):t;return{pathname:r?r.startsWith("/")?r:Rb(r,e):e,search:kb(n),hash:Db(i)}}function Rb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Cc(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ib(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Lx(t){let e=Ib(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Ux(t,e,r,n=!1){let i;typeof t=="string"?i=ho(t):(i={...t},Me(!i.pathname||!i.pathname.includes("?"),Cc("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Cc("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Cc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let c=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=Pb(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var un=t=>t.join("/").replace(/\/\/+/g,"/"),Mb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Db=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ob(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gx=["POST","PUT","PATCH","DELETE"];new Set(Gx);var Nb=["GET",...Gx];new Set(Nb);var co=D.createContext(null);co.displayName="DataRouter";var kh=D.createContext(null);kh.displayName="DataRouterState";D.createContext(!1);var zx=D.createContext({isTransitioning:!1});zx.displayName="ViewTransition";var Fb=D.createContext(new Map);Fb.displayName="Fetchers";var Bb=D.createContext(null);Bb.displayName="Await";var Wr=D.createContext(null);Wr.displayName="Navigation";var Wa=D.createContext(null);Wa.displayName="Location";var xn=D.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Em=D.createContext(null);Em.displayName="RouteError";function Lb(t,{relative:e}={}){Me(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(Wr),{hash:i,pathname:s,search:o}=Ya(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:un([r,s])),n.createHref({pathname:a,search:o,hash:i})}function Xa(){return D.useContext(Wa)!=null}function Vi(){return Me(Xa(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Wa).location}var $x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(t){D.useContext(Wr).static||D.useLayoutEffect(t)}function Ub(){let{isDataRoute:t}=D.useContext(xn);return t?Zb():Gb()}function Gb(){Me(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(co),{basename:e,navigator:r}=D.useContext(Wr),{matches:n}=D.useContext(xn),{pathname:i}=Vi(),s=JSON.stringify(Lx(n)),o=D.useRef(!1);return Hx(()=>{o.current=!0}),D.useCallback((l,u={})=>{if(Hr(o.current,$x),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=Ux(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:un([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,s,i,t])}D.createContext(null);function Ya(t,{relative:e}={}){let{matches:r}=D.useContext(xn),{pathname:n}=Vi(),i=JSON.stringify(Lx(r));return D.useMemo(()=>Ux(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function zb(t,e){return jx(t,e)}function jx(t,e,r,n){var _;Me(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(Wr),{matches:s}=D.useContext(xn),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let y=h&&h.path||"";Vx(l,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let c=Vi(),f;if(e){let y=typeof e=="string"?ho(e):e;Me(u==="/"||((_=y.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=c;let d=f.pathname||"/",p=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Nx(t,{pathname:p});Hr(h||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Hr(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Wb(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:un([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:un([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&v?D.createElement(Wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function $b(){let t=Qb(),e=Ob(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,o)}var Hb=D.createElement($b,null),jb=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(xn.Provider,{value:this.props.routeContext},D.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vb({routeContext:t,match:e,children:r}){let n=D.useContext(co);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(xn.Provider,{value:t},r)}function Wb(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Me(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:c}=r,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!c||c[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,h)=>{let c,f=!1,d=null,p=null;r&&(c=s&&u.route.id?s[u.route.id]:void 0,d=u.route.errorElement||Hb,o&&(a<0&&h===0?(Vx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):a===h&&(f=!0,p=u.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,h+1)),v=()=>{let _;return c?_=d:f?_=p:u.route.Component?_=D.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,D.createElement(Vb,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?D.createElement(jb,{location:r.location,revalidation:r.revalidation,component:d,error:c,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function Tm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(t){let e=D.useContext(co);return Me(e,Tm(t)),e}function Yb(t){let e=D.useContext(kh);return Me(e,Tm(t)),e}function Kb(t){let e=D.useContext(xn);return Me(e,Tm(t)),e}function Sm(t){let e=Kb(t),r=e.matches[e.matches.length-1];return Me(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function qb(){return Sm("useRouteId")}function Qb(){var n;let t=D.useContext(Em),e=Yb("useRouteError"),r=Sm("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Zb(){let{router:t}=Xb("useNavigate"),e=Sm("useNavigate"),r=D.useRef(!1);return Hx(()=>{r.current=!0}),D.useCallback(async(i,s={})=>{Hr(r.current,$x),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var _y={};function Vx(t,e,r){!e&&!_y[t]&&(_y[t]=!0,Hr(!1,r))}D.memo(Jb);function Jb({routes:t,future:e,state:r}){return jx(t,void 0,r,e)}function Fo(t){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eC({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Me(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=ho(r));let{pathname:l="/",search:u="",hash:h="",state:c=null,key:f="default"}=r,d=D.useMemo(()=>{let p=mn(l,o);return p==null?null:{location:{pathname:p,search:u,hash:h,state:c,key:f},navigationType:n}},[o,l,u,h,c,f,n]);return Hr(d!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:D.createElement(Wr.Provider,{value:a},D.createElement(Wa.Provider,{children:e,value:d}))}function tC({children:t,location:e}){return zb(Cd(t),e)}function Cd(t,e=[]){let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let s=[...e,i];if(n.type===D.Fragment){r.push.apply(r,Cd(n.props.children,s));return}Me(n.type===Fo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Cd(n.props.children,s)),r.push(o)}),r}var iu="get",su="application/x-www-form-urlencoded";function Dh(t){return t!=null&&typeof t.tagName=="string"}function rC(t){return Dh(t)&&t.tagName.toLowerCase()==="button"}function nC(t){return Dh(t)&&t.tagName.toLowerCase()==="form"}function iC(t){return Dh(t)&&t.tagName.toLowerCase()==="input"}function sC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oC(t,e){return t.button===0&&(!e||e==="_self")&&!sC(t)}var wl=null;function aC(){if(wl===null)try{new FormData(document.createElement("form"),0),wl=!1}catch{wl=!0}return wl}var lC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ac(t){return t!=null&&!lC.has(t)?(Hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):t}function uC(t,e){let r,n,i,s,o;if(nC(t)){let a=t.getAttribute("action");n=a?mn(a,e):null,r=t.getAttribute("method")||iu,i=Ac(t.getAttribute("enctype"))||su,s=new FormData(t)}else if(rC(t)||iC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?mn(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||iu,i=Ac(t.getAttribute("formenctype"))||Ac(a.getAttribute("enctype"))||su,s=new FormData(a,t),!aC()){let{name:u,type:h,value:c}=t;if(h==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,c)}}else{if(Dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=iu,n=null,i=su,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hC(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&mn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function cC(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dC(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await cC(s,r);return o.links?o.links():[]}return[]}));return yC(n.flat(1).filter(fC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vy(t,e,r,n,i,s){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var h;return r[u].pathname!==l.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var c;let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((c=r[0])==null?void 0:c.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function pC(t,e,{includeHydrateFallback:r}={}){return mC(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function mC(t){return[...new Set(t)]}function gC(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function yC(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(gC(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function Wx(){let t=D.useContext(co);return bm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _C(){let t=D.useContext(kh);return bm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cm=D.createContext(void 0);Cm.displayName="FrameworkContext";function Xx(){let t=D.useContext(Cm);return bm(t,"You must render this element inside a <HydratedRouter> element"),t}function vC(t,e){let r=D.useContext(Cm),[n,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:c}=e,f=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=_=>{_.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[t]),D.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let d=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,f,{}]:[s,f,{onFocus:So(a,d),onBlur:So(l,p),onMouseEnter:So(u,d),onMouseLeave:So(h,p),onTouchStart:So(c,d)}]:[!1,f,{}]}function So(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function xC({page:t,...e}){let{router:r}=Wx(),n=D.useMemo(()=>Nx(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?D.createElement(EC,{page:t,matches:n,...e}):null}function wC(t){let{manifest:e,routeModules:r}=Xx(),[n,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return dC(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function EC({page:t,matches:e,...r}){let n=Vi(),{manifest:i,routeModules:s}=Xx(),{basename:o}=Wx(),{loaderData:a,matches:l}=_C(),u=D.useMemo(()=>vy(t,e,l,i,n,"data"),[t,e,l,i,n]),h=D.useMemo(()=>vy(t,e,l,i,n,"assets"),[t,e,l,i,n]),c=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let p=new Set,m=!1;if(e.forEach(_=>{var g;let y=i.routes[_.route.id];!y||!y.hasLoader||(!u.some(x=>x.route.id===_.route.id)&&_.route.id in a&&((g=s[_.route.id])!=null&&g.shouldRevalidate)||y.hasClientLoader?m=!0:p.add(_.route.id))}),p.size===0)return[];let v=hC(t,o,"data");return m&&p.size>0&&v.searchParams.set("_routes",e.filter(_=>p.has(_.route.id)).map(_=>_.route.id).join(",")),[v.pathname+v.search]},[o,a,n,i,u,e,t,s]),f=D.useMemo(()=>pC(h,i),[h,i]),d=wC(h);return D.createElement(D.Fragment,null,c.map(p=>D.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),f.map(p=>D.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),d.map(({key:p,link:m})=>D.createElement("link",{key:p,...m})))}function TC(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yx&&(window.__reactRouterVersion="7.7.1")}catch{}function SC({basename:t,children:e,window:r}){let n=D.useRef();n.current==null&&(n.current=cb({window:r,v5Compat:!0}));let i=n.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(eC,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zn=D.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:c,...f},d){let{basename:p}=D.useContext(Wr),m=typeof u=="string"&&Kx.test(u),v,_=!1;if(typeof u=="string"&&m&&(v=u,Yx))try{let S=new URL(window.location.href),A=u.startsWith("//")?new URL(S.protocol+u):new URL(u),k=mn(A.pathname,p);A.origin===S.origin&&k!=null?u=k+A.search+A.hash:_=!0}catch{Hr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Lb(u,{relative:i}),[g,x,w]=vC(n,f),b=PC(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:c});function T(S){e&&e(S),S.defaultPrevented||b(S)}let E=D.createElement("a",{...f,...w,href:v||y,onClick:_||s?e:T,ref:TC(d,x),target:l,"data-discover":!m&&r==="render"?"true":void 0});return g&&!m?D.createElement(D.Fragment,null,E,D.createElement(xC,{page:y})):E});Zn.displayName="Link";var bC=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let c=Ya(o,{relative:u.relative}),f=Vi(),d=D.useContext(kh),{navigator:p,basename:m}=D.useContext(Wr),v=d!=null&&DC(c)&&a===!0,_=p.encodeLocation?p.encodeLocation(c).pathname:c.pathname,y=f.pathname,g=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(y=y.toLowerCase(),g=g?g.toLowerCase():null,_=_.toLowerCase()),g&&m&&(g=mn(g,m)||g);const x=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let w=y===_||!i&&y.startsWith(_)&&y.charAt(x)==="/",b=g!=null&&(g===_||!i&&g.startsWith(_)&&g.charAt(_.length)==="/"),T={isActive:w,isPending:b,isTransitioning:v},E=w?e:void 0,S;typeof n=="function"?S=n(T):S=[n,w?"active":null,b?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(T):s;return D.createElement(Zn,{...u,"aria-current":E,className:S,ref:h,style:A,to:o,viewTransition:a},typeof l=="function"?l(T):l)});bC.displayName="NavLink";var CC=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=iu,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:c,...f},d)=>{let p=MC(),m=kC(a,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&Kx.test(a),y=g=>{if(l&&l(g),g.defaultPrevented)return;g.preventDefault();let x=g.nativeEvent.submitter,w=(x==null?void 0:x.getAttribute("formmethod"))||o;p(x||g.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:c})};return D.createElement("form",{ref:d,method:v,action:m,onSubmit:n?l:y,...f,"data-discover":!_&&t==="render"?"true":void 0})});CC.displayName="Form";function AC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qx(t){let e=D.useContext(co);return Me(e,AC(t)),e}function PC(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ub(),l=Vi(),u=Ya(t,{relative:s});return D.useCallback(h=>{if(oC(h,e)){h.preventDefault();let c=r!==void 0?r:Ca(l)===Ca(u);a(t,{replace:c,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,r,n,e,t,i,s,o])}var RC=0,IC=()=>`__${String(++RC)}__`;function MC(){let{router:t}=qx("useSubmit"),{basename:e}=D.useContext(Wr),r=qb();return D.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=uC(n,e);if(i.navigate===!1){let h=i.fetcherKey||IC();await t.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function kC(t,{relative:e}={}){let{basename:r}=D.useContext(Wr),n=D.useContext(xn);Me(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Ya(t||".",{relative:e})},o=Vi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(c=>c).forEach(c=>a.append("index",c));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:un([r,s.pathname])),Ca(s)}function DC(t,{relative:e}={}){let r=D.useContext(zx);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=qx("useViewTransitionState"),i=Ya(t,{relative:e});if(!r.isTransitioning)return!1;let s=mn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=mn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hu(i.pathname,o)!=null||Hu(i.pathname,s)!=null}var Qx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xy=Bn.createContext&&Bn.createContext(Qx),OC=["attr","size","title"];function NC(t,e){if(t==null)return{};var r=FC(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FC(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ju.apply(this,arguments)}function wy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(r),!0).forEach(function(n){BC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BC(t,e,r){return e=LC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LC(t){var e=UC(t,"string");return typeof e=="symbol"?e:e+""}function UC(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zx(t){return t&&t.map((e,r)=>Bn.createElement(e.tag,Vu({key:r},e.attr),Zx(e.child)))}function GC(t){return e=>Bn.createElement(zC,ju({attr:Vu({},t.attr)},e),Zx(t.child))}function zC(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=NC(t,OC),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Bn.createElement("svg",ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Vu(Vu({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Bn.createElement("title",null,s),t.children)};return xy!==void 0?Bn.createElement(xy.Consumer,null,r=>e(r)):e(Qx)}function $C(t){return GC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m268 112 144 144-144 144m124-144H100"},child:[]}]})(t)}const HC=()=>L.jsxs("div",{className:"app-buttons",children:[L.jsxs(Zn,{to:"/game",className:"app-button app-button-play ",children:[L.jsx("span",{className:"app-button-text",children:"Играть"}),L.jsx($C,{className:"app-button-icon"})]}),L.jsx(Zn,{to:"/settings",className:"app-button app-button-settings",children:L.jsx("span",{className:"app-button-text",children:"Настойки"})})]}),jC=()=>L.jsx("div",{className:"app-descr",children:L.jsxs("div",{className:"app-descr-wrapper",children:[L.jsx("h2",{className:"app-descr-title",children:"PointGem"}),L.jsx("p",{className:"app-descr-text",children:"Собирай космические кристаллы и соревнуйся с друзьями! Каждое сокровище делает тебя ближе к званию Галактического Коллекционера."}),L.jsxs("div",{className:"app-descr-block",children:[L.jsx("div",{className:"app-descr-pulse"}),L.jsx("span",{className:"app-descr-number",children:"1,247"}),L.jsx("span",{className:"app-descr-label",children:"в игре"})]})]})}),VC=()=>L.jsxs(L.Fragment,{children:[L.jsx(jC,{}),L.jsx(HC,{})]});var Wi=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Wi||{}),Jx=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Jx||{}),Ad=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Ad||{}),ne=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ne||{}),Br=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Br||{}),$=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))($||{}),Ds=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Ds||{}),re=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(re||{}),Pd=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Pd||{}),sn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(sn||{}),Wn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Wn||{}),jr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(jr||{}),Cr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Cr||{}),Dr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Dr||{}),Am=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Am||{}),Qt=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Qt||{}),Ve=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ve||{}),ze=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(ze||{}),Gr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Gr||{});const WC={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Y={ADAPTER:WC,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Pc=/iPhone/i,Ey=/iPod/i,Ty=/iPad/i,Sy=/\biOS-universal(?:.+)Mac\b/i,Rc=/\bAndroid(?:.+)Mobile\b/i,by=/Android/i,Ji=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,El=/Silk/i,Yr=/Windows Phone/i,Cy=/\bWindows(?:.+)ARM\b/i,Ay=/BlackBerry/i,Py=/BB10/i,Ry=/Opera Mini/i,Iy=/\b(CriOS|Chrome)(?:.+)Mobile/i,My=/Mobile(?:.+)Firefox\b/i,ky=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function XC(t){return function(e){return e.test(t)}}function Dy(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=XC(r),s={apple:{phone:i(Pc)&&!i(Yr),ipod:i(Ey),tablet:!i(Pc)&&(i(Ty)||ky(e))&&!i(Yr),universal:i(Sy),device:(i(Pc)||i(Ey)||i(Ty)||i(Sy)||ky(e))&&!i(Yr)},amazon:{phone:i(Ji),tablet:!i(Ji)&&i(El),device:i(Ji)||i(El)},android:{phone:!i(Yr)&&i(Ji)||!i(Yr)&&i(Rc),tablet:!i(Yr)&&!i(Ji)&&!i(Rc)&&(i(El)||i(by)),device:!i(Yr)&&(i(Ji)||i(El)||i(Rc)||i(by))||i(/\bokhttp\b/i)},windows:{phone:i(Yr),tablet:i(Cy),device:i(Yr)||i(Cy)},other:{blackberry:i(Ay),blackberry10:i(Py),opera:i(Ry),firefox:i(My),chrome:i(Iy),device:i(Ay)||i(Py)||i(Ry)||i(My)||i(Iy)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const YC=Dy.default??Dy,on=YC(globalThis.navigator);Y.RETINA_PREFIX=/@([0-9\.]+)x/;Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var e1={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function s(l,u,h,c,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,c||l,f),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,c;if(this._eventsCount===0)return u;for(c in h=this._events)e.call(h,c)&&u.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=r?r+u:u,c=this._events[h];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,d=c.length,p=new Array(d);f<d;f++)p[f]=c[f].fn;return p},a.prototype.listenerCount=function(u){var h=r?r+u:u,c=this._events[h];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,h,c,f,d,p){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],_=arguments.length,y,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,c),!0;case 4:return v.fn.call(v.context,h,c,f),!0;case 5:return v.fn.call(v.context,h,c,f,d),!0;case 6:return v.fn.call(v.context,h,c,f,d,p),!0}for(g=1,y=new Array(_-1);g<_;g++)y[g-1]=arguments[g];v.fn.apply(v.context,y)}else{var x=v.length,w;for(g=0;g<x;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,h);break;case 3:v[g].fn.call(v[g].context,h,c);break;case 4:v[g].fn.call(v[g].context,h,c,f);break;default:if(!y)for(w=1,y=new Array(_-1);w<_;w++)y[w-1]=arguments[w];v[g].fn.apply(v[g].context,y)}}return!0},a.prototype.on=function(u,h,c){return s(this,u,h,c,!1)},a.prototype.once=function(u,h,c){return s(this,u,h,c,!0)},a.prototype.removeListener=function(u,h,c,f){var d=r?r+u:u;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!f||p.once)&&(!c||p.context===c)&&o(this,d);else{for(var m=0,v=[],_=p.length;m<_;m++)(p[m].fn!==h||f&&!p[m].once||c&&p[m].context!==c)&&v.push(p[m]);v.length?this._events[d]=v.length===1?v[0]:v:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(e1);var KC=e1.exports;const Ka=Ap(KC);var Pm={exports:{}};Pm.exports=Oh;Pm.exports.default=Oh;function Oh(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=t1(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,h,c,f,d;if(n&&(s=eA(t,e,s,r)),t.length>80*r){a=u=t[0],l=h=t[1];for(var p=r;p<i;p+=r)c=t[p],f=t[p+1],c<a&&(a=c),f<l&&(l=f),c>u&&(u=c),f>h&&(h=f);d=Math.max(u-a,h-l),d=d!==0?32767/d:0}return Aa(s,o,r,a,l,d,0),o}function t1(t,e,r,n,i){var s,o;if(i===Md(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Oy(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Oy(s,t[s],t[s+1],o);return o&&Nh(o,o.next)&&(Ra(o),o=o.next),o}function Li(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Nh(r,r.next)||Pe(r.prev,r,r.next)===0)){if(Ra(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Aa(t,e,r,n,i,s,o){if(t){!o&&s&&sA(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?QC(t,n,i,s):qC(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Ra(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=ZC(Li(t),e,r),Aa(t,e,r,n,i,s,2)):o===2&&JC(t,e,r,n,i,s):Aa(Li(t),e,r,n,i,s,1);break}}}}function qC(t){var e=t.prev,r=t,n=t.next;if(Pe(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,h=i<s?i<o?i:o:s<o?s:o,c=a<l?a<u?a:u:l<u?l:u,f=i>s?i>o?i:o:s>o?s:o,d=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=h&&p.x<=f&&p.y>=c&&p.y<=d&&Ts(i,a,s,l,o,u,p.x,p.y)&&Pe(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function QC(t,e,r,n){var i=t.prev,s=t,o=t.next;if(Pe(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,h=i.y,c=s.y,f=o.y,d=a<l?a<u?a:u:l<u?l:u,p=h<c?h<f?h:f:c<f?c:f,m=a>l?a>u?a:u:l>u?l:u,v=h>c?h>f?h:f:c>f?c:f,_=Rd(d,p,e,r,n),y=Rd(m,v,e,r,n),g=t.prevZ,x=t.nextZ;g&&g.z>=_&&x&&x.z<=y;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&Ts(a,h,l,c,u,f,g.x,g.y)&&Pe(g.prev,g,g.next)>=0||(g=g.prevZ,x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&Ts(a,h,l,c,u,f,x.x,x.y)&&Pe(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;g&&g.z>=_;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&Ts(a,h,l,c,u,f,g.x,g.y)&&Pe(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&Ts(a,h,l,c,u,f,x.x,x.y)&&Pe(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function ZC(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Nh(i,s)&&r1(i,n,n.next,s)&&Pa(i,s)&&Pa(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ra(n),Ra(n.next),n=t=s),n=n.next}while(n!==t);return Li(n)}function JC(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&lA(o,a)){var l=n1(o,a);o=Li(o,o.next),l=Li(l,l.next),Aa(o,e,r,n,i,s,0),Aa(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function eA(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=t1(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(aA(u));for(i.sort(tA),s=0;s<i.length;s++)r=rA(i[s],r);return r}function tA(t,e){return t.x-e.x}function rA(t,e){var r=nA(t,e);if(!r)return e;var n=n1(r,t);return Li(n,n.next),Li(r,r.next)}function nA(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,h=o.y,c=1/0,f;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&Ts(i<h?n:s,i,u,h,i<h?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Pa(r,t)&&(f<c||f===c&&(r.x>o.x||r.x===o.x&&iA(o,r)))&&(o=r,c=f)),r=r.next;while(r!==l);return o}function iA(t,e){return Pe(t.prev,t,e.prev)<0&&Pe(e.next,t,t.next)<0}function sA(t,e,r,n){var i=t;do i.z===0&&(i.z=Rd(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,oA(i)}function oA(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function Rd(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function aA(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ts(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function lA(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!uA(t,e)&&(Pa(t,e)&&Pa(e,t)&&hA(t,e)&&(Pe(t.prev,t,e.prev)||Pe(t,e.prev,e))||Nh(t,e)&&Pe(t.prev,t,t.next)>0&&Pe(e.prev,e,e.next)>0)}function Pe(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Nh(t,e){return t.x===e.x&&t.y===e.y}function r1(t,e,r,n){var i=Sl(Pe(t,e,r)),s=Sl(Pe(t,e,n)),o=Sl(Pe(r,n,t)),a=Sl(Pe(r,n,e));return!!(i!==s&&o!==a||i===0&&Tl(t,r,e)||s===0&&Tl(t,n,e)||o===0&&Tl(r,t,n)||a===0&&Tl(r,e,n))}function Tl(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Sl(t){return t>0?1:t<0?-1:0}function uA(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&r1(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Pa(t,e){return Pe(t.prev,t,t.next)<0?Pe(t,e,t.next)>=0&&Pe(t,t.prev,e)>=0:Pe(t,e,t.prev)<0||Pe(t,t.next,e)<0}function hA(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function n1(t,e){var r=new Id(t.i,t.x,t.y),n=new Id(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Oy(t,e,r,n){var i=new Id(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ra(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Id(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Oh.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Md(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Md(t,u,h,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function Md(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Oh.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var cA=Pm.exports;const fA=Ap(cA);var Wu={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Wu.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof jo=="object"&&jo;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,h=26,c=38,f=700,d=72,p=128,m="-",v=/^xn--/,_=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,w=Math.floor,b=String.fromCharCode,T;function E(R){throw new RangeError(g[R])}function S(R,W){for(var Z=R.length,ae=[];Z--;)ae[Z]=W(R[Z]);return ae}function A(R,W){var Z=R.split("@"),ae="";Z.length>1&&(ae=Z[0]+"@",R=Z[1]),R=R.replace(y,".");var ie=R.split("."),C=S(ie,W).join(".");return ae+C}function k(R){for(var W=[],Z=0,ae=R.length,ie,C;Z<ae;)ie=R.charCodeAt(Z++),ie>=55296&&ie<=56319&&Z<ae?(C=R.charCodeAt(Z++),(C&64512)==56320?W.push(((ie&1023)<<10)+(C&1023)+65536):(W.push(ie),Z--)):W.push(ie);return W}function F(R){return S(R,function(W){var Z="";return W>65535&&(W-=65536,Z+=b(W>>>10&1023|55296),W=56320|W&1023),Z+=b(W),Z}).join("")}function M(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:l}function P(R,W){return R+22+75*(R<26)-((W!=0)<<5)}function H(R,W,Z){var ae=0;for(R=Z?w(R/f):R>>1,R+=w(R/W);R>x*h>>1;ae+=l)R=w(R/x);return w(ae+(x+1)*R/(R+c))}function K(R){var W=[],Z=R.length,ae,ie=0,C=p,I=d,N,G,j,z,X,se,de,Ke,Ge;for(N=R.lastIndexOf(m),N<0&&(N=0),G=0;G<N;++G)R.charCodeAt(G)>=128&&E("not-basic"),W.push(R.charCodeAt(G));for(j=N>0?N+1:0;j<Z;){for(z=ie,X=1,se=l;j>=Z&&E("invalid-input"),de=M(R.charCodeAt(j++)),(de>=l||de>w((a-ie)/X))&&E("overflow"),ie+=de*X,Ke=se<=I?u:se>=I+h?h:se-I,!(de<Ke);se+=l)Ge=l-Ke,X>w(a/Ge)&&E("overflow"),X*=Ge;ae=W.length+1,I=H(ie-z,ae,z==0),w(ie/ae)>a-C&&E("overflow"),C+=w(ie/ae),ie%=ae,W.splice(ie++,0,C)}return F(W)}function B(R){var W,Z,ae,ie,C,I,N,G,j,z,X,se=[],de,Ke,Ge,mo;for(R=k(R),de=R.length,W=p,Z=0,C=d,I=0;I<de;++I)X=R[I],X<128&&se.push(b(X));for(ae=ie=se.length,ie&&se.push(m);ae<de;){for(N=a,I=0;I<de;++I)X=R[I],X>=W&&X<N&&(N=X);for(Ke=ae+1,N-W>w((a-Z)/Ke)&&E("overflow"),Z+=(N-W)*Ke,W=N,I=0;I<de;++I)if(X=R[I],X<W&&++Z>a&&E("overflow"),X==W){for(G=Z,j=l;z=j<=C?u:j>=C+h?h:j-C,!(G<z);j+=l)mo=G-z,Ge=l-z,se.push(b(P(z+mo%Ge,0))),G=w(mo/Ge);se.push(b(P(G,0))),C=H(Z,Ke,ae==ie),Z=0,++ae}++Z,++W}return se.join("")}function O(R){return A(R,function(W){return v.test(W)?K(W.slice(4).toLowerCase()):W})}function V(R){return A(R,function(W){return _.test(W)?"xn--"+B(W):W})}if(o={version:"1.4.1",ucs2:{decode:k,encode:F},decode:K,encode:B,toASCII:V,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(T in o)o.hasOwnProperty(T)&&(n[T]=o[T]);else r.punycode=o})(jo)})(Wu,Wu.exports);var dA=Wu.exports,fo=TypeError;const pA={},mA=Object.freeze(Object.defineProperty({__proto__:null,default:pA},Symbol.toStringTag,{value:"Module"})),gA=LE(mA);var Rm=typeof Map=="function"&&Map.prototype,Ic=Object.getOwnPropertyDescriptor&&Rm?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Xu=Rm&&Ic&&typeof Ic.get=="function"?Ic.get:null,Ny=Rm&&Map.prototype.forEach,Im=typeof Set=="function"&&Set.prototype,Mc=Object.getOwnPropertyDescriptor&&Im?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Yu=Im&&Mc&&typeof Mc.get=="function"?Mc.get:null,Fy=Im&&Set.prototype.forEach,yA=typeof WeakMap=="function"&&WeakMap.prototype,ea=yA?WeakMap.prototype.has:null,_A=typeof WeakSet=="function"&&WeakSet.prototype,ta=_A?WeakSet.prototype.has:null,vA=typeof WeakRef=="function"&&WeakRef.prototype,By=vA?WeakRef.prototype.deref:null,xA=Boolean.prototype.valueOf,wA=Object.prototype.toString,EA=Function.prototype.toString,TA=String.prototype.match,Mm=String.prototype.slice,Mn=String.prototype.replace,SA=String.prototype.toUpperCase,Ly=String.prototype.toLowerCase,i1=RegExp.prototype.test,Uy=Array.prototype.concat,Or=Array.prototype.join,bA=Array.prototype.slice,Gy=Math.floor,kd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,kc=Object.getOwnPropertySymbols,Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,qs=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ra=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===qs||!0)?Symbol.toStringTag:null,s1=Object.prototype.propertyIsEnumerable,zy=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function $y(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||i1.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Gy(-t):Gy(t);if(n!==t){var i=String(n),s=Mm.call(e,i.length+1);return Mn.call(i,r,"$&_")+"."+Mn.call(Mn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Mn.call(e,r,"$&_")}var Od=gA,Hy=Od.custom,jy=l1(Hy)?Hy:null,o1={__proto__:null,double:'"',single:"'"},CA={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Fh=function t(e,r,n,i){var s=r||{};if(Zr(s,"quoteStyle")&&!Zr(o1,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Zr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Zr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Zr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Zr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return h1(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?$y(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?$y(e,u):u}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Nd(e)?"[Array]":"[Object]";var c=jA(s,n);if(typeof i>"u")i=[];else if(u1(i,e)>=0)return"[Circular]";function f(M,P,H){if(P&&(i=bA.call(i),i.push(P)),H){var K={depth:s.depth};return Zr(s,"quoteStyle")&&(K.quoteStyle=s.quoteStyle),t(M,K,n+1,i)}return t(M,s,n+1,i)}if(typeof e=="function"&&!Vy(e)){var d=NA(e),p=bl(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Or.call(p,", ")+" }":"")}if(l1(e)){var m=qs?Mn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Dd.call(e);return typeof e=="object"&&!qs?bo(m):m}if(zA(e)){for(var v="<"+Ly.call(String(e.nodeName)),_=e.attributes||[],y=0;y<_.length;y++)v+=" "+_[y].name+"="+a1(AA(_[y].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+Ly.call(String(e.nodeName))+">",v}if(Nd(e)){if(e.length===0)return"[]";var g=bl(e,f);return c&&!HA(g)?"["+Fd(g,c)+"]":"[ "+Or.call(g,", ")+" ]"}if(RA(e)){var x=bl(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!s1.call(e,"cause")?"{ ["+String(e)+"] "+Or.call(Uy.call("[cause]: "+f(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Or.call(x,", ")+" }"}if(typeof e=="object"&&o){if(jy&&typeof e[jy]=="function"&&Od)return Od(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(FA(e)){var w=[];return Ny&&Ny.call(e,function(M,P){w.push(f(P,e,!0)+" => "+f(M,e))}),Wy("Map",Xu.call(e),w,c)}if(UA(e)){var b=[];return Fy&&Fy.call(e,function(M){b.push(f(M,e))}),Wy("Set",Yu.call(e),b,c)}if(BA(e))return Dc("WeakMap");if(GA(e))return Dc("WeakSet");if(LA(e))return Dc("WeakRef");if(MA(e))return bo(f(Number(e)));if(DA(e))return bo(f(kd.call(e)));if(kA(e))return bo(xA.call(e));if(IA(e))return bo(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof jo<"u"&&e===jo)return"{ [object globalThis] }";if(!PA(e)&&!Vy(e)){var T=bl(e,f),E=zy?zy(e)===Object.prototype:e instanceof Object||e.constructor===Object,S=e instanceof Object?"":"null prototype",A=!E&&ra&&Object(e)===e&&ra in e?Mm.call(ai(e),8,-1):S?"Object":"",k=E||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=k+(A||S?"["+Or.call(Uy.call([],A||[],S||[]),": ")+"] ":"");return T.length===0?F+"{}":c?F+"{"+Fd(T,c)+"}":F+"{ "+Or.call(T,", ")+" }"}return String(e)};function a1(t,e,r){var n=r.quoteStyle||e,i=o1[n];return i+t+i}function AA(t){return Mn.call(String(t),/"/g,"&quot;")}function Xi(t){return!ra||!(typeof t=="object"&&(ra in t||typeof t[ra]<"u"))}function Nd(t){return ai(t)==="[object Array]"&&Xi(t)}function PA(t){return ai(t)==="[object Date]"&&Xi(t)}function Vy(t){return ai(t)==="[object RegExp]"&&Xi(t)}function RA(t){return ai(t)==="[object Error]"&&Xi(t)}function IA(t){return ai(t)==="[object String]"&&Xi(t)}function MA(t){return ai(t)==="[object Number]"&&Xi(t)}function kA(t){return ai(t)==="[object Boolean]"&&Xi(t)}function l1(t){if(qs)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Dd)return!1;try{return Dd.call(t),!0}catch{}return!1}function DA(t){if(!t||typeof t!="object"||!kd)return!1;try{return kd.call(t),!0}catch{}return!1}var OA=Object.prototype.hasOwnProperty||function(t){return t in this};function Zr(t,e){return OA.call(t,e)}function ai(t){return wA.call(t)}function NA(t){if(t.name)return t.name;var e=TA.call(EA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function u1(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function FA(t){if(!Xu||!t||typeof t!="object")return!1;try{Xu.call(t);try{Yu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function BA(t){if(!ea||!t||typeof t!="object")return!1;try{ea.call(t,ea);try{ta.call(t,ta)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function LA(t){if(!By||!t||typeof t!="object")return!1;try{return By.call(t),!0}catch{}return!1}function UA(t){if(!Yu||!t||typeof t!="object")return!1;try{Yu.call(t);try{Xu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function GA(t){if(!ta||!t||typeof t!="object")return!1;try{ta.call(t,ta);try{ea.call(t,ea)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function zA(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function h1(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return h1(Mm.call(t,0,e.maxStringLength),e)+n}var i=CA[e.quoteStyle||"single"];i.lastIndex=0;var s=Mn.call(Mn.call(t,i,"\\$1"),/[\x00-\x1f]/g,$A);return a1(s,"single",e)}function $A(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+SA.call(e.toString(16))}function bo(t){return"Object("+t+")"}function Dc(t){return t+" { ? }"}function Wy(t,e,r,n){var i=n?Fd(r,n):Or.call(r,", ");return t+" ("+e+") {"+i+"}"}function HA(t){for(var e=0;e<t.length;e++)if(u1(t[e],`
`)>=0)return!1;return!0}function jA(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Or.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Or.call(Array(e+1),r)}}function Fd(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Or.call(t,","+r)+`
`+e.prev}function bl(t,e){var r=Nd(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Zr(t,i)?e(t[i],t):""}var s=typeof kc=="function"?kc(t):[],o;if(qs){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Zr(t,l)&&(r&&String(Number(l))===l&&l<t.length||qs&&o["$"+l]instanceof Symbol||(i1.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof kc=="function")for(var u=0;u<s.length;u++)s1.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var VA=Fh,WA=fo,Bh=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},XA=function(t,e){if(t){var r=Bh(t,e);return r&&r.value}},YA=function(t,e,r){var n=Bh(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},KA=function(t,e){return t?!!Bh(t,e):!1},qA=function(t,e){if(t)return Bh(t,e,!0)},QA=function(){var e,r={assert:function(n){if(!r.has(n))throw new WA("Side channel does not contain "+VA(n))},delete:function(n){var i=e&&e.next,s=qA(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return XA(e,n)},has:function(n){return KA(e,n)},set:function(n,i){e||(e={next:void 0}),YA(e,n,i)}};return r},c1=Object,ZA=Error,JA=EvalError,eP=RangeError,tP=ReferenceError,rP=SyntaxError,nP=URIError,iP=Math.abs,sP=Math.floor,oP=Math.max,aP=Math.min,lP=Math.pow,uP=Math.round,hP=Number.isNaN||function(e){return e!==e},cP=hP,fP=function(e){return cP(e)||e===0?e:e<0?-1:1},dP=Object.getOwnPropertyDescriptor,ou=dP;if(ou)try{ou([],"length")}catch{ou=null}var f1=ou,au=Object.defineProperty||!1;if(au)try{au({},"a",{value:1})}catch{au=!1}var pP=au,Oc,Xy;function mP(){return Xy||(Xy=1,Oc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Oc}var Nc,Yy;function gP(){if(Yy)return Nc;Yy=1;var t=typeof Symbol<"u"&&Symbol,e=mP();return Nc=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Nc}var Fc,Ky;function d1(){return Ky||(Ky=1,Fc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Fc}var Bc,qy;function p1(){if(qy)return Bc;qy=1;var t=c1;return Bc=t.getPrototypeOf||null,Bc}var Lc,Qy;function yP(){if(Qy)return Lc;Qy=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var h=[],c=0;c<l.length;c+=1)h[c]=l[c];for(var f=0;f<u.length;f+=1)h[f+l.length]=u[f];return h},s=function(l,u){for(var h=[],c=u,f=0;c<l.length;c+=1,f+=1)h[f]=l[c];return h},o=function(a,l){for(var u="",h=0;h<a.length;h+=1)u+=a[h],h+1<a.length&&(u+=l);return u};return Lc=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var h=s(arguments,1),c,f=function(){if(this instanceof c){var _=u.apply(this,i(h,arguments));return Object(_)===_?_:this}return u.apply(l,i(h,arguments))},d=r(0,u.length-h.length),p=[],m=0;m<d;m++)p[m]="$"+m;if(c=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},Lc}var Uc,Zy;function Lh(){if(Zy)return Uc;Zy=1;var t=yP();return Uc=Function.prototype.bind||t,Uc}var Gc,Jy;function km(){return Jy||(Jy=1,Gc=Function.prototype.call),Gc}var zc,e_;function m1(){return e_||(e_=1,zc=Function.prototype.apply),zc}var _P=typeof Reflect<"u"&&Reflect&&Reflect.apply,vP=Lh(),xP=m1(),wP=km(),EP=_P,TP=EP||vP.call(wP,xP),SP=Lh(),bP=fo,CP=km(),AP=TP,g1=function(e){if(e.length<1||typeof e[0]!="function")throw new bP("a function is required");return AP(SP,CP,e)},$c,t_;function PP(){if(t_)return $c;t_=1;var t=g1,e=f1,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return $c=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,$c}var Hc,r_;function RP(){if(r_)return Hc;r_=1;var t=d1(),e=p1(),r=PP();return Hc=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,Hc}var jc,n_;function IP(){if(n_)return jc;n_=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Lh();return jc=r.call(t,e),jc}var ue,MP=c1,kP=ZA,DP=JA,OP=eP,NP=tP,Qs=rP,Os=fo,FP=nP,BP=iP,LP=sP,UP=oP,GP=aP,zP=lP,$P=uP,HP=fP,y1=Function,Vc=function(t){try{return y1('"use strict"; return ('+t+").constructor;")()}catch{}},Ia=f1,jP=pP,Wc=function(){throw new Os},VP=Ia?function(){try{return arguments.callee,Wc}catch{try{return Ia(arguments,"callee").get}catch{return Wc}}}():Wc,es=gP()(),qe=RP(),WP=p1(),XP=d1(),_1=m1(),qa=km(),ss={},YP=typeof Uint8Array>"u"||!qe?ue:qe(Uint8Array),Pi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ue:ArrayBuffer,"%ArrayIteratorPrototype%":es&&qe?qe([][Symbol.iterator]()):ue,"%AsyncFromSyncIteratorPrototype%":ue,"%AsyncFunction%":ss,"%AsyncGenerator%":ss,"%AsyncGeneratorFunction%":ss,"%AsyncIteratorPrototype%":ss,"%Atomics%":typeof Atomics>"u"?ue:Atomics,"%BigInt%":typeof BigInt>"u"?ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":kP,"%eval%":eval,"%EvalError%":DP,"%Float16Array%":typeof Float16Array>"u"?ue:Float16Array,"%Float32Array%":typeof Float32Array>"u"?ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ue:FinalizationRegistry,"%Function%":y1,"%GeneratorFunction%":ss,"%Int8Array%":typeof Int8Array>"u"?ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":es&&qe?qe(qe([][Symbol.iterator]())):ue,"%JSON%":typeof JSON=="object"?JSON:ue,"%Map%":typeof Map>"u"?ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!es||!qe?ue:qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":MP,"%Object.getOwnPropertyDescriptor%":Ia,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ue:Promise,"%Proxy%":typeof Proxy>"u"?ue:Proxy,"%RangeError%":OP,"%ReferenceError%":NP,"%Reflect%":typeof Reflect>"u"?ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!es||!qe?ue:qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":es&&qe?qe(""[Symbol.iterator]()):ue,"%Symbol%":es?Symbol:ue,"%SyntaxError%":Qs,"%ThrowTypeError%":VP,"%TypedArray%":YP,"%TypeError%":Os,"%Uint8Array%":typeof Uint8Array>"u"?ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ue:Uint32Array,"%URIError%":FP,"%WeakMap%":typeof WeakMap>"u"?ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ue:WeakSet,"%Function.prototype.call%":qa,"%Function.prototype.apply%":_1,"%Object.defineProperty%":jP,"%Object.getPrototypeOf%":WP,"%Math.abs%":BP,"%Math.floor%":LP,"%Math.max%":UP,"%Math.min%":GP,"%Math.pow%":zP,"%Math.round%":$P,"%Math.sign%":HP,"%Reflect.getPrototypeOf%":XP};if(qe)try{null.error}catch(t){var KP=qe(qe(t));Pi["%Error.prototype%"]=KP}var qP=function t(e){var r;if(e==="%AsyncFunction%")r=Vc("async function () {}");else if(e==="%GeneratorFunction%")r=Vc("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Vc("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&qe&&(r=qe(i.prototype))}return Pi[e]=r,r},i_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Qa=Lh(),Ku=IP(),QP=Qa.call(qa,Array.prototype.concat),ZP=Qa.call(_1,Array.prototype.splice),s_=Qa.call(qa,String.prototype.replace),qu=Qa.call(qa,String.prototype.slice),JP=Qa.call(qa,RegExp.prototype.exec),eR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tR=/\\(\\)?/g,rR=function(e){var r=qu(e,0,1),n=qu(e,-1);if(r==="%"&&n!=="%")throw new Qs("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Qs("invalid intrinsic syntax, expected opening `%`");var i=[];return s_(e,eR,function(s,o,a,l){i[i.length]=a?s_(l,tR,"$1"):o||s}),i},nR=function(e,r){var n=e,i;if(Ku(i_,n)&&(i=i_[n],n="%"+i[0]+"%"),Ku(Pi,n)){var s=Pi[n];if(s===ss&&(s=qP(n)),typeof s>"u"&&!r)throw new Os("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Qs("intrinsic "+e+" does not exist!")},Dm=function(e,r){if(typeof e!="string"||e.length===0)throw new Os("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Os('"allowMissing" argument must be a boolean');if(JP(/^%?[^%]*%?$/,e)===null)throw new Qs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=rR(e),i=n.length>0?n[0]:"",s=nR("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],ZP(n,QP([0,1],u)));for(var h=1,c=!0;h<n.length;h+=1){var f=n[h],d=qu(f,0,1),p=qu(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Qs("property names with quotes must have matching quotes");if((f==="constructor"||!c)&&(l=!0),i+="."+f,o="%"+i+"%",Ku(Pi,o))a=Pi[o];else if(a!=null){if(!(f in a)){if(!r)throw new Os("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ia&&h+1>=n.length){var m=Ia(a,f);c=!!m,c&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[f]}else c=Ku(a,f),a=a[f];c&&!l&&(Pi[o]=a)}}return a},v1=Dm,x1=g1,iR=x1([v1("%String.prototype.indexOf%")]),w1=function(e,r){var n=v1(e,!!r);return typeof n=="function"&&iR(e,".prototype.")>-1?x1([n]):n},sR=Dm,Za=w1,oR=Fh,aR=fo,o_=sR("%Map%",!0),lR=Za("Map.prototype.get",!0),uR=Za("Map.prototype.set",!0),hR=Za("Map.prototype.has",!0),cR=Za("Map.prototype.delete",!0),fR=Za("Map.prototype.size",!0),E1=!!o_&&function(){var e,r={assert:function(n){if(!r.has(n))throw new aR("Side channel does not contain "+oR(n))},delete:function(n){if(e){var i=cR(e,n);return fR(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return lR(e,n)},has:function(n){return e?hR(e,n):!1},set:function(n,i){e||(e=new o_),uR(e,n,i)}};return r},dR=Dm,Uh=w1,pR=Fh,Cl=E1,mR=fo,ts=dR("%WeakMap%",!0),gR=Uh("WeakMap.prototype.get",!0),yR=Uh("WeakMap.prototype.set",!0),_R=Uh("WeakMap.prototype.has",!0),vR=Uh("WeakMap.prototype.delete",!0),xR=ts?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new mR("Side channel does not contain "+pR(i))},delete:function(i){if(ts&&i&&(typeof i=="object"||typeof i=="function")){if(e)return vR(e,i)}else if(Cl&&r)return r.delete(i);return!1},get:function(i){return ts&&i&&(typeof i=="object"||typeof i=="function")&&e?gR(e,i):r&&r.get(i)},has:function(i){return ts&&i&&(typeof i=="object"||typeof i=="function")&&e?_R(e,i):!!r&&r.has(i)},set:function(i,s){ts&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new ts),yR(e,i,s)):Cl&&(r||(r=Cl()),r.set(i,s))}};return n}:Cl,wR=fo,ER=Fh,TR=QA,SR=E1,bR=xR,CR=bR||SR||TR,AR=function(){var e,r={assert:function(n){if(!r.has(n))throw new wR("Side channel does not contain "+ER(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=CR()),e.set(n,i)}};return r},PR=String.prototype.replace,RR=/%20/g,Xc={RFC1738:"RFC1738",RFC3986:"RFC3986"},Om={default:Xc.RFC3986,formatters:{RFC1738:function(t){return PR.call(t,RR,"+")},RFC3986:function(t){return String(t)}},RFC1738:Xc.RFC1738,RFC3986:Xc.RFC3986},IR=Om,Yc=Object.prototype.hasOwnProperty,xi=Array.isArray,Pr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),MR=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(xi(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},T1=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},kR=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(xi(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Yc.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return xi(e)&&!xi(r)&&(i=T1(e,n)),xi(e)&&xi(r)?(r.forEach(function(s,o){if(Yc.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Yc.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},DR=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},OR=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Kc=1024,NR=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=Kc){for(var u=o.length>=Kc?o.slice(l,l+Kc):o,h=[],c=0;c<u.length;++c){var f=u.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===IR.RFC1738&&(f===40||f===41)){h[h.length]=u.charAt(c);continue}if(f<128){h[h.length]=Pr[f];continue}if(f<2048){h[h.length]=Pr[192|f>>6]+Pr[128|f&63];continue}if(f<55296||f>=57344){h[h.length]=Pr[224|f>>12]+Pr[128|f>>6&63]+Pr[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|u.charCodeAt(c)&1023),h[h.length]=Pr[240|f>>18]+Pr[128|f>>12&63]+Pr[128|f>>6&63]+Pr[128|f&63]}a+=h.join("")}return a},FR=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return MR(r),e},BR=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},LR=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},UR=function(e,r){return[].concat(e,r)},GR=function(e,r){if(xi(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},S1={arrayToObject:T1,assign:DR,combine:UR,compact:FR,decode:OR,encode:NR,isBuffer:LR,isRegExp:BR,maybeMap:GR,merge:kR},b1=AR,lu=S1,na=Om,zR=Object.prototype.hasOwnProperty,C1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},kr=Array.isArray,$R=Array.prototype.push,A1=function(t,e){$R.apply(t,kr(e)?e:[e])},HR=Date.prototype.toISOString,a_=na.default,je={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:lu.encode,encodeValuesOnly:!1,filter:void 0,format:a_,formatter:na.formatters[a_],indices:!1,serializeDate:function(e){return HR.call(e)},skipNulls:!1,strictNullHandling:!1},jR=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},qc={},VR=function t(e,r,n,i,s,o,a,l,u,h,c,f,d,p,m,v,_,y){for(var g=e,x=y,w=0,b=!1;(x=x.get(qc))!==void 0&&!b;){var T=x.get(e);if(w+=1,typeof T<"u"){if(T===w)throw new RangeError("Cyclic object value");b=!0}typeof x.get(qc)>"u"&&(w=0)}if(typeof h=="function"?g=h(r,g):g instanceof Date?g=d(g):n==="comma"&&kr(g)&&(g=lu.maybeMap(g,function(R){return R instanceof Date?d(R):R})),g===null){if(o)return u&&!v?u(r,je.encoder,_,"key",p):r;g=""}if(jR(g)||lu.isBuffer(g)){if(u){var E=v?r:u(r,je.encoder,_,"key",p);return[m(E)+"="+m(u(g,je.encoder,_,"value",p))]}return[m(r)+"="+m(String(g))]}var S=[];if(typeof g>"u")return S;var A;if(n==="comma"&&kr(g))v&&u&&(g=lu.maybeMap(g,u)),A=[{value:g.length>0?g.join(",")||null:void 0}];else if(kr(h))A=h;else{var k=Object.keys(g);A=c?k.sort(c):k}var F=l?String(r).replace(/\./g,"%2E"):String(r),M=i&&kr(g)&&g.length===1?F+"[]":F;if(s&&kr(g)&&g.length===0)return M+"[]";for(var P=0;P<A.length;++P){var H=A[P],K=typeof H=="object"&&H&&typeof H.value<"u"?H.value:g[H];if(!(a&&K===null)){var B=f&&l?String(H).replace(/\./g,"%2E"):String(H),O=kr(g)?typeof n=="function"?n(M,B):M:M+(f?"."+B:"["+B+"]");y.set(e,w);var V=b1();V.set(qc,y),A1(S,t(K,O,n,i,s,o,a,l,n==="comma"&&v&&kr(g)?null:u,h,c,f,d,p,m,v,_,V))}}return S},WR=function(e){if(!e)return je;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||je.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=na.default;if(typeof e.format<"u"){if(!zR.call(na.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=na.formatters[n],s=je.filter;(typeof e.filter=="function"||kr(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in C1?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=je.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:je.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:je.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:je.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:je.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?je.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:je.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:je.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:je.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:je.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:je.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:je.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:je.strictNullHandling}},XR=function(t,e){var r=t,n=WR(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):kr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=C1[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=b1(),h=0;h<i.length;++h){var c=i[h],f=r[c];n.skipNulls&&f===null||A1(o,VR(f,c,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},Ui=S1,Bd=Object.prototype.hasOwnProperty,l_=Array.isArray,Oe={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ui.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},YR=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},P1=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},KR="utf8=%26%2310003%3B",qR="utf8=%E2%9C%93",QR=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===qR?u="utf-8":o[l]===KR&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],c=h.indexOf("]="),f=c===-1?h.indexOf("="):c+1,d,p;f===-1?(d=r.decoder(h,Oe.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,f),Oe.decoder,u,"key"),p=Ui.maybeMap(P1(h.slice(f+1),r,l_(n[d])?n[d].length:0),function(v){return r.decoder(v,Oe.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=YR(String(p))),h.indexOf("[]=")>-1&&(p=l_(p)?[p]:p);var m=Bd.call(n,d);m&&r.duplicates==="combine"?n[d]=Ui.combine(n[d],p):(!m||r.duplicates==="last")&&(n[d]=p)}return n},ZR=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:P1(e,r,i),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:Ui.combine([],o);else{l=r.plainObjects?{__proto__:null}:{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,f=parseInt(c,10);!r.parseArrays&&c===""?l={0:o}:!isNaN(f)&&u!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(l=[],l[f]=o):c!=="__proto__"&&(l[c]=o)}o=l}return o},JR=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,h=[];if(u){if(!n.plainObjects&&Bd.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var c=0;n.depth>0&&(l=a.exec(s))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&Bd.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+s.slice(l.index)+"]")}return ZR(h,r,n,i)}},eI=function(e){if(!e)return Oe;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Oe.charset:e.charset,n=typeof e.duplicates>"u"?Oe.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Oe.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Oe.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Oe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Oe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Oe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Oe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Oe.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Oe.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Oe.decoder,delimiter:typeof e.delimiter=="string"||Ui.isRegExp(e.delimiter)?e.delimiter:Oe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Oe.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Oe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Oe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Oe.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Oe.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Oe.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},tI=function(t,e){var r=eI(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?QR(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=JR(a,n[a],r,typeof t=="string");i=Ui.merge(i,l,r)}return r.allowSparse===!0?i:Ui.compact(i)},rI=XR,nI=tI,iI=Om,sI={formats:iI,parse:nI,stringify:rI},oI=dA;function wr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var aI=/^([a-z0-9.+-]+:)/i,lI=/:[0-9]*$/,uI=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,hI=["<",">",'"',"`"," ","\r",`
`,"	"],cI=["{","}","|","\\","^","`"].concat(hI),Ld=["'"].concat(cI),u_=["%","/","?",";","#"].concat(Ld),h_=["/","?","#"],fI=255,c_=/^[+a-z0-9A-Z_-]{0,63}$/,dI=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,pI={javascript:!0,"javascript:":!0},Ud={javascript:!0,"javascript:":!0},Ns={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Gd=sI;function Gh(t,e,r){if(t&&typeof t=="object"&&t instanceof wr)return t;var n=new wr;return n.parse(t,e,r),n}wr.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=uI.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Gd.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=aI.exec(a);if(u){u=u[0];var h=u.toLowerCase();this.protocol=h,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var c=a.substr(0,2)==="//";c&&!(u&&Ud[u])&&(a=a.substr(2),this.slashes=!0)}if(!Ud[u]&&(c||u&&!Ns[u])){for(var f=-1,d=0;d<h_.length;d++){var p=a.indexOf(h_[d]);p!==-1&&(f===-1||p<f)&&(f=p)}var m,v;f===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",f),v!==-1&&(m=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(m)),f=-1;for(var d=0;d<u_.length;d++){var p=a.indexOf(u_[d]);p!==-1&&(f===-1||p<f)&&(f=p)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var y=this.hostname.split(/\./),d=0,g=y.length;d<g;d++){var x=y[d];if(x&&!x.match(c_)){for(var w="",b=0,T=x.length;b<T;b++)x.charCodeAt(b)>127?w+="x":w+=x[b];if(!w.match(c_)){var E=y.slice(0,d),S=y.slice(d+1),A=x.match(dI);A&&(E.push(A[1]),S.unshift(A[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=E.join(".");break}}}this.hostname.length>fI?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=oI.toASCII(this.hostname));var k=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+k,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!pI[h])for(var d=0,g=Ld.length;d<g;d++){var M=Ld[d];if(a.indexOf(M)!==-1){var P=encodeURIComponent(M);P===M&&(P=escape(M)),a=a.split(M).join(P)}}var H=a.indexOf("#");H!==-1&&(this.hash=a.substr(H),a=a.slice(0,H));var K=a.indexOf("?");if(K!==-1?(this.search=a.substr(K),this.query=a.substr(K+1),e&&(this.query=Gd.parse(this.query)),a=a.slice(0,K)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ns[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var k=this.pathname||"",B=this.search||"";this.path=k+B}return this.href=this.format(),this};function mI(t){return typeof t=="string"&&(t=Gh(t)),t instanceof wr?t.format():wr.prototype.format.call(t)}wr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Gd.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ns[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function gI(t,e){return Gh(t,!1,!0).resolve(e)}wr.prototype.resolve=function(t){return this.resolveObject(Gh(t,!1,!0)).format()};wr.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new wr;e.parse(t,!1,!0),t=e}for(var r=new wr,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Ns[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ns[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var c=u[h];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Ud[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",d=r.search||"";r.path=f+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=m||p||r.host&&t.pathname,_=v,y=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Ns[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),v=v&&(g[0]===""||y[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=g;else if(g.length)y||(y=[]),y.pop(),y=y.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=y.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var b=y.slice(-1)[0],T=(r.host||t.host||y.length>1)&&(b==="."||b==="..")||b==="",E=0,S=y.length;S>=0;S--)b=y[S],b==="."?y.splice(S,1):b===".."?(y.splice(S,1),E++):E&&(y.splice(S,1),E--);if(!v&&!_)for(;E--;E)y.unshift("..");v&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),T&&y.join("/").substr(-1)!=="/"&&y.push("");var A=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){r.hostname=A?"":y.length?y.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return v=v||r.host&&y.length,v&&!A&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};wr.prototype.parseHost=function(){var t=this.host,e=lI.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var yI=Gh,_I=gI,vI=mI;const xI={parse:yI,format:vI,resolve:_I};function ar(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Co(t){return t.split("?")[0].split("#")[0]}function wI(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function EI(t,e,r){return t.replace(new RegExp(wI(e),"g"),r)}function TI(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const pt={toPosix(t){return EI(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){ar(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Co(this.toPosix(e??Y.ADAPTER.getBaseUrl())),i=Co(this.toPosix(r??this.rootname(n)));return ar(t),t=this.toPosix(t),t.startsWith("/")?pt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),ar(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=TI(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return ar(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(ar(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(ar(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){ar(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ar(t),e&&ar(e),t=Co(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){ar(t),t=Co(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){ar(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Co(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,h=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},f_={};function ce(t,e,r=3){if(f_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),f_[e]=!0}let Qc;function R1(){return typeof Qc>"u"&&(Qc=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Y.ADAPTER.getWebGLRenderingContext())return!1;const n=Y.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Qc}var SI={grad:.9,turn:360,rad:360/(2*Math.PI)},Kr=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ze=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Zt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},I1=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},d_=function(t){return{r:Zt(t.r,0,255),g:Zt(t.g,0,255),b:Zt(t.b,0,255),a:Zt(t.a)}},Zc=function(t){return{r:Ze(t.r),g:Ze(t.g),b:Ze(t.b),a:Ze(t.a,3)}},bI=/^#([0-9a-f]{3,8})$/i,Al=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},M1=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},k1=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},p_=function(t){return{h:I1(t.h),s:Zt(t.s,0,100),l:Zt(t.l,0,100),a:Zt(t.a)}},m_=function(t){return{h:Ze(t.h),s:Ze(t.s),l:Ze(t.l),a:Ze(t.a,3)}},g_=function(t){return k1((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},ia=function(t){return{h:(e=M1(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},CI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,AI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,PI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,RI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zd={string:[[function(t){var e=bI.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ze(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ze(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=PI.exec(t)||RI.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:d_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=CI.exec(t)||AI.exec(t);if(!e)return null;var r,n,i=p_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(SI[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return g_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Kr(e)&&Kr(r)&&Kr(n)?d_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Kr(e)||!Kr(r)||!Kr(n))return null;var o=p_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return g_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Kr(e)||!Kr(r)||!Kr(n))return null;var o=function(a){return{h:I1(a.h),s:Zt(a.s,0,100),v:Zt(a.v,0,100),a:Zt(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return k1(o)},"hsv"]]},y_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},II=function(t){return typeof t=="string"?y_(t.trim(),zd.string):typeof t=="object"&&t!==null?y_(t,zd.object):[null,void 0]},Jc=function(t,e){var r=ia(t);return{h:r.h,s:Zt(r.s+100*e,0,100),l:r.l,a:r.a}},ef=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},__=function(t,e){var r=ia(t);return{h:r.h,s:r.s,l:Zt(r.l+100*e,0,100),a:r.a}},$d=function(){function t(e){this.parsed=II(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ze(ef(this.rgba),2)},t.prototype.isDark=function(){return ef(this.rgba)<.5},t.prototype.isLight=function(){return ef(this.rgba)>=.5},t.prototype.toHex=function(){return e=Zc(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Al(Ze(255*s)):"","#"+Al(r)+Al(n)+Al(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Zc(this.rgba)},t.prototype.toRgbString=function(){return e=Zc(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return m_(ia(this.rgba))},t.prototype.toHslString=function(){return e=m_(ia(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=M1(this.rgba),{h:Ze(e.h),s:Ze(e.s),v:Ze(e.v),a:Ze(e.a,3)};var e},t.prototype.invert=function(){return Rr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Rr(Jc(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Rr(Jc(this.rgba,-e))},t.prototype.grayscale=function(){return Rr(Jc(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Rr(__(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Rr(__(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Rr({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ze(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=ia(this.rgba);return typeof e=="number"?Rr({h:e,s:r.s,l:r.l,a:r.a}):Ze(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Rr(e).toHex()},t}(),Rr=function(t){return t instanceof $d?t:new $d(t)},v_=[],MI=function(t){t.forEach(function(e){v_.indexOf(e)<0&&(e($d,zd),v_.push(e))})};function kI(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var h=this.toRgb(),c=1/0,f="black";if(!s.length)for(var d in r)s[d]=new t(r[d]).toRgb();for(var p in r){var m=(a=h,l=s[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<c&&(c=m,f=p)}return f}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}MI([kI]);const Fs=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Fs)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=Fs.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=Fs.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Rr(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let ye=Fs;ye.shared=new Fs;ye.temp=new Fs;ye.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function DI(t){return ce("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ye.shared.setValue(t).toHex()}function OI(t){return ce("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ye.shared.setValue(t).toNumber()}function NI(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ne.NORMAL_NPM]=ne.NORMAL,t[ne.ADD_NPM]=ne.ADD,t[ne.SCREEN_NPM]=ne.SCREEN,e[ne.NORMAL]=ne.NORMAL_NPM,e[ne.ADD]=ne.ADD_NPM,e[ne.SCREEN]=ne.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const D1=NI();function O1(t,e){return D1[e?1:0][t]}function FI(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function N1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Qu(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function x_(t){return!(t&t-1)&&!!t}function w_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Bs(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function kn(t){return t===0?0:t<0?-1:1}let BI=0;function Gi(){return++BI}const F1=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Hd=F1;Hd.EMPTY=new F1(0,0,0,0);const E_={},Ir=Object.create(null),Tn=Object.create(null);class LI{constructor(e,r,n){this._canvas=Y.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Y.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function T_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function S_(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function UI(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,u=r-1;for(;a<r&&T_(s,e,a);)++a;if(a===r)return Hd.EMPTY;for(;T_(s,e,u);)--u;for(;S_(s,e,o,a,u);)++o;for(;S_(s,e,l,a,u);)--l;return++l,++u,new Hd(o,a,l,u)}function GI(t){const e=UI(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Pl;function zI(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Pl||(Pl=document.createElement("a")),Pl.href=t;const r=xI.parse(Pl.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Jn(t,e=1){var n;const r=(n=Y.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var q=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(q||{});const jd=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},b_=(t,e)=>jd(t).priority??e,te={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(jd).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(jd).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>b_(s,r)-b_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Vd{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const $I=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function HI(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function jI(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=$I.replace(/%forloop%/gi,HI(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const tf=0,rf=1,nf=2,sf=3,of=4,af=5;class wn{constructor(){this.data=0,this.blendMode=ne.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<tf)}set blend(e){!!(this.data&1<<tf)!==e&&(this.data^=1<<tf)}get offsets(){return!!(this.data&1<<rf)}set offsets(e){!!(this.data&1<<rf)!==e&&(this.data^=1<<rf)}get culling(){return!!(this.data&1<<nf)}set culling(e){!!(this.data&1<<nf)!==e&&(this.data^=1<<nf)}get depthTest(){return!!(this.data&1<<sf)}set depthTest(e){!!(this.data&1<<sf)!==e&&(this.data^=1<<sf)}get depthMask(){return!!(this.data&1<<af)}set depthMask(e){!!(this.data&1<<af)!==e&&(this.data^=1<<af)}get clockwiseFrontFace(){return!!(this.data&1<<of)}set clockwiseFrontFace(e){!!(this.data&1<<of)!==e&&(this.data^=1<<of)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ne.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new wn;return e.depthTest=!1,e.blend=!0,e}}const Wd=[];function B1(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Wd.length-1;n>=0;--n){const i=Wd[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Er{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:h}=this;this._aliasCount++;for(let c=0,f=h.length;c<f;c++)h[c][u](e,r,n,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Er.prototype,{dispatch:{value:Er.prototype.emit},run:{value:Er.prototype.emit}});class Ma{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Er("setRealSize"),this.onUpdate=new Er("update"),this.onError=new Er("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Ja extends Ma{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Cr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const VI={scaleMode:sn.NEAREST,format:$.RGBA,alphaMode:Cr.NPM},os=class extends Ka{constructor(t=null,e=null){super(),e=Object.assign({},os.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:h,target:c,resolution:f,resourceOptions:d}=e;t&&!(t instanceof Ma)&&(t=B1(t,d),t.internal=!0),this.resolution=f||Y.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=h,this.target=c,this.alphaMode=r,this.uid=Gi(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=x_(this.realWidth)&&x_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Tn[this.cacheId],delete Ir[this.cacheId],this.cacheId=null),this.dispose(),os.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=Y.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Gi()}`}i=t._pixiId}let s=Tn[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new os(t,e),s.cacheId=i,os.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new Ja(t,{width:e,height:r}),s=t instanceof Float32Array?re.FLOAT:re.UNSIGNED_BYTE;return new os(i,Object.assign({},VI,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Tn[e]&&Tn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Tn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Tn[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Tn[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Tn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let oe=os;oe.defaultOptions={mipmap:jr.POW2,anisotropicLevel:0,scaleMode:sn.LINEAR,wrapMode:Wn.CLAMP,alphaMode:Cr.UNPACK,target:Ds.TEXTURE_2D,format:$.RGBA,type:re.UNSIGNED_BYTE};oe._globalBatch=0;class Xd{constructor(){this.texArray=null,this.blend=0,this.type=Br.TRIANGLES,this.start=0,this.size=0,this.data=null}}let WI=0;class Le{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=WI++,this.disposeRunner=new Er("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Gr.ELEMENT_ARRAY_BUFFER:Gr.ARRAY_BUFFER}get index(){return this.type===Gr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Le(e)}}class Zu{constructor(e,r=0,n=!1,i=re.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Zu(e,r,n,i,s)}}const XI={Float32Array,Uint32Array,Int32Array,Uint8Array};function YI(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],h=t[l],c=N1(h);i[c]||(i[c]=new XI[c](s)),o=i[c];for(let f=0;f<h.length;f++){const d=(f/u|0)*n+a,p=f%u;o[d+p]=h[f]}a+=u}return new Float32Array(s)}const C_={5126:4,5123:2,5121:1};let KI=0;const qI={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ei{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=KI++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Er("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Le||(r instanceof Array&&(r=new Float32Array(r)),r=new Le(r));const u=e.split("|");if(u.length>1){for(let c=0;c<u.length;c++)this.addAttribute(u[c],r,n,i,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new Zu(h,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Le||(e instanceof Array&&(e=new Uint16Array(e)),e=new Le(e)),e.type=Gr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Le;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*C_[s.type]/4),s.buffer=0}for(n.data=YI(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ei;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Le(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Zu(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Gr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ei,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new qI[N1(o.buffers[a].data)](i[a]),r.buffers[a]=new Le(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Gr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,h=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){h=c;break}for(const c in o.attributes){const f=o.attributes[c];(f.buffer|0)===h&&(l+=f.size*C_[f.type]/4)}for(let c=0;c<e.length;c++){const f=e[c].indexBuffer.data;for(let d=0;d<f.length;d++)r.indexBuffer.data[d+u]+=a;a+=e[c].buffers[h].data.length/l,u+=f.length}}return r}}class L1 extends ei{constructor(e=!1){super(),this._buffer=new Le(null,e,!1),this._indexBuffer=new Le(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,re.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,re.FLOAT).addAttribute("aColor",this._buffer,4,!0,re.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,re.FLOAT).addIndex(this._indexBuffer)}}const Ju=Math.PI*2,QI=180/Math.PI,ZI=Math.PI/180;var st=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(st||{});class me{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Rl=[new me,new me,new me,new me];class le{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=st.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new le(0,0,0,0)}clone(){return new le(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const E=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=E)return!1;const A=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>A}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Rl[0].set(e.left,e.top),l=Rl[1].set(e.left,e.bottom),u=Rl[2].set(e.right,e.top),h=Rl[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const c=Math.sign(r.a*r.d-r.b*r.c);if(c===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(h,h),Math.max(a.x,l.x,u.x,h.x)<=n||Math.min(a.x,l.x,u.x,h.x)>=i||Math.max(a.y,l.y,u.y,h.y)<=s||Math.min(a.y,l.y,u.y,h.y)>=o))return!1;const f=c*(l.y-a.y),d=c*(a.x-l.x),p=f*n+d*s,m=f*i+d*s,v=f*n+d*o,_=f*i+d*o;if(Math.max(p,m,v,_)<=f*a.x+d*a.y||Math.min(p,m,v,_)>=f*h.x+d*h.y)return!1;const y=c*(a.y-u.y),g=c*(u.x-a.x),x=y*n+g*s,w=y*i+g*s,b=y*n+g*o,T=y*i+g*o;return!(Math.max(x,w,b,T)<=y*a.x+g*a.y||Math.min(x,w,b,T)>=y*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Nm{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=st.CIRC}clone(){return new Nm(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new le(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Fm{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=st.ELIP}clone(){return new Fm(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new le(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ls{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=st.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ls(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(u-a)*((r-l)/(h-l))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class Bm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=st.RREC}clone(){return new Bm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Se{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new me;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new me;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(Ju-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Se;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Se}static get TEMP_MATRIX(){return new Se}}const mi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],gi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],yi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_i=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Yd=[],U1=[],Il=Math.sign;function JI(){for(let t=0;t<16;t++){const e=[];Yd.push(e);for(let r=0;r<16;r++){const n=Il(mi[t]*mi[r]+yi[t]*gi[r]),i=Il(gi[t]*mi[r]+_i[t]*gi[r]),s=Il(mi[t]*yi[r]+yi[t]*_i[r]),o=Il(gi[t]*yi[r]+_i[t]*_i[r]);for(let a=0;a<16;a++)if(mi[a]===n&&gi[a]===i&&yi[a]===s&&_i[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Se;e.set(mi[t],gi[t],yi[t],_i[t],0,0),U1.push(e)}}JI();const be={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>mi[t],uY:t=>gi[t],vX:t=>yi[t],vY:t=>_i[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Yd[t][e],sub:(t,e)=>Yd[t][be.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?be.S:be.N:Math.abs(e)*2<=Math.abs(t)?t>0?be.E:be.W:e>0?t>0?be.SE:be.SW:t>0?be.NE:be.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=U1[be.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Dn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Dn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const G1=class{constructor(){this.worldTransform=new Se,this.localTransform=new Se,this.position=new Dn(this.onChange,this,0,0),this.scale=new Dn(this.onChange,this,1,1),this.pivot=new Dn(this.onChange,this,0,0),this.skew=new Dn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Lm=G1;Lm.IDENTITY=new G1;var e2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,t2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function A_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function lf(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function z1(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return lf(2*e);case"bvec3":return lf(3*e);case"bvec4":return lf(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Us=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],r2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},n2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function i2(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Us.length;l++)if(Us[l].test(s,o)){r.push(Us[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?r2:n2)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const $1={};let rs=$1;function s2(){if(rs===$1||rs!=null&&rs.isContextLost()){const t=Y.ADAPTER.createCanvas();let e;Y.PREFER_ENV>=Wi.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),rs=e}return rs}let Ml;function o2(){if(!Ml){Ml=Qt.MEDIUM;const t=s2();t&&t.getShaderPrecisionFormat&&(Ml=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Qt.HIGH:Qt.MEDIUM)}return Ml}function P_(t,e){const r=t.getShaderSource(e).split(`
`).map((u,h)=>`${h}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function a2(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||P_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||P_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const l2={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function H1(t){return l2[t]}let kl=null;const R_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function j1(t,e){if(!kl){const r=Object.keys(R_);kl={};for(let n=0;n<r.length;++n){const i=r[n];kl[t[i]]=R_[i]}}return kl[e]}function I_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Qt.HIGH&&r!==Qt.HIGH&&(n=Qt.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Qt.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ao;function u2(){if(typeof Ao=="boolean")return Ao;try{Ao=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ao=!1}return Ao}let h2=0;const Dl={},as=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=h2++,this.vertexSrc=t||as.defaultVertexSrc,this.fragmentSrc=e||as.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Dl[r]?(Dl[r]++,r+=`-${Dl[r]}`):Dl[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=I_(this.vertexSrc,as.defaultVertexPrecision,Qt.HIGH),this.fragmentSrc=I_(this.fragmentSrc,as.defaultFragmentPrecision,o2())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return t2}static get defaultFragmentSrc(){return e2}static from(t,e,r){const n=t+e;let i=E_[n];return i||(E_[n]=i=new as(t,e,r)),i}};let _r=as;_r.defaultVertexPrecision=Qt.HIGH;_r.defaultFragmentPrecision=on.apple.device?Qt.HIGH:Qt.MEDIUM;let c2=0;class Tr{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=c2++,this.static=!!r,this.ubo=!!n,e instanceof Le?(this.buffer=e,this.buffer.type=Gr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Le(new Float32Array(1)),this.buffer.type=Gr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Tr(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Tr(e,r,n)}static uboFrom(e,r){return new Tr(e,r??!0,!0)}}class zr{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Tr?this.uniformGroup=r:this.uniformGroup=new Tr(r):this.uniformGroup=new Tr({}),this.disposeRunner=new Er("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=_r.from(e,r);return new zr(i,n)}}class f2{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Tr.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new _r(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Se,default:this.defaultGroupCache[e]};return new zr(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Kd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function d2(){return!on.apple.device}function p2(t){let e=!0;const r=Y.ADAPTER.getNavigator();if(on.tablet||on.phone){if(on.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(on.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class zh{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var m2=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,g2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ur=class extends zh{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=L1,this.vertexSize=6,this.state=wn.for2d(),this.size=ur.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??p2(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??d2(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return ce("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return g2}static get defaultFragmentTemplate(){return m2}setShaderGenerator({vertex:t=ur.defaultVertexSrc,fragment:e=ur.defaultFragmentTemplate}={}){this.shaderGenerator=new f2(t,e)}contextChange(){const t=this.renderer.gl;Y.PREFER_ENV===Wi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ur.defaultMaxTextures),this.maxTextures=jI(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=ur,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Xd);for(;e.length<n;)e.push(new Kd);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=ur._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++oe._globalBatch,a=0,l=r[0],u=0;n.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const c=t[h];t[h]=null,c._batchEnabled!==o&&(l.count>=e&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,h),u=h,l=r[++a],++o),c._batchEnabled=o,c.touched=s,l.elements[l.count++]=c)}l.count>0&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;oe._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=ur._drawCallPool;let l=this._dcIndex,u=this._aIndex,h=this._iIndex,c=a[l];c.start=this._iIndex,c.texArray=t;for(let f=e;f<r;++f){const d=n[f],p=d._texture.baseTexture,m=D1[p.alphaMode?1:0][d.blendMode];n[f]=null,e<f&&c.blend!==m&&(c.size=h-c.start,e=f,c=a[++l],c.texArray=t,c.start=h),this.packInterleavedGeometry(d,i,s,u,h),u+=d.vertexData.length/2*o,h+=d.indices.length,c.blend=m}e<r&&(c.size=h-c.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;ur.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=ur._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:h}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),ur.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Qu(Math.ceil(t/8)),r=w_(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Vd(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Qu(Math.ceil(t/12)),r=w_(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,h=t.vertexData,c=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),d=ye.shared.setValue(t._tintRGB).toPremultiplied(f,t._texture.baseTexture.alphaMode>0);for(let p=0;p<h.length;p+=2)o[n++]=h[p],o[n++]=h[p+1],o[n++]=l[p],o[n++]=l[p+1],s[n++]=d,o[n++]=c;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};let gr=ur;gr.defaultBatchSize=4096;gr.extension={name:"batch",type:q.RendererPlugin};gr._drawCallPool=[];gr._textureArrayPool=[];te.add(gr);var y2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,_2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Bo=class extends zr{constructor(t,e,r){const n=_r.from(t||Bo.defaultVertexSrc,e||Bo.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Bo.defaultResolution,this.multisample=Bo.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new wn}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return _2}static get defaultFragmentSrc(){return y2}};let ot=Bo;ot.defaultResolution=1;ot.defaultMultisample=ze.NONE;class $h{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ye(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}$h.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};$h.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"background"};te.add($h);class V1{constructor(e){this.renderer=e,this.emptyRenderer=new zh(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const h=s[u],c=h._batchLocation;if(c>=0&&c<i&&r[c]===h){o[u]=c;continue}for(;l<i;){const f=r[l];if(f&&f._batchEnabled===n&&f._batchLocation===l){l++;continue}o[u]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}V1.extension={type:q.RendererSystem,name:"batch"};te.add(V1);let M_=0;class Hh{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=M_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=M_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(Y.PREFER_ENV>=Wi.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Hh.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};Hh.extension={type:q.RendererSystem,name:"context"};te.add(Hh);class v2 extends Ja{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Cr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class qd{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Er("disposeFramebuffer"),this.multisample=ze.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new oe(null,{scaleMode:sn.NEAREST,resolution:1,mipmap:jr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new oe(new v2(null,{width:this.width,height:this.height}),{scaleMode:sn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:jr.OFF,format:$.DEPTH_COMPONENT,type:re.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class W1 extends oe{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=ze.NONE),super(null,e),this.mipmap=jr.OFF,this.valid=!0,this._clear=new ye([0,0,0,0]),this.framebuffer=new qd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ti extends Ma{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=zI(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Cr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class X1 extends ti{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ti.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??Y.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Cr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Y1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=be.add(n,be.NW),this.x0=l+o*be.uX(n),this.y0=u+a*be.uY(n),n=be.add(n,2),this.x1=l+o*be.uX(n),this.y1=u+a*be.uY(n),n=be.add(n,2),this.x2=l+o*be.uX(n),this.y2=u+a*be.uY(n),n=be.add(n,2),this.x3=l+o*be.uX(n),this.y3=u+a*be.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const k_=new Y1;function Ol(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class J extends Ka{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new le(0,0,1,1)),e instanceof J&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=k_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new me(o.x,o.y):new me(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Ir[r.url]&&J.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,J.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new J(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===k_&&(this._uvs=new Y1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=Y.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof oe){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Gi()}`,oe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Gi()}`}s=e._pixiId}let o=Ir[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof oe)?(r.resolution||(r.resolution=Jn(e)),o=new J(new oe(e,r)),o.baseTexture.cacheId=s,oe.addToCache(o.baseTexture,s),J.addToCache(o,s)):!o&&e instanceof oe&&(o=new J(e),J.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=J.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new J(oe.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new oe(e,Object.assign({scaleMode:oe.defaultOptions.scaleMode,resolution:Jn(r)},i)),{resource:o}=s;o instanceof X1&&(o.url=r);const a=new J(s);return n||(n=r),oe.addToCache(a.baseTexture,n),J.addToCache(a,n),n!==r&&(oe.addToCache(a.baseTexture,r),J.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Ir[r]&&Ir[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Ir[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Ir[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Ir[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Ir[e.textureCacheIds[r]]===e&&delete Ir[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,h=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return J._EMPTY||(J._EMPTY=new J(new oe),Ol(J._EMPTY),Ol(J._EMPTY.baseTexture)),J._EMPTY}static get WHITE(){if(!J._WHITE){const e=Y.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),J._WHITE=new J(oe.from(e)),Ol(J._WHITE),Ol(J._WHITE.baseTexture)}return J._WHITE}}class Yi extends J{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Yi(new W1(e))}}class K1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=ze.NONE){const i=new W1(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Yi(i)}getOptimalTexture(e,r,n=1,i=ze.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Qu(e),r=Qu(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||ze.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}K1.SCREEN_KEY=-1;class x2 extends ei{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class q1 extends ei{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Le(this.vertices),this.uvBuffer=new Le(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class w2{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ze.NONE,this.sourceFrame=new le,this.destinationFrame=new le,this.bindingSourceFrame=new le,this.bindingDestinationFrame=new le,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Nl=[new me,new me,new me,new me],uf=new Se;class Q1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new K1,this.statePool=[],this.quad=new x2,this.quadUv=new q1,this.tempRect=new le,this.activeState={},this.globalUniforms=new Tr({outputFrame:new le,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new w2,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,u=r[0].padding,h=r[0].autoFit,c=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,h=h&&m.autoFit,c=c||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=c,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const f=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(uf.copyFrom(n.projection.transform).invert(),f),h?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Dr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,h=this.getOptimalFilterTexture(u.width,u.height,r.resolution);h.filterFrame=u.filterFrame;let c=0;for(c=0;c<n.length-1;++c){c===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(u.width,u.height,r.resolution),h.filterFrame=u.filterFrame),n[c].apply(this,u,h,Dr.CLEAR,r);const f=u;u=h,h=f}n[c].apply(this,u,l.renderTexture,Dr.BLEND,r),c>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Dr.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Dr.CLEAR||r===Dr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Br.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Br.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Se.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=ze.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||ze.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Nl[0],i=Nl[1],s=Nl[2],o=Nl[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),h=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=h-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?uf.copyFrom(s):uf.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Q1.extension={type:q.RendererSystem,name:"filter"};te.add(Q1);class E2{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ze.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const T2=new le;class Z1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new qd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new le,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Y.PREFER_ENV===Wi.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Ad.COLOR|Ad.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new E2(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=ze.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=ze.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new qd(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=T2,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new le}destroy(){this.renderer=null}}Z1.extension={type:q.RendererSystem,name:"framebuffer"};te.add(Z1);const hf={5126:4,5123:2,5121:1};class J1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Y.PREFER_ENV===Wi.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let h=u[l];if(h)return u[a.id]=h,h;const c=e.buffers,f=e.attributes,d={},p={};for(const m in c)d[m]=0,p[m]=0;for(const m in f)!f[m].size&&a.attributeData[m]?f[m].size=a.attributeData[m].size:f[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),d[f[m].buffer]+=f[m].size*hf[f[m].type];for(const m in f){const v=f[m],_=v.size;v.stride===void 0&&(d[v.buffer]===_*hf[v.type]?v.stride=0:v.stride=d[v.buffer]),v.start===void 0&&(v.start=p[v.buffer],p[v.buffer]+=_*hf[v.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let m=0;m<c.length;m++){const v=c[m];o.bind(v),n&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=h,u[l]=h,i.bindVertexArray(null),o.unbind(Gr.ARRAY_BUFFER),h}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const h=a[u],c=o[h.buffer],f=c._glBuffers[i];if(r.attributeData[u]){l!==f&&(s.bind(c),l=f);const d=r.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(d,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}J1.extension={type:q.RendererSystem,name:"geometry"};te.add(J1);const D_=new Se;class ew{constructor(e,r){this._texture=e,this.mapCoord=new Se,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(D_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(D_));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var S2=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,b2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class C2 extends ot{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||b2,r||S2,n),this.maskSprite=i,this.maskMatrix=new Se}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ew(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class A2{constructor(e=null){this.type=Ve.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ot.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ve.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class tw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new A2;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ve.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ve.SCISSOR:this.renderer.scissor.push(n);break;case Ve.STENCIL:this.renderer.stencil.push(n);break;case Ve.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ve.COLOR:this.pushColorMask(n);break}n.type===Ve.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ve.SCISSOR:this.renderer.scissor.pop(r);break;case Ve.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ve.SPRITE:this.popSpriteMask(r);break;case Ve.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ve.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Ve.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ve.SCISSOR:e.type=Ve.STENCIL:e.type=Ve.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new C2]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=r;const u=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}tw.extension={type:q.RendererSystem,name:"mask"};te.add(tw);class rw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const O_=new Se,N_=[],uu=class extends rw{constructor(t){super(t),this.glConst=Y.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,N_.pop()??new le);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||uu.isMatrixRotated(e.worldTransform)||uu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){uu.isMatrixRotated(i)||(i=i?O_.copyFrom(i):O_.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&N_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let nw=uu;nw.extension={type:q.RendererSystem,name:"scissor"};te.add(nw);class iw extends rw{constructor(e){super(e),this.glConst=Y.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}iw.extension={type:q.RendererSystem,name:"stencil"};te.add(iw);class sw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ce("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ce("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ce("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}sw.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"_plugin"};te.add(sw);class ow{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Se,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}ow.extension={type:q.RendererSystem,name:"projection"};te.add(ow);const P2=new Lm;class aw{constructor(e){this.renderer=e,this._tempMatrix=new Se}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Yi.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=P2,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}aw.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"textureGenerator"};te.add(aw);const ui=new le,Po=new le;class lw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new le,this.destinationFrame=new le,this.viewportFrame=new le}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(ui.width=e.frame.width,ui.height=e.frame.height,r=ui),n||(Po.x=e.frame.x,Po.y=e.frame.y,Po.width=r.width,Po.height=r.height,n=Po),o=s.framebuffer):(a=i.resolution,r||(ui.width=i._view.screen.width,ui.height=i._view.screen.height,r=ui),n||(n=ui,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=ye.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:h,height:c}=this.viewportFrame;l=Math.round(l),u=Math.round(u),h=Math.round(h),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,h,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}lw.extension={type:q.RendererSystem,name:"renderTexture"};te.add(lw);class R2{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function I2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=j1(e,s.type),a={type:o,name:s.name,size:H1(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function M2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=j1(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:z1(l,s.size)}}return r}function k2(t,e){var l;const r=A_(t,t.VERTEX_SHADER,e.vertexSrc),n=A_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||a2(t,i,r,n),e.attributeData=I2(i,t),e.uniformData=M2(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((h,c)=>h>c?1:-1);for(let h=0;h<u.length;h++)e.attributeData[u[h]].location=h,t.bindAttribLocation(i,h,u[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const h=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:z1(h.type,h.size)}}return new R2(i,o)}function D2(t,e,r,n,i){r.buffer.update(i)}const O2={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},uw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function N2(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=uw[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function F2(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function B2(t,e){if(!t.autoManage)return{size:0,syncFunc:D2};const r=F2(t.uniforms,e),{uboElements:n,size:i}=N2(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let h=!1;for(let c=0;c<Us.length;c++){const f=Us[c];if(f.codeUbo&&f.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Us[c].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const c=H1(a.data.type),f=Math.max(uw[a.data.type]/16,1),d=c/f,p=(4-d%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const c=O2[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let L2=0;const Fl={textureCount:0,uboCount:0};class hw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=L2++}systemCheck(){if(!u2())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Fl.textureCount=0,Fl.uboCount=0,this.syncUniformGroup(e.uniformGroup,Fl)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=i2(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Fl,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=B2(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=k2(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}hw.extension={type:q.RendererSystem,name:"shader"};te.add(hw);class jh{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}jh.defaultOptions={hello:!1};jh.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"startup"};te.add(jh);function U2(t,e=[]){return e[ne.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.ADD]=[t.ONE,t.ONE],e[ne.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.NONE]=[0,0],e[ne.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ne.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ne.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ne.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ne.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ne.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ne.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ne.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ne.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ne.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const G2=0,z2=1,$2=2,H2=3,j2=4,V2=5,Qd=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ne.NONE,this._blendEq=!1,this.map=[],this.map[G2]=this.setBlend,this.map[z2]=this.setOffset,this.map[$2]=this.setCullFace,this.map[H2]=this.setDepthTest,this.map[j2]=this.setFrontFace,this.map[V2]=this.setDepthMask,this.checks=[],this.defaultState=new wn,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=U2(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Qd.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Qd.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let cw=Qd;cw.extension={type:q.RendererSystem,name:"state"};te.add(cw);class W2 extends Ka{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Er(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const hu=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=hu.defaultMaxIdle,this.checkCountMax=hu.defaultCheckCountMax,this.mode=hu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Am.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let yr=hu;yr.defaultMode=Am.AUTO;yr.defaultMaxIdle=60*60;yr.defaultCheckCountMax=60*10;yr.extension={type:q.RendererSystem,name:"textureGC"};te.add(yr);class cf{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=re.UNSIGNED_BYTE,this.internalFormat=$.RGBA,this.samplerType=0}}function X2(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[re.UNSIGNED_BYTE]:{[$.RGBA]:t.RGBA8,[$.RGB]:t.RGB8,[$.RG]:t.RG8,[$.RED]:t.R8,[$.RGBA_INTEGER]:t.RGBA8UI,[$.RGB_INTEGER]:t.RGB8UI,[$.RG_INTEGER]:t.RG8UI,[$.RED_INTEGER]:t.R8UI,[$.ALPHA]:t.ALPHA,[$.LUMINANCE]:t.LUMINANCE,[$.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[re.BYTE]:{[$.RGBA]:t.RGBA8_SNORM,[$.RGB]:t.RGB8_SNORM,[$.RG]:t.RG8_SNORM,[$.RED]:t.R8_SNORM,[$.RGBA_INTEGER]:t.RGBA8I,[$.RGB_INTEGER]:t.RGB8I,[$.RG_INTEGER]:t.RG8I,[$.RED_INTEGER]:t.R8I},[re.UNSIGNED_SHORT]:{[$.RGBA_INTEGER]:t.RGBA16UI,[$.RGB_INTEGER]:t.RGB16UI,[$.RG_INTEGER]:t.RG16UI,[$.RED_INTEGER]:t.R16UI,[$.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[re.SHORT]:{[$.RGBA_INTEGER]:t.RGBA16I,[$.RGB_INTEGER]:t.RGB16I,[$.RG_INTEGER]:t.RG16I,[$.RED_INTEGER]:t.R16I},[re.UNSIGNED_INT]:{[$.RGBA_INTEGER]:t.RGBA32UI,[$.RGB_INTEGER]:t.RGB32UI,[$.RG_INTEGER]:t.RG32UI,[$.RED_INTEGER]:t.R32UI,[$.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[re.INT]:{[$.RGBA_INTEGER]:t.RGBA32I,[$.RGB_INTEGER]:t.RGB32I,[$.RG_INTEGER]:t.RG32I,[$.RED_INTEGER]:t.R32I},[re.FLOAT]:{[$.RGBA]:t.RGBA32F,[$.RGB]:t.RGB32F,[$.RG]:t.RG32F,[$.RED]:t.R32F,[$.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[re.HALF_FLOAT]:{[$.RGBA]:t.RGBA16F,[$.RGB]:t.RGB16F,[$.RG]:t.RG16F,[$.RED]:t.R16F},[re.UNSIGNED_SHORT_5_6_5]:{[$.RGB]:t.RGB565},[re.UNSIGNED_SHORT_4_4_4_4]:{[$.RGBA]:t.RGBA4},[re.UNSIGNED_SHORT_5_5_5_1]:{[$.RGBA]:t.RGB5_A1},[re.UNSIGNED_INT_2_10_10_10_REV]:{[$.RGBA]:t.RGB10_A2,[$.RGBA_INTEGER]:t.RGB10_A2UI},[re.UNSIGNED_INT_10F_11F_11F_REV]:{[$.RGB]:t.R11F_G11F_B10F},[re.UNSIGNED_INT_5_9_9_9_REV]:{[$.RGB]:t.RGB9_E5},[re.UNSIGNED_INT_24_8]:{[$.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[re.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[$.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[re.UNSIGNED_BYTE]:{[$.RGBA]:t.RGBA,[$.RGB]:t.RGB,[$.ALPHA]:t.ALPHA,[$.LUMINANCE]:t.LUMINANCE,[$.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[re.UNSIGNED_SHORT_5_6_5]:{[$.RGB]:t.RGB},[re.UNSIGNED_SHORT_4_4_4_4]:{[$.RGBA]:t.RGBA},[re.UNSIGNED_SHORT_5_5_5_1]:{[$.RGBA]:t.RGBA}},e}class fw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new oe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=X2(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new cf(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new cf(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Pd.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new cf(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===re.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Pd.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Bs(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===jr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Wn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==jr.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===sn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===sn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===sn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===sn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}fw.extension={type:q.RendererSystem,name:"texture"};te.add(fw);class dw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}dw.extension={type:q.RendererSystem,name:"transformFeedback"};te.add(dw);class Vh{constructor(e){this.renderer=e}init(e){this.screen=new le(0,0,e.width,e.height),this.element=e.view||Y.ADAPTER.createCanvas(),this.resolution=e.resolution||Y.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Vh.defaultOptions={width:800,height:600,resolution:Y.RESOLUTION,autoDensity:!1};Vh.extension={type:[q.RendererSystem,q.CanvasRendererSystem],name:"_view"};te.add(Vh);Y.PREFER_ENV=Wi.WEBGL2;Y.STRICT_TEXTURE_CACHE=!1;Y.RENDER_OPTIONS={...Hh.defaultOptions,...$h.defaultOptions,...Vh.defaultOptions,...jh.defaultOptions};Object.defineProperties(Y,{WRAP_MODE:{get(){return oe.defaultOptions.wrapMode},set(t){ce("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),oe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return oe.defaultOptions.scaleMode},set(t){ce("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),oe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return oe.defaultOptions.mipmap},set(t){ce("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),oe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return oe.defaultOptions.anisotropicLevel},set(t){ce("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),oe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return ce("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ot.defaultResolution},set(t){ot.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return ce("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ot.defaultMultisample},set(t){ot.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return gr.defaultMaxTextures},set(t){ce("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),gr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return gr.defaultBatchSize},set(t){ce("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),gr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return gr.canUploadSameBuffer},set(t){ce("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),gr.canUploadSameBuffer=t}},GC_MODE:{get(){return yr.defaultMode},set(t){ce("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),yr.defaultMode=t}},GC_MAX_IDLE:{get(){return yr.defaultMaxIdle},set(t){ce("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),yr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return yr.defaultCheckCountMax},set(t){ce("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),yr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return _r.defaultVertexPrecision},set(t){ce("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),_r.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return _r.defaultFragmentPrecision},set(t){ce("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),_r.defaultFragmentPrecision=t}}});var zi=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(zi||{});class ff{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Dt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ff(null,null,1/0),this.deltaMS=1/Dt.targetFPMS,this.elapsedMS=1/Dt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=zi.NORMAL){return this._addListener(new ff(t,e,r))}addOnce(t,e,r=zi.NORMAL){return this._addListener(new ff(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Dt.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Dt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Dt._shared){const t=Dt._shared=new Dt;t.autoStart=!0,t._protected=!0}return Dt._shared}static get system(){if(!Dt._system){const t=Dt._system=new Dt;t.autoStart=!0,t._protected=!0}return Dt._system}};let ft=Dt;ft.targetFPMS=.06;Object.defineProperties(Y,{TARGET_FPMS:{get(){return ft.targetFPMS},set(t){ce("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ft.targetFPMS=t}}});class pw{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,zi.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ft.shared:new ft,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}pw.extension=q.Application;te.add(pw);const mw=[];te.handleByList(q.Renderer,mw);function Y2(t){for(const e of mw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var K2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,q2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Q2=K2,gw=q2;class yw{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=ze.HIGH?this.multisample=ze.HIGH:r>=ze.MEDIUM?this.multisample=ze.MEDIUM:r>=ze.LOW?this.multisample=ze.LOW:this.multisample=ze.NONE}destroy(){}}yw.extension={type:q.RendererSystem,name:"_multisample"};te.add(yw);class Z2{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _w{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Z2(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}_w.extension={type:q.RendererSystem,name:"buffer"};te.add(_w);class vw{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}vw.extension={type:q.RendererSystem,name:"objectRenderer"};te.add(vw);const Zd=class extends W2{constructor(t){super(),this.type=Jx.WEBGL,t=Object.assign({},Y.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Tr({projectionMatrix:new Se},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Zd.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(ce("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Zd.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:R1()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ce("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ce("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ce("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ce("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){ce("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return ce("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){ce("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return ce("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let po=Zd;po.extension={type:q.Renderer,priority:1};po.__plugins={};po.__systems={};te.handleByMap(q.RendererPlugin,po.__plugins);te.handleByMap(q.RendererSystem,po.__systems);te.add(po);class xw extends Ma{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new oe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ma?this.addResourceAt(e[n],n):this.addResourceAt(B1(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class J2 extends xw{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ds.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class eM extends ti{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Lo=class extends xw{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Lo.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Lo.SIDES;o++)this.items[o].target=Ds.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Ds.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ds.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Lo.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Lo.SIDES}};let ww=Lo;ww.SIDES=6;class Ss extends ti{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Ss.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await Y.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Cr.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ss._EMPTY=Ss._EMPTY??Y.ADAPTER.createCanvas(0,0),Ss._EMPTY}}const cu=class extends ti{constructor(t,e){e=e||{},super(Y.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},cu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;ti.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${Gi()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=cu.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&cu.SVG_XML.test(t)}};let ka=cu;ka.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;ka.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Jd=class extends ti{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];ti.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||Jd.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=ft.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ft.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ft.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Jd.TYPES.includes(e)}};let Um=Jd;Um.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Um.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Wd.push(Ss,X1,eM,Um,ka,Ja,ww,J2);class eh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?le.EMPTY:(e=e||new le(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,h=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,h=e.tx,c=e.ty;let f=this.minX,d=this.minY,p=this.maxX,m=this.maxY,v=o*r+l*n+h,_=a*r+u*n+c;f=v<f?v:f,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*i+l*n+h,_=a*i+u*n+c,f=v<f?v:f,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*r+l*s+h,_=a*r+u*s+c,f=v<f?v:f,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*i+l*s+h,_=a*i+u*s+c,f=v<f?v:f,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,this.minX=f,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],h=e[l+1];i=u<i?u:i,s=h<s?h:s,o=u>o?u:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,h=e.d,c=e.tx,f=e.ty;let d=this.minX,p=this.minY,m=this.maxX,v=this.maxY;for(let _=n;_<i;_+=2){const y=r[_],g=r[_+1],x=a*y+u*g+c,w=h*g+l*y+f;d=Math.min(d,x-s),m=Math.max(m,x+s),p=Math.min(p,w-o),v=Math.max(v,w+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=v}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class De extends Ka{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Lm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new eh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(De.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new le),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new le),e=this._localBoundsRect),this._localBounds||(this._localBounds=new eh);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new tM),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*QI}set angle(e){this.transform.rotation=e*ZI}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class tM extends De{constructor(){super(...arguments),this.sortDirty=null}}De.prototype.displayObjectUpdateTransform=De.prototype.updateTransform;const rM=new Se;function nM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const ep=class extends De{constructor(){super(),this.children=[],this.sortableChildren=ep.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Bs(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Bs(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Bs(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(nM),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==ep.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=rM.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Ve.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let kt=ep;kt.defaultSortableChildren=!1;kt.prototype.containerUpdateTransform=kt.prototype.updateTransform;Object.defineProperties(Y,{SORTABLE_CHILDREN:{get(){return kt.defaultSortableChildren},set(t){ce("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),kt.defaultSortableChildren=t}}});const Ro=new me,iM=new Uint16Array([0,1,2,0,2,3]);class Ki extends kt{constructor(e){super(),this._anchor=new Dn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ye(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ne.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||J.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=iM,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Y.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=kn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=kn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,h=e.trim,c=e.orig,f=this._anchor;let d=0,p=0,m=0,v=0;if(h?(p=h.x-f._x*c.width,d=p+h.width,v=h.y-f._y*c.height,m=v+h.height):(p=-f._x*c.width,d=p+c.width,v=-f._y*c.height,m=v+c.height),u[0]=n*p+s*v+a,u[1]=o*v+i*p+l,u[2]=n*d+s*v+a,u[3]=o*v+i*d+l,u[4]=n*d+s*m+a,u[5]=o*m+i*d+l,u[6]=n*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const _=Y.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,h=s.tx,c=s.ty,f=-i._x*n.width,d=f+n.width,p=-i._y*n.height,m=p+n.height;r[0]=o*f+l*p+h,r[1]=u*p+a*f+c,r[2]=o*d+l*p+h,r[3]=u*p+a*d+c,r[4]=o*d+l*m+h,r[5]=u*m+a*d+c,r[6]=o*f+l*m+h,r[7]=u*m+a*f+c}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new eh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new le),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ro);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Ro.x>=i&&Ro.x<i+r&&(s=-n*this.anchor.y,Ro.y>=s&&Ro.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof J?e:J.from(e,r);return new Ki(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=kn(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=kn(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||J.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Ew=new Se;De.prototype._cacheAsBitmap=!1;De.prototype._cacheData=null;De.prototype._cacheAsBitmapResolution=null;De.prototype._cacheAsBitmapMultisample=null;class sM{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(De.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new sM),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});De.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};De.prototype._initCachedDisplayObject=function(e){var f,d;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;n.pad(p)}n.ceil(Y.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=Yi.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${Gi()}`;this._cacheData.textureCacheId=u,oe.addToCache(l.baseTexture,u),J.addToCache(l,u);const h=this.transform.localTransform.copyTo(Ew).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Ki(l);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};De.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};De.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(Y.RESOLUTION);const o=Yi.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${Gi()}`;this._cacheData.textureCacheId=a,oe.addToCache(o.baseTexture,a),J.addToCache(o,a);const l=Ew;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const u=new Ki(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};De.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};De.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};De.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,oe.removeFromCache(this._cacheData.textureCacheId),J.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};De.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};De.prototype.name=null;kt.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};De.prototype.getGlobalPosition=function(e=new me,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var oM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class aM extends ot{constructor(e=1){super(Q2,oM,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const lM={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},uM=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function hM(t){const e=lM[t],r=e.length;let n=uM,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const cM=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function fM(t,e){const r=Math.ceil(t/2);let n=cM,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class tp extends ot{constructor(e,r=8,n=4,i=ot.defaultResolution,s=5){const o=fM(s,e),a=hM(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Dr.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Dr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class dM extends ot{constructor(e=8,r=4,n=ot.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new tp(!0,e,r,n,i),this.blurYFilter=new tp(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Dr.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var pM=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class rp extends ot{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(gw,pM,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=ye.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,h=o*(1-n)+a*i,c=o*(1-n)+a*i,f=n+o*(1-n),d=o*(1-n)-a*i,p=o*(1-n)-a*i,m=o*(1-n)+a*i,v=n+o*(1-n),_=[l,u,h,0,0,c,f,d,0,0,p,m,v,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=ye.shared,[a,l,u]=o.setValue(n).toArray(),[h,c,f]=o.setValue(i).toArray(),d=[.3,.59,.11,0,0,a,l,u,e,0,h,c,f,r,0,a-h,l-c,u-f,0,0];this._loadMatrix(d,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}rp.prototype.grayscale=rp.prototype.greyscale;var mM=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,gM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class yM extends ot{constructor(e,r){const n=new Se;e.renderable=!1,super(gM,mM,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new me(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var _M=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vM=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class xM extends ot{constructor(){super(vM,_M)}}var wM=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class EM extends ot{constructor(e=.5,r=Math.random()){super(gw,wM,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const F_={AlphaFilter:aM,BlurFilter:dM,BlurFilterPass:tp,ColorMatrixFilter:rp,DisplacementFilter:yM,FXAAFilter:xM,NoiseFilter:EM};Object.entries(F_).forEach(([t,e])=>{Object.defineProperty(F_,t,{get(){return ce("7.1.0",`filters.${t} has moved to ${t}`),e}})});class TM{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(ft.system.add(this.tickerUpdate,this,zi.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(ft.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Pn=new TM;class el{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=el.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new me,this.page=new me,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class th extends el{constructor(){super(...arguments),this.client=new me,this.movement=new me,this.offset=new me,this.global=new me,this.screen=new me}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,h,c,f,d,p,m){throw new Error("Method not implemented.")}}class hr extends th{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Zs extends th{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Zs.DOM_DELTA_PIXEL=0;Zs.DOM_DELTA_LINE=1;Zs.DOM_DELTA_PAGE=2;const SM=2048,bM=new me,df=new me;class CM{constructor(e){this.dispatch=new Ka,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Pn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,bM.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<SM&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Pn.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const f=h[c],d=this.hitTestMoveRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s,o||s(e,n));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const p=e.isInteractive();(d.length>0||p)&&(p&&this._allInteractiveElements.push(e),d.push(e)),this._hitElements.length===0&&(this._hitElements=d),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Pn.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const h=l[u],c=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;const f=e.isInteractive();return(c.length>0||f)&&c.push(e),c}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,df),!e.hitArea.contains(df.x,df.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof hr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof hr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const h=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,h,s);if(this.dispatchEvent(c,"pointerout"),n&&this.dispatchEvent(c,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}if(s!==r.target){const h=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(r,h);this.dispatchEvent(c,"pointerover"),n&&this.dispatchEvent(c,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(c)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof hr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof hr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof hr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof hr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Zs)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(hr);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Zs);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(hr);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof hr&&r instanceof hr&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof th&&r instanceof th&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const AM=1,PM={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},np=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new CM(null),Pn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new hr(null),this.rootWheelEvent=new Zs(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...np.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,np._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Pn.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Pn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Pn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Pn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=AM),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=PM[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Da=np;Da.extension={name:"events",type:[q.RendererSystem,q.CanvasRendererSystem]};Da.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};te.add(Da);function B_(t){return t==="dynamic"||t==="static"}const RM={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??B_(Da.defaultEventMode)},set interactive(t){ce("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Da.defaultEventMode},set eventMode(t){this._internalInteractive=B_(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof el))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};De.mixin(RM);const IM={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};De.mixin(IM);const MM=9,Bl=100,kM=0,DM=0,L_=2,U_=1,OM=-1e3,NM=-1e3,FM=2;class Tw{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(on.tablet||on.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Bl}px`,r.style.height=`${Bl}px`,r.style.position="absolute",r.style.top=`${kM}px`,r.style.left=`${DM}px`,r.style.zIndex=L_.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${U_}px`,e.style.height=`${U_}px`,e.style.position="absolute",e.style.top=`${OM}px`,e.style.left=`${NM}px`,e.style.zIndex=FM.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(on.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,h=s/a*l;let c=this.div;c.style.left=`${r}px`,c.style.top=`${n}px`,c.style.width=`${o}px`,c.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const d=this.children[f];if(d.renderId!==this.renderId)d._accessibleActive=!1,Bs(this.children,f,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,f--;else{c=d._accessibleDiv;let p=d.hitArea;const m=d.worldTransform;d.hitArea?(c.style.left=`${(m.tx+p.x*m.a)*u}px`,c.style.top=`${(m.ty+p.y*m.d)*h}px`,c.style.width=`${p.width*m.a*u}px`,c.style.height=`${p.height*m.d*h}px`):(p=d.getBounds(),this.capHitArea(p),c.style.left=`${p.x*u}px`,c.style.top=`${p.y*h}px`,c.style.width=`${p.width*u}px`,c.style.height=`${p.height*h}px`,c.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(c.title=d.accessibleTitle),c.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&c.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==c.title||d.tabIndex!==c.tabIndex)&&(c.title=d.accessibleTitle,c.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Bl}px`,r.style.height=`${Bl}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=L_.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new el(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===MM&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Tw.extension={name:"accessibility",type:[q.RendererPlugin,q.CanvasRendererPlugin]};te.add(Tw);const ip=class{constructor(t){this.stage=new kt,t=Object.assign({forceCanvas:!1},t),this.renderer=Y2(t),ip._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=ip._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Gm=ip;Gm._plugins=[];te.handleByList(q.Application,Gm._plugins);class Sw{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Sw.extension=q.Application;te.add(Sw);const G_={loader:q.LoadParser,resolver:q.ResolveParser,cache:q.CacheParser,detection:q.DetectionParser};te.handle(q.Asset,t=>{const e=t.ref;Object.entries(G_).filter(([r])=>!!e[r]).forEach(([r,n])=>te.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(G_).filter(r=>!!e[r]).forEach(r=>te.remove(e[r]))});class BM{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function tl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function qi(t,e){const r=t.split("?")[0],n=pt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const hn=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),sp=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function bw(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?bw(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function LM(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),bw(t,i,0,r,n)}else n.push(t);return n}const rh=t=>!Array.isArray(t);class UM{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=hn(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof J){const a=r;n.forEach(l=>{a.baseTexture!==J.EMPTY.baseTexture&&oe.addToCache(a.baseTexture,l),J.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Io=new UM;class GM{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=rh(e),o=hn(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const h=pt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,u)),i[u.src]=await this.promiseCache[h].promise,r&&r(++n/a)}catch(c){throw delete this.promiseCache[h],delete i[u.src],new Error(`[Loader.load] Failed to load ${h}.
${c}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const n=hn(e,i=>({src:i})).map(async i=>{var a,l;const s=pt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Xr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Xr||{});const zM=".json",$M="application/json",HM={extension:{type:q.LoadParser,priority:Xr.Low},name:"loadJson",test(t){return tl(t,$M)||qi(t,zM)},async load(t){return await(await Y.ADAPTER.fetch(t)).json()}};te.add(HM);const jM=".txt",VM="text/plain",WM={name:"loadTxt",extension:{type:q.LoadParser,priority:Xr.Low},test(t){return tl(t,VM)||qi(t,jM)},async load(t){return await(await Y.ADAPTER.fetch(t)).text()}};te.add(WM);const XM=["normal","bold","100","200","300","400","500","600","700","800","900"],YM=[".ttf",".otf",".woff",".woff2"],KM=["font/ttf","font/otf","font/woff","font/woff2"],qM=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function QM(t){const e=pt.extname(t),i=pt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(qM)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const ZM={extension:{type:q.LoadParser,priority:Xr.Low},name:"loadWebFont",test(t){return tl(t,KM)||qi(t,YM)},async load(t,e){var n,i,s;const r=Y.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??QM(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>XM.includes(h)))??["normal"],u=e.data??{};for(let h=0;h<l.length;h++){const c=l[h],f=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:c});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Y.ADAPTER.getFontFaceSet().delete(e))}};te.add(ZM);let z_=0,pf;const JM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",ek={code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${JM}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},tk={code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let mf;class rk{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([ek.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){pf===void 0&&(pf=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<pf&&(mf||(mf=URL.createObjectURL(new Blob([tk.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(mf),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[z_]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:z_++,id:n})}}const $_=new rk;function Wh(t,e,r){const n=new J(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const nk=[".jpeg",".jpg",".png",".webp",".avif"],ik=["image/jpeg","image/png","image/webp","image/avif"];async function sk(t){const e=await Y.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Xh={name:"loadTextures",extension:{type:q.LoadParser,priority:Xr.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return tl(t,ik)||qi(t,nk)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await $_.isImageBitmapSupported()?n=await $_.loadImageBitmap(t):n=await sk(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new oe(n,{resolution:Jn(t),...e.data});return i.resource.src=t,Wh(i,r,t)},unload(t){t.destroy(!0)}};te.add(Xh);const ok=".svg",ak="image/svg+xml",lk={extension:{type:q.LoadParser,priority:Xr.High},name:"loadSVG",test(t){return tl(t,ak)||qi(t,ok)},async testParse(t){return ka.test(t)},async parse(t,e,r){var o;const n=new ka(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new oe(n,{resolution:Jn(t),...e==null?void 0:e.data});return i.resource.src=t,Wh(i,r,t)},async load(t,e){return(await Y.ADAPTER.fetch(t)).text()},unload:Xh.unload};te.add(lk);class uk{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=hn(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=LM(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const h=this._parsers[u];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=pt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=rh(e);e=hn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=rh(e);e=hn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const h=s.filter(c=>c[l]?c[l]===u:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=pt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class hk{constructor(){this._detections=[],this._initialized=!1,this.resolver=new uk,this.loader=new GM,this.cache=Io,this._backgroundLoader=new BM(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=rh(e),i=hn(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},h=o.map(c=>{const f=i[c];return l+=Object.keys(f).length,this._mapLoadToResolve(f,u).then(d=>{s[c]=d})});return await Promise.all(h),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Io.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Io.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=u,Io.set(h,u)}),o}async unload(e){this._initialized||await this.init();const r=hn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=hn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Io.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Xh.config.preferWorkers}set preferWorkers(e){ce("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Ll=new hk;te.handleByList(q.LoadParser,Ll.loader.parsers).handleByList(q.ResolveParser,Ll.resolver.parsers).handleByList(q.CacheParser,Ll.cache.parsers).handleByList(q.DetectionParser,Ll.detections);const ck={extension:q.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof J),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};te.add(ck);const fk={extension:{type:q.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await Y.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};te.add(fk);const dk={extension:{type:q.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await Y.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};te.add(dk);const H_=["png","jpg","jpeg"],pk={extension:{type:q.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...H_],remove:async t=>t.filter(e=>!H_.includes(e))};te.add(pk);const mk={extension:q.ResolveParser,test:Xh.test,parse:t=>{var e;return{resolution:parseFloat(((e=Y.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};te.add(mk);var Ot=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Ot||{});const nh={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let qr,ls;function j_(){ls={s3tc:qr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:qr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:qr.getExtension("WEBGL_compressed_texture_etc"),etc1:qr.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:qr.getExtension("WEBGL_compressed_texture_pvrtc")||qr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:qr.getExtension("WEBGL_compressed_texture_atc"),astc:qr.getExtension("WEBGL_compressed_texture_astc")}}const gk={extension:{type:q.DetectionParser,priority:2},test:async()=>{const e=Y.ADAPTER.createCanvas().getContext("webgl");return e?(qr=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{ls||j_();const e=[];for(const r in ls)ls[r]&&e.push(r);return[...e,...t]},remove:async t=>(ls||j_(),t.filter(e=>!(e in ls)))};te.add(gk);class yk extends Ja{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Vd(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Vd(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Ri extends yk{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Ri._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Ri._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:h,levelBuffer:c}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,h,0,c)}return!0}onBlobLoaded(){this._levelBuffers=Ri._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,h=o,c=a,f=h+i-1&~(i-1),d=c+s-1&~(s-1),p=f*d*nh[r];for(let m=0;m<n;m++)l[m]={levelID:m,levelWidth:n>1?h:f,levelHeight:n>1?c:d,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,h=h>>1||1,c=c>>1||1,f=h+i-1&~(i-1),d=c+s-1&~(s-1),p=f*d*nh[r];return l}}const gf=4,Ul=124,_k=32,V_=20,vk=542327876,Gl={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},xk={FOURCC:2},zl={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},wk=1,Ek=2,Tk=4,Sk=64,bk=512,Ck=131072,Ak=827611204,Pk=861165636,Rk=894720068,Ik=808540228,Mk=4,kk={[Ak]:Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Pk]:Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Rk]:Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT},Dk={70:Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function Ok(t){const e=new Uint32Array(t);if(e[0]!==vk)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,Ul/Uint32Array.BYTES_PER_ELEMENT),i=n[Gl.HEIGHT],s=n[Gl.WIDTH],o=n[Gl.MIPMAP_COUNT],a=new Uint32Array(t,Gl.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,_k/Uint32Array.BYTES_PER_ELEMENT),l=a[wk];if(l&Tk){const u=a[xk.FOURCC];if(u!==Ik){const g=kk[u],x=gf+Ul,w=new Uint8Array(t,x);return[new Ri(w,{format:g,width:s,height:i,levels:o})]}const h=gf+Ul,c=new Uint32Array(e.buffer,h,V_/Uint32Array.BYTES_PER_ELEMENT),f=c[zl.DXGI_FORMAT],d=c[zl.RESOURCE_DIMENSION],p=c[zl.MISC_FLAG],m=c[zl.ARRAY_SIZE],v=Dk[f];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(p===Mk)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const _=new Array,y=gf+Ul+V_;if(m===1)_.push(new Uint8Array(t,y));else{const g=nh[v];let x=0,w=s,b=i;for(let E=0;E<o;E++){const S=Math.max(1,w+3&-4),A=Math.max(1,b+3&-4),k=S*A*g;x+=k,w=w>>>1,b=b>>>1}let T=y;for(let E=0;E<m;E++)_.push(new Uint8Array(t,T,x)),T+=x}return _.map(g=>new Ri(g,{format:v,width:s,height:i,levels:o}))}throw l&Sk?new Error("DDSParser does not support uncompressed texture data."):l&bk?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Ck?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Ek?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const W_=[171,75,84,88,32,49,49,187,13,10,26,10],Nk=67305985,lr={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},op=64,X_={[re.UNSIGNED_BYTE]:1,[re.UNSIGNED_SHORT]:2,[re.INT]:4,[re.UNSIGNED_INT]:4,[re.FLOAT]:4,[re.HALF_FLOAT]:8},Fk={[$.RGBA]:4,[$.RGB]:3,[$.RG]:2,[$.RED]:1,[$.LUMINANCE]:1,[$.LUMINANCE_ALPHA]:2,[$.ALPHA]:1},Bk={[re.UNSIGNED_SHORT_4_4_4_4]:2,[re.UNSIGNED_SHORT_5_5_5_1]:2,[re.UNSIGNED_SHORT_5_6_5]:2};function Lk(t,e,r=!1){const n=new DataView(e);if(!Uk(t,n))return null;const i=n.getUint32(lr.ENDIANNESS,!0)===Nk,s=n.getUint32(lr.GL_TYPE,i),o=n.getUint32(lr.GL_FORMAT,i),a=n.getUint32(lr.GL_INTERNAL_FORMAT,i),l=n.getUint32(lr.PIXEL_WIDTH,i),u=n.getUint32(lr.PIXEL_HEIGHT,i)||1,h=n.getUint32(lr.PIXEL_DEPTH,i)||1,c=n.getUint32(lr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(lr.NUMBER_OF_FACES,i),d=n.getUint32(lr.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(lr.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||h!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const m=4,v=4,_=l+3&-4,y=u+3&-4,g=new Array(c);let x=l*u;s===0&&(x=_*y);let w;if(s!==0?X_[s]?w=X_[s]*Fk[o]:w=Bk[s]:w=nh[a],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const b=r?zk(n,p,i):null;let E=x*w,S=l,A=u,k=_,F=y,M=op+p;for(let P=0;P<d;P++){const H=n.getUint32(M,i);let K=M+4;for(let B=0;B<c;B++){let O=g[B];O||(O=g[B]=new Array(d)),O[P]={levelID:P,levelWidth:d>1||s!==0?S:k,levelHeight:d>1||s!==0?A:F,levelBuffer:new Uint8Array(e,K,E)},K+=E}M+=H+4,M=M%4!==0?M+4-M%4:M,S=S>>1||1,A=A>>1||1,k=S+m-1&-4,F=A+v-1&-4,E=k*F*w}return s!==0?{uncompressed:g.map(P=>{let H=P[0].levelBuffer,K=!1;return s===re.FLOAT?H=new Float32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4):s===re.UNSIGNED_INT?(K=!0,H=new Uint32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)):s===re.INT&&(K=!0,H=new Int32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)),{resource:new Ja(H,{width:P[0].levelWidth,height:P[0].levelHeight}),type:s,format:K?Gk(o):o}}),kvData:b}:{compressed:g.map(P=>new Ri(null,{format:a,width:l,height:u,levels:d,levelBuffers:P})),kvData:b}}function Uk(t,e){for(let r=0;r<W_.length;r++)if(e.getUint8(r)!==W_[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Gk(t){switch(t){case $.RGBA:return $.RGBA_INTEGER;case $.RGB:return $.RGB_INTEGER;case $.RG:return $.RG_INTEGER;case $.RED:return $.RED_INTEGER;default:return t}}function zk(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(op+i,r),o=op+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,h),i+=4+s+a}return n}const $k={extension:{type:q.LoadParser,priority:Xr.High},name:"loadDDS",test(t){return qi(t,".dds")},async load(t,e,r){const i=await(await Y.ADAPTER.fetch(t)).arrayBuffer(),o=Ok(i).map(a=>{const l=new oe(a,{mipmap:jr.OFF,alphaMode:Cr.NO_PREMULTIPLIED_ALPHA,resolution:Jn(t),...e.data});return Wh(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};te.add($k);const Hk={extension:{type:q.LoadParser,priority:Xr.High},name:"loadKTX",test(t){return qi(t,".ktx")},async load(t,e,r){const i=await(await Y.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=Lk(t,i),l=s??o,u={mipmap:jr.OFF,alphaMode:Cr.NO_PREMULTIPLIED_ALPHA,resolution:Jn(t),...e.data},h=l.map(c=>{l===o&&Object.assign(u,{type:c.type,format:c.format});const f=new oe(c,u);return f.ktxKeyValueData=a,Wh(f,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};te.add(Hk);const jk={extension:q.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=Y.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=Y.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};te.add(jk);const Vk=new le,Wk=4,Uo=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&Uo._flipY(r,n,i),Uo._unpremultiplyAlpha(r);const o=new LI(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&Uo._flipY(r,n,i),Uo._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof Yi?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const c=s.framebuffer.glFramebuffers[r.CONTEXT_UID];c.blitFramebuffer&&r.framebuffer.bind(c.blitFramebuffer)}}else n=r.resolution,e||(e=Vk,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),l=Math.round(e.height*n),u=new Uint8Array(Wk*a*l),h=r.gl;return h.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,l,h.RGBA,h.UNSIGNED_BYTE,u),o&&(s==null||s.destroy(!0)),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,l=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,l,l+n),t.set(s,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let Cw=Uo;Cw.extension={name:"extract",type:q.RendererSystem};te.add(Cw);const ih={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===st.CIRC){const p=t.shape;r=p.x,n=p.y,o=a=p.radius,i=s=0}else if(t.type===st.ELIP){const p=t.shape;r=p.x,n=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,v=p.height/2;r=p.x+m,n=p.y+v,o=a=Math.max(0,Math.min(p.radius,Math.min(m,v))),i=m-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let h=0,c=l*4+(i?2:0)+2,f=c,d=u;{const p=i+o,m=s,v=r+p,_=r-p,y=n+m;if(e[h++]=v,e[h++]=y,e[--c]=y,e[--c]=_,s){const g=n-m;e[f++]=_,e[f++]=g,e[--d]=g,e[--d]=v}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),v=i+Math.cos(m)*o,_=s+Math.sin(m)*a,y=r+v,g=r-v,x=n+_,w=n-_;e[h++]=y,e[h++]=x,e[--c]=x,e[--c]=g,e[f++]=g,e[f++]=w,e[--d]=w,e[--d]=y}{const p=i,m=s+a,v=r+p,_=r-p,y=n+m,g=n-m;e[h++]=v,e[h++]=y,e[--d]=g,e[--d]=v,i&&(e[h++]=_,e[h++]=y,e[--d]=g,e[--d]=_)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==st.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Y_(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const Aw={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Y_(r,!1);const o=[];for(let u=0;u<n.length;u++){const h=n[u];Y_(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=fA(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},Xk={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},Yk={build(t){ih.build(t)},triangulate(t,e){ih.triangulate(t,e)}};var dr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(dr||{}),Si=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Si||{});const Js={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class K_{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,h=a-e,c=i-r,f=n-e,d=Math.abs(u*f-h*c);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=u*u+h*h,m=c*c+f*f,v=u*c+h*f,_=s*Math.sqrt(p)/d,y=s*Math.sqrt(m)/d,g=_*v/p,x=y*v/m,w=_*f+y*h,b=_*c+y*u,T=h*(y+g),E=u*(y+g),S=f*(_+x),A=c*(_+x),k=Math.atan2(E-b,T-w),F=Math.atan2(A-b,S-w);return{cx:w+e,cy:b+r,radius:s,startAngle:k,endAngle:F,anticlockwise:h*c>f*u}}static arc(e,r,n,i,s,o,a,l,u){const h=a-o,c=Js._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Ju)*40),f=h/(c*2),d=f*2,p=Math.cos(f),m=Math.sin(f),v=c-1,_=v%1/v;for(let y=0;y<=v;++y){const g=y+_*y,x=f+o+d*g,w=Math.cos(x),b=-Math.sin(x);u.push((p*w+m*b)*s+n,(p*-b+m*w)*s+i)}}}class Kk{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class zm{static curveLength(e,r,n,i,s,o,a,l){let h=0,c=0,f=0,d=0,p=0,m=0,v=0,_=0,y=0,g=0,x=0,w=e,b=r;for(let T=1;T<=10;++T)c=T/10,f=c*c,d=f*c,p=1-c,m=p*p,v=m*p,_=v*e+3*m*c*n+3*p*f*s+d*a,y=v*r+3*m*c*i+3*p*f*o+d*l,g=w-_,x=b-y,w=_,b=y,h+=Math.sqrt(g*g+x*x);return h}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const h=Js._segmentsCount(zm.curveLength(l,u,e,r,n,i,s,o));let c=0,f=0,d=0,p=0,m=0;a.push(l,u);for(let v=1,_=0;v<=h;++v)_=v/h,c=1-_,f=c*c,d=f*c,p=_*_,m=p*_,a.push(d*l+3*f*_*e+3*c*p*n+m*s,d*u+3*f*_*r+3*c*p*i+m*o)}}function q_(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,h=t+r*s,c=e+n*s;let f,d;o?(f=n,d=-r):(f=-n,d=r);const p=l+f,m=u+d,v=h+f,_=c+d;return a.push(p,m,v,_),2}function hi(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let h=Math.atan2(l,u),c=Math.atan2(i-t,s-e);a&&h<c?h+=Math.PI*2:!a&&h>c&&(c+=Math.PI*2);let f=h;const d=c-h,p=Math.abs(d),m=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(m)/Math.PI>>0)+1,_=d/v;if(f+=_,a){o.push(t,e,r,n);for(let y=1,g=f;y<v;y++,g+=_)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let y=1,g=f;y<v;y++,g+=_)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(i,s,t,e)}return v*2}function qk(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new me(n[0],n[1]),a=new me(n[n.length-2],n[n.length-1]),l=r.type!==st.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const B=(o.x+a.x)*.5,O=(a.y+o.y)*.5;n.unshift(B,O),n.push(B,O)}const h=e.points,c=n.length/2;let f=n.length;const d=h.length/2,p=s.width/2,m=p*p,v=s.miterLimit*s.miterLimit;let _=n[0],y=n[1],g=n[2],x=n[3],w=0,b=0,T=-(y-x),E=_-g,S=0,A=0,k=Math.sqrt(T*T+E*E);T/=k,E/=k,T*=p,E*=p;const F=s.alignment,M=(1-F)*2,P=F*2;l||(s.cap===Si.ROUND?f+=hi(_-T*(M-P)*.5,y-E*(M-P)*.5,_-T*M,y-E*M,_+T*P,y+E*P,h,!0)+2:s.cap===Si.SQUARE&&(f+=q_(_,y,T,E,M,P,!0,h))),h.push(_-T*M,y-E*M,_+T*P,y+E*P);for(let B=1;B<c-1;++B){_=n[(B-1)*2],y=n[(B-1)*2+1],g=n[B*2],x=n[B*2+1],w=n[(B+1)*2],b=n[(B+1)*2+1],T=-(y-x),E=_-g,k=Math.sqrt(T*T+E*E),T/=k,E/=k,T*=p,E*=p,S=-(x-b),A=g-w,k=Math.sqrt(S*S+A*A),S/=k,A/=k,S*=p,A*=p;const O=g-_,V=y-x,R=g-w,W=b-x,Z=O*R+V*W,ae=V*R-W*O,ie=ae<0;if(Math.abs(ae)<.001*Math.abs(Z)){h.push(g-T*M,x-E*M,g+T*P,x+E*P),Z>=0&&(s.join===dr.ROUND?f+=hi(g,x,g-T*M,x-E*M,g-S*M,x-A*M,h,!1)+4:f+=2,h.push(g-S*P,x-A*P,g+S*M,x+A*M));continue}const C=(-T+_)*(-E+x)-(-T+g)*(-E+y),I=(-S+w)*(-A+x)-(-S+g)*(-A+b),N=(O*I-R*C)/ae,G=(W*C-V*I)/ae,j=(N-g)*(N-g)+(G-x)*(G-x),z=g+(N-g)*M,X=x+(G-x)*M,se=g-(N-g)*P,de=x-(G-x)*P,Ke=Math.min(O*O+V*V,R*R+W*W),Ge=ie?M:P,mo=Ke+Ge*Ge*m,BE=j<=mo;let nl=s.join;if(nl===dr.MITER&&j/m>v&&(nl=dr.BEVEL),BE)switch(nl){case dr.MITER:{h.push(z,X,se,de);break}case dr.BEVEL:{ie?h.push(z,X,g+T*P,x+E*P,z,X,g+S*P,x+A*P):h.push(g-T*M,x-E*M,se,de,g-S*M,x-A*M,se,de),f+=2;break}case dr.ROUND:{ie?(h.push(z,X,g+T*P,x+E*P),f+=hi(g,x,g+T*P,x+E*P,g+S*P,x+A*P,h,!0)+4,h.push(z,X,g+S*P,x+A*P)):(h.push(g-T*M,x-E*M,se,de),f+=hi(g,x,g-T*M,x-E*M,g-S*M,x-A*M,h,!1)+4,h.push(g-S*M,x-A*M,se,de));break}}else{switch(h.push(g-T*M,x-E*M,g+T*P,x+E*P),nl){case dr.MITER:{ie?h.push(se,de,se,de):h.push(z,X,z,X),f+=2;break}case dr.ROUND:{ie?f+=hi(g,x,g+T*P,x+E*P,g+S*P,x+A*P,h,!0)+2:f+=hi(g,x,g-T*M,x-E*M,g-S*M,x-A*M,h,!1)+2;break}}h.push(g-S*M,x-A*M,g+S*P,x+A*P),f+=2}}_=n[(c-2)*2],y=n[(c-2)*2+1],g=n[(c-1)*2],x=n[(c-1)*2+1],T=-(y-x),E=_-g,k=Math.sqrt(T*T+E*E),T/=k,E/=k,T*=p,E*=p,h.push(g-T*M,x-E*M,g+T*P,x+E*P),l||(s.cap===Si.ROUND?f+=hi(g-T*(M-P)*.5,x-E*(M-P)*.5,g-T*M,x-E*M,g+T*P,x+E*P,h,!1)+2:s.cap===Si.SQUARE&&(f+=q_(g,x,T,E,M,P,!1,h)));const H=e.indices,K=Js.epsilon*Js.epsilon;for(let B=d;B<f+d-2;++B)_=h[B*2],y=h[B*2+1],g=h[(B+1)*2],x=h[(B+1)*2+1],w=h[(B+2)*2],b=h[(B+2)*2+1],!(Math.abs(_*(x-b)+g*(b-y)+w*(y-x))<K)&&H.push(B,B+1,B+2)}function Qk(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==st.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let h=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,u)}function Q_(t,e){t.lineStyle.native?Qk(t,e):qk(t,e)}class $m{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,h=2*i-2*r,c=4*(a*a+l*l),f=4*(a*u+l*h),d=u*u+h*h,p=2*Math.sqrt(c+f+d),m=Math.sqrt(c),v=2*c*m,_=2*Math.sqrt(d),y=f/m;return(v*p+m*f*(p-_)+(4*d*c-f*f)*Math.log((2*m+y+p)/(y+_)))/(4*v)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=Js._segmentsCount($m.curveLength(o,a,e,r,n,i));let u=0,h=0;for(let c=1;c<=l;++c){const f=c/l;u=o+(e-o)*f,h=a+(r-a)*f,s.push(u+(e+(n-e)*f-u)*f,h+(r+(i-r)*f-h)*f)}}}const yf={[st.POLY]:Aw,[st.CIRC]:ih,[st.ELIP]:ih,[st.RECT]:Xk,[st.RREC]:Yk},Z_=[],$l=[];class sh{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new sh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ns=new me,Pw=class extends L1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new eh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),$l.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Z_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new sh(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new sh(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,ns):ns.copyFrom(t),n.shape.contains(ns.x,ns.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(ns.x,ns.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,h=l.lineStyle;yf[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||h.visible)&&this.processHoles(l.holes);for(let f=0;f<2;f++){const d=f===0?u:h;if(!d.visible)continue;const p=d.texture.baseTexture,m=this.indices.length,v=this.points.length/2;p.wrapMode=Wn.REPEAT,f===0?this.processFill(l):this.processLine(l);const _=this.points.length/2-v;_!==0&&(r&&!this._compareStyles(n,d)&&(r.end(m,v),r=null),r||(r=Z_.pop()||new Kk,r.begin(d,m,v),this.batches.push(r),n=d),this.addUvs(this.points,t,d.texture,v,_,d.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<Pw.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++oe._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),$l.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=$l.pop();n||(n=new Xd,n.texArray=new Kd),n.texArray.count=0,n.start=0,n.size=0,n.type=Br.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Br.TRIANGLES,u=0;this.drawCalls.push(n);for(let h=0;h<this.batches.length;h++){const c=this.batches[h],f=8,d=c.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?Br.LINES:Br.TRIANGLES,s=null,i=f,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===f&&(t++,i=0,n.size>0&&(n=$l.pop(),n||(n=new Xd,n.texArray=new Kd),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=Wn.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=c.size,u+=c.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,o,c.attribSize,c.attribStart)}oe._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Aw.triangulate(t,this):yf[t.type].triangulate(t,this)}processLine(t){Q_(t,this);for(let e=0;e<t.holes.length;e++)Q_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];yf[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=ye.shared.setValue(e).toLittleEndianNumber(),o=ye.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,l=r.frame;for(;o<i;){let h=t[(n+o)*2],c=t[(n+o)*2+1];if(s){const f=s.a*h+s.c*c+s.tx;c=s.b*h+s.d*c+s.ty,h=f}o++,e.push(h/l.width,c/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let h=a.x/a.width,c=a.y/a.height,f=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)f=Math.min(f,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));h-=f,c-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+c)*u}};let Rw=Pw;Rw.BATCHABLE_SIZE=100;class Yh{constructor(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Yh;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Hm extends Yh{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Si.BUTT,this.join=dr.MITER,this.miterLimit=10}clone(){const e=new Hm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const _f={},fu=class extends kt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Yh,this._lineStyle=new Hm,this._matrix=null,this._holeMode=!1,this.state=wn.for2d(),this._geometry=t||new Rw,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ye(16777215),this.blendMode=ne.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new fu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:J.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Si.BUTT,join:dr.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ls,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ls,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),$m.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),zm.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=K_.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:h,endAngle:c,anticlockwise:f}=o;this.arc(a,l,u,h,c,f)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=Ju:s&&n<=i&&(n+=Ju),i-n===0)return this;const a=t+Math.cos(n)*r,l=e+Math.sin(n)*r,u=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const c=Math.abs(h[h.length-2]-a),f=Math.abs(h[h.length-1]-l);c<u&&f<u||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return K_.arc(a,l,t,e,r,n,i,s,h),this}beginFill(t=0,e){return this.beginTextureFill({texture:J.WHITE,color:t,alpha:e})}normalizeColor(t){const e=ye.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:J.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new le(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new Bm(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Nm(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Fm(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ls(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===st.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:ye.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,ye.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!_f[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Se,default:Tr.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;_f[r]=new zr(o,s)}e=_f[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,fu._TEMP_POINT),this._geometry.containsPoint(fu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=ye.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let h=0;for(let c=0;c<l.length;c+=2){const f=l[c],d=l[c+1];u[h++]=r*f+i*d+o,u[h++]=s*d+n*f+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Xn=fu;Xn.curves=Js;Xn._TEMP_POINT=new me;class Zk{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const vf=new me,J_=new Ls,Iw=class extends kt{constructor(t,e,r,n=Br.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||wn.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Y.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Br.TRIANGLES&&e.length<Iw.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,h=i.ty,c=this.vertexData;for(let f=0;f<c.length/2;f++){const d=r[f*2],p=r[f*2+1];c[f*2]=s*d+a*p+u,c[f*2+1]=o*d+l*p+h}if(this._roundPixels){const f=Y.RESOLUTION;for(let d=0;d<c.length;++d)c[d]=Math.round(c[d]*f)/f}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Zk(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,vf);const e=this.geometry.getBuffer("aVertexPosition").data,r=J_.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,l=n[o+1]*2,u=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[u],r[5]=e[u+1],J_.contains(vf.x,vf.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let ap=Iw;ap.BATCHABLE_SIZE=100;class Jk extends ei{constructor(e,r,n){super();const i=new Le(e),s=new Le(r,!0),o=new Le(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,re.FLOAT).addAttribute("aTextureCoord",s,2,!1,re.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var eD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,tD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class e0 extends zr{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Se.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||_r.from(tD,eD),n),this._colorDirty=!1,this.uvMatrix=new ew(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ye(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;ye.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class t0{constructor(e,r,n){this.geometry=new ei,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||re.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Le(FI(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Le(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Le(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===re.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===re.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===re.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===re.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var rD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,nD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Mw extends zh{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Se,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:re.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=zr.from(nD,rD,{}),this.state=wn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=O1(e.blendMode,u),s.state.set(this.state);const h=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=ye.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let f=!1;for(let d=0,p=0;d<o;d+=i,p+=1){let m=o-d;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[p];v.uploadDynamic(r,d,m);const _=e._bufferUpdateIDs[p]||0;f=f||v._updateID<_,f&&(v._updateID=e._updateID,v.uploadStatic(r,d,m)),s.geometry.bind(v.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new t0(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new t0(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,h=0;for(let c=0;c<n;++c){const f=e[r+c],d=f._texture,p=f.scale.x,m=f.scale.y,v=d.trim,_=d.orig;v?(l=v.x-f.anchor.x*_.width,a=l+v.width,h=v.y-f.anchor.y*_.height,u=h+v.height):(a=_.width*(1-f.anchor.x),l=_.width*-f.anchor.x,u=_.height*(1-f.anchor.y),h=_.height*-f.anchor.y),i[o]=l*p,i[o+1]=h*m,i[o+s]=a*p,i[o+s+1]=h*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=ye.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Mw.extension={name:"particle",type:q.RendererPlugin};te.add(Mw);var Kh=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Kh||{});const Hl={willReadFrequently:!0},ee=class{static get experimentalLetterSpacingSupported(){let t=ee._experimentalLetterSpacingSupported;if(t!==void 0){const e=Y.ADAPTER.getCanvasRenderingContext2D().prototype;t=ee._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,n=ee._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=ee.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Hl);o.font=i;const l=(r?ee.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=ee._measureText(l[p],e.letterSpacing,o);u[p]=m,h=Math.max(h,m)}let c=h+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const f=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(f,s.fontSize+e.strokeThickness*2)+(l.length-1)*(f+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new ee(t,e,c,d,l,u,f+e.leading,h,s)}static _measureText(t,e,r){let n=!1;ee.experimentalLetterSpacingSupported&&(ee.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(ee.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=ee._canvas){const n=r.getContext("2d",Hl);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,h=ee.collapseSpaces(u),c=ee.collapseNewlines(u);let f=!h;const d=e.wordWrapWidth+l,p=ee.tokenize(t);for(let m=0;m<p.length;m++){let v=p[m];if(ee.isNewline(v)){if(!c){o+=ee.addLine(s),f=!h,s="",i=0;continue}v=" "}if(h){const y=ee.isBreakingSpace(v),g=ee.isBreakingSpace(s[s.length-1]);if(y&&g)continue}const _=ee.getFromCache(v,l,a,n);if(_>d)if(s!==""&&(o+=ee.addLine(s),s="",i=0),ee.canBreakWords(v,e.breakWords)){const y=ee.wordWrapSplit(v);for(let g=0;g<y.length;g++){let x=y[g],w=x,b=1;for(;y[g+b];){const E=y[g+b];if(!ee.canBreakChars(w,E,v,g,e.breakWords))x+=E;else break;w=E,b++}g+=b-1;const T=ee.getFromCache(x,l,a,n);T+i>d&&(o+=ee.addLine(s),f=!1,s="",i=0),s+=x,i+=T}}else{s.length>0&&(o+=ee.addLine(s),s="",i=0);const y=m===p.length-1;o+=ee.addLine(v,!y),f=!1,s="",i=0}else _+i>d&&(f=!1,o+=ee.addLine(s),s="",i=0),(s.length>0||!ee.isBreakingSpace(v)||f)&&(s+=v,i+=_)}return o+=ee.addLine(s,!1),o}static addLine(t,e=!0){return t=ee.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=ee._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!ee.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ee._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ee._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(ee.isBreakingSpace(i,s)||ee.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return ee.graphemeSegmenter(t)}static measureFont(t){if(ee._fonts[t])return ee._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=ee._canvas,n=ee._context;n.font=t;const i=ee.METRICS_STRING+ee.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(ee.BASELINE_SYMBOL).width);const a=Math.ceil(ee.HEIGHT_MULTIPLIER*o);if(o=o*ee.BASELINE_MULTIPLIER|0,s===0||a===0)return ee._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const l=n.getImageData(0,0,s,a).data,u=l.length,h=s*4;let c=0,f=0,d=!1;for(c=0;c<o;++c){for(let p=0;p<h;p+=4)if(l[f+p]!==255){d=!0;break}if(!d)f+=h;else break}for(e.ascent=o-c,f=u-h,d=!1,c=a;c>o;--c){for(let p=0;p<h;p+=4)if(l[f+p]!==255){d=!0;break}if(!d)f-=h;else break}return e.descent=c-o,e.fontSize=e.ascent+e.descent,ee._fonts[t]=e,e}static clearMetrics(t=""){t?delete ee._fonts[t]:ee._fonts={}}static get _canvas(){if(!ee.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Hl);if(r!=null&&r.measureText)return ee.__canvas=e,e;t=Y.ADAPTER.createCanvas()}catch{t=Y.ADAPTER.createCanvas()}t.width=t.height=10,ee.__canvas=t}return ee.__canvas}static get _context(){return ee.__context||(ee.__context=ee._canvas.getContext("2d",Hl)),ee.__context}};let nt=ee;nt.METRICS_STRING="|ÉqÅ";nt.BASELINE_SYMBOL="M";nt.BASELINE_MULTIPLIER=1.4;nt.HEIGHT_MULTIPLIER=2;nt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();nt.experimentalLetterSpacing=!1;nt._fonts={};nt._newlines=[10,13];nt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const iD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Go=class{constructor(t){this.styleID=0,this.reset(),wf(this,t,t)}clone(){const t={};return wf(t,this,Go.defaultStyle),new Go(t)}reset(){wf(this,Go.defaultStyle,Go.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=xf(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=xf(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){sD(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=xf(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!iD.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let gn=Go;gn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Kh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function xf(t){const e=ye.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function sD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function wf(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const oD={texture:!0,children:!1,baseTexture:!0},lp=class extends Ki{constructor(t,e,r){let n=!1;r||(r=Y.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=J.from(r);i.orig=new le,i.trim=new le,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=lp.defaultResolution??Y.RESOLUTION,this._autoResolution=lp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return nt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){ce("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),nt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=nt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let c,f;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const m=e.dropShadow&&p===0,v=m?Math.ceil(Math.max(1,s)+e.padding*2):0,_=v*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,x=e.dropShadowBlur*this._resolution,w=e.dropShadowDistance*this._resolution;r.shadowColor=ye.shared.setValue(g).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=x,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*w,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*w+_}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let y=(a-h.fontSize)/2;a-h.fontSize<0&&(y=0);for(let g=0;g<o.length;g++)c=e.strokeThickness/2,f=e.strokeThickness/2+g*a+h.ascent+y,e.align==="right"?c+=u-l[g]:e.align==="center"&&(c+=(u-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],c+e.padding,f+e.padding-v,!0),e.fill&&this.drawLetterSpacing(o[g],c+e.padding,f+e.padding-v)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(nt.experimentalLetterSpacingSupported&&(nt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=nt.graphemeSegmenter(t);let u=this.context.measureText(t).width,h=0;for(let c=0;c<l.length;++c){const f=l[c];n?this.context.strokeText(f,a,r):this.context.fillText(f,a,r);let d="";for(let p=c+1;p<l.length;++p)d+=l[p];h=this.context.measureText(d).width,a+=u-h+s,u=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=GI(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=n.slice(),h=t.fillGradientStops.slice();if(!h.length){const c=u.length+1;for(let f=1;f<c;++f)h.push(f/c)}if(u.unshift(n[0]),h.unshift(0),u.push(n[n.length-1]),h.push(1),t.fillGradientType===Kh.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const c=r.fontProperties.fontSize+t.strokeThickness;for(let f=0;f<e.length;f++){const d=r.lineHeight*(f-1)+c,p=r.lineHeight*f;let m=p;f>0&&d>p&&(m=(p+d)/2);const v=p+c,_=r.lineHeight*(f+1);let y=v;f+1<e.length&&_<v&&(y=(v+_)/2);const g=(y-m)/l;for(let x=0;x<u.length;x++){let w=0;typeof h[x]=="number"?w=h[x]:w=x/u.length;let b=Math.min(1,Math.max(0,m/l+w*g));b=Number(b.toFixed(5)),i.addColorStop(b,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const c=u.length+1;let f=1;for(let d=0;d<u.length;d++){let p;typeof h[d]=="number"?p=h[d]:p=f/c,i.addColorStop(p,u[d]),f++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},oD,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=kn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=kn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof gn?this._style=t:this._style=new gn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Oa=lp;Oa.defaultAutoResolution=!0;class aD{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function lD(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof J){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function uD(t,e){if(t.baseTexture instanceof oe){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function hD(t,e){if(t._texture&&t._texture instanceof J){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function cD(t,e){return e instanceof Oa?(e.updateText(!0),!0):!1}function fD(t,e){if(e instanceof gn){const r=e.toFontString();return nt.measureFont(r),!0}return!1}function dD(t,e){if(t instanceof Oa){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function pD(t,e){return t instanceof gn?(e.includes(t)||e.push(t),!0):!1}const kw=class{constructor(t){this.limiter=new aD(kw.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(dD),this.registerFindHook(pD),this.registerFindHook(lD),this.registerFindHook(uD),this.registerFindHook(hD),this.registerUploadHook(cD),this.registerUploadHook(fD)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ft.system.addOnce(this.tick,this,zi.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ft.system.addOnce(this.tick,this,zi.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof kt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&ft.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let oh=kw;oh.uploadsPerFrame=4;Object.defineProperties(Y,{UPLOADS_PER_FRAME:{get(){return oh.uploadsPerFrame},set(t){ce("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),oh.uploadsPerFrame=t}}});function Dw(t,e){return e instanceof oe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function mD(t,e){if(!(e instanceof Xn))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Dw(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function gD(t,e){return t instanceof Xn?(e.push(t),!0):!1}class Ow extends oh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(gD),this.registerUploadHook(Dw),this.registerUploadHook(mD)}}Ow.extension={name:"prepare",type:q.RendererSystem};te.add(Ow);var yD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,_D=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,vD=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,r0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,xD=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const jl=new Se;class Nw extends zh{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new q1,this.state=wn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=zr.from(r0,xD,r),this.shader=e.context.webGLVersion>1?zr.from(_D,yD,r):zr.from(r0,vD,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,h=e.tileTransform.localTransform,c=e.uvMatrix;let f=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;f&&(l._glTextures[r.CONTEXT_UID]?f=l.wrapMode!==Wn.CLAMP:l.wrapMode===Wn.CLAMP&&(l.wrapMode=Wn.REPEAT));const d=f?this.simpleShader:this.shader,p=a.width,m=a.height,v=e._width,_=e._height;jl.set(h.a*p/v,h.b*p/_,h.c*m/v,h.d*m/_,h.tx/v,h.ty/_),jl.invert(),f?jl.prepend(c.mapCoord):(d.uniforms.uMapCoord=c.mapCoord.toArray(!0),d.uniforms.uClampFrame=c.uClampFrame,d.uniforms.uClampOffset=c.uClampOffset),d.uniforms.uTransform=jl.toArray(!0),d.uniforms.uColor=ye.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(n),this.state.blendMode=O1(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Nw.extension={name:"tilingSprite",type:q.RendererPlugin};te.add(Nw);const zo=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof J?t:null,this.baseTexture=t instanceof oe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=Jn(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=zo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=zo.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new le(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new le(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new le(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new le(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new J(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor,i.borders),J.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*zo.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*zo.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let up=zo;up.BATCH_SIZE=1e3;const wD=["jpg","png","jpeg","avif","webp"];function Fw(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=pt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Fw([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const ED={extension:q.Asset,cache:{test:t=>t instanceof up,getCacheableAssets:(t,e)=>Fw(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&wD.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Y.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:q.LoadParser,priority:Xr.Normal},async testParse(t,e){return pt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,h;let n=pt.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=sp(i,e.src);const o=(await r.load([i]))[i],a=new up(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const c=[];for(const d of l){if(typeof d!="string")continue;let p=n+d;(h=e.data)!=null&&h.ignoreMultiPack||(p=sp(p,e.src),c.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(c);a.linkedSheets=f,f.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};te.add(ED);class ah{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class du{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const h=a[u].split("="),c=h[0],f=h[1].replace(/"/gm,""),d=parseFloat(f),p=isNaN(d)?f:d;l[c]=p}n[o].push(l)}const i=new ah;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class hp{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new ah,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const h=o[u];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class cp{static test(e){return typeof e=="string"&&e.includes("<font>")?hp.test(Y.ADAPTER.parseXML(e)):!1}static parse(e){return hp.parse(Y.ADAPTER.parseXML(e))}}const Ef=[du,hp,cp];function TD(t){for(let e=0;e<Ef.length;e++)if(Ef[e].test(t))return Ef[e];return null}function SD(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-l-u*2,c=t.height/n-l-u*2,f=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=f.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(f.unshift(o[0]),d.unshift(0),f.push(o[o.length-1]),d.push(1),r.fillGradientType===Kh.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,u,h/2,c+u);let p=0;const v=(s.fontProperties.fontSize+r.strokeThickness)/c;for(let _=0;_<i.length;_++){const y=s.lineHeight*_;for(let g=0;g<f.length;g++){let x=0;typeof d[g]=="number"?x=d[g]:x=g/f.length;const w=y/c+x*v;let b=Math.max(p,w);b=Math.min(b,1),a.addColorStop(b,f[g]),p=b}}}else{a=e.createLinearGradient(u,c/2,h+u,c/2);const p=f.length+1;let m=1;for(let v=0;v<f.length;v++){let _;typeof d[v]=="number"?_=d[v]:_=m/p,a.addColorStop(_,f[v]),m++}}return a}function bD(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=SD(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,f=o.dropShadowBlur*s,d=o.dropShadowDistance*s;e.shadowColor=ye.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function pu(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Bw(t){return Array.from?Array.from(t):t.split("")}function CD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Bw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const cr=class{constructor(t,e,r){var u;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=Jn(s.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:c,file:f}=t.page[h];l[c]=e instanceof Array?e[h]:e[f],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[c].baseTexture.alphaMode=Cr.NO_PREMULTIPLIED_ALPHA,l[c].baseTexture.mipmap=jr.OFF)}for(let h=0;h<t.char.length;h++){const{id:c,page:f}=t.char[h];let{x:d,y:p,width:m,height:v,xoffset:_,yoffset:y,xadvance:g}=t.char[h];d/=a,p/=a,m/=a,v/=a,_/=a,y/=a,g/=a;const x=new le(d+l[f].frame.x/a,p+l[f].frame.y/a,m,v);this.chars[c]={xOffset:_,yOffset:y,xAdvance:g,kerning:{},texture:new J(l[f].baseTexture,x),page:f}}for(let h=0;h<t.kerning.length;h++){let{first:c,second:f,amount:d}=t.kerning[h];c/=a,f/=a,d/=a,this.chars[f]&&(this.chars[f].kerning[c]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof ah)n=t;else{const s=TD(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof J&&(e=[e]);const i=new cr(n,e,r);return cr.available[i.font]=i,i}static uninstall(t){const e=cr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete cr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},cr.defaultOptions,r),u=CD(n),h=e instanceof gn?e:new gn(e),c=o,f=new ah;f.info[0]={face:h.fontFamily,size:h.fontSize},f.common[0]={lineHeight:h.fontSize};let d=0,p=0,m,v,_,y=0;const g=[];for(let w=0;w<u.length;w++){m||(m=Y.ADAPTER.createCanvas(),m.width=o,m.height=a,v=m.getContext("2d"),_=new oe(m,{resolution:s,...l}),g.push(new J(_)),f.page.push({id:g.length-1,file:""}));const b=u[w],T=nt.measureText(b,h,!1,m),E=T.width,S=Math.ceil(T.height),A=Math.ceil((h.fontStyle==="italic"?2:1)*E);if(p>=a-S*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${b}')`);--w,m=null,v=null,_=null,p=0,d=0,y=0;continue}if(y=Math.max(S+T.fontProperties.descent,y),A*s+d>=c){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${b}')`);--w,p+=y*s,p=Math.ceil(p),d=0,y=0;continue}bD(m,v,T,d,p,s,h);const k=pu(T.text);f.char.push({id:k,page:g.length-1,x:d/s,y:p/s,width:A,height:S,xoffset:0,yoffset:0,xadvance:E-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),d+=(A+2*i)*s,d=Math.ceil(d)}for(let w=0,b=u.length;w<b;w++){const T=u[w];for(let E=0;E<b;E++){const S=u[E],A=v.measureText(T).width,k=v.measureText(S).width,M=v.measureText(T+S).width-(A+k);M&&f.kerning.push({first:pu(T),second:pu(S),amount:M})}}const x=new cr(f,g,!0);return cr.available[t]!==void 0&&cr.uninstall(t),cr.available[t]=x,x}};let Et=cr;Et.ALPHA=[["a","z"],["A","Z"]," "];Et.NUMERIC=[["0","9"]];Et.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Et.ASCII=[[" ","~"]];Et.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:cr.ALPHANUMERIC};Et.available={};var AD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,PD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const n0=[],i0=[],s0=[],Lw=class extends kt{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},Lw.styleDefaults,e);if(!Et.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new ye(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Dn(()=>{this.dirty=!0},this,0,0),this._roundPixels=Y.ROUND_PIXELS,this.dirty=!0,this._resolution=Y.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var A;const t=Et.available[this._fontName],e=this.fontSize,r=e/t.size,n=new me,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=Bw(a),u=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?n0:i0;let c=null,f=0,d=0,p=0,m=-1,v=0,_=0,y=0,g=0;for(let k=0;k<l.length;k++){const F=l[k],M=pu(F);if(/(?:\s)/.test(F)&&(m=k,v=f,g++),F==="\r"||F===`
`){s.push(f),o.push(-1),d=Math.max(d,f),++p,++_,n.x=0,n.y+=t.lineHeight,c=null,g=0;continue}const P=t.chars[M];if(!P)continue;c&&P.kerning[c]&&(n.x+=P.kerning[c]);const H=s0.pop()||{texture:J.EMPTY,line:0,charCode:0,prevSpaces:0,position:new me};H.texture=P.texture,H.line=p,H.charCode=M,H.position.x=Math.round(n.x+P.xOffset+this._letterSpacing/2),H.position.y=Math.round(n.y+P.yOffset),H.prevSpaces=g,i.push(H),f=H.position.x+Math.max(P.xAdvance-P.xOffset,P.texture.orig.width),n.x+=P.xAdvance+this._letterSpacing,y=Math.max(y,P.yOffset+P.texture.height),c=M,m!==-1&&u>0&&n.x>u&&(++_,Bs(i,1+m-_,1+k-m),k=m,m=-1,s.push(v),o.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,v),p++,n.x=0,n.y+=t.lineHeight,c=null,g=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(f=v),s.push(f),d=Math.max(d,f),o.push(-1));const w=[];for(let k=0;k<=p;k++){let F=0;this._align==="right"?F=d-s[k]:this._align==="center"?F=(d-s[k])/2:this._align==="justify"&&(F=o[k]<0?0:(d-s[k])/o[k]),w.push(F)}const b=i.length,T={},E=[],S=this._activePagesMeshData;h.push(...S);for(let k=0;k<b;k++){const F=i[k].texture,M=F.baseTexture.uid;if(!T[M]){let P=h.pop();if(!P){const K=new Jk;let B,O;t.distanceFieldType==="none"?(B=new e0(J.EMPTY),O=ne.NORMAL):(B=new e0(J.EMPTY,{program:_r.from(PD,AD),uniforms:{uFWidth:0}}),O=ne.NORMAL_NPM);const V=new ap(K,B);V.blendMode=O,P={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:V,vertices:null,uvs:null,indices:null}}P.index=0,P.indexCount=0,P.vertexCount=0,P.uvsCount=0,P.total=0;const{_textureCache:H}=this;H[M]=H[M]||new J(F.baseTexture),P.mesh.texture=H[M],P.mesh.tint=this._tintColor.value,E.push(P),T[M]=P}T[M].total++}for(let k=0;k<S.length;k++)E.includes(S[k])||this.removeChild(S[k].mesh);for(let k=0;k<E.length;k++)E[k].mesh.parent!==this&&this.addChild(E[k].mesh);this._activePagesMeshData=E;for(const k in T){const F=T[k],M=F.total;if(!(((A=F.indices)==null?void 0:A.length)>6*M)||F.vertices.length<ap.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*M),F.uvs=new Float32Array(4*2*M),F.indices=new Uint16Array(6*M);else{const P=F.total,H=F.vertices;for(let K=P*4*2;K<H.length;K++)H[K]=0}F.mesh.size=6*M}for(let k=0;k<b;k++){const F=i[k];let M=F.position.x+w[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(M=Math.round(M));const P=M*r,H=F.position.y*r,K=F.texture,B=T[K.baseTexture.uid],O=K.frame,V=K._uvs,R=B.index++;B.indices[R*6+0]=0+R*4,B.indices[R*6+1]=1+R*4,B.indices[R*6+2]=2+R*4,B.indices[R*6+3]=0+R*4,B.indices[R*6+4]=2+R*4,B.indices[R*6+5]=3+R*4,B.vertices[R*8+0]=P,B.vertices[R*8+1]=H,B.vertices[R*8+2]=P+O.width*r,B.vertices[R*8+3]=H,B.vertices[R*8+4]=P+O.width*r,B.vertices[R*8+5]=H+O.height*r,B.vertices[R*8+6]=P,B.vertices[R*8+7]=H+O.height*r,B.uvs[R*8+0]=V.x0,B.uvs[R*8+1]=V.y0,B.uvs[R*8+2]=V.x1,B.uvs[R*8+3]=V.y1,B.uvs[R*8+4]=V.x2,B.uvs[R*8+5]=V.y2,B.uvs[R*8+6]=V.x3,B.uvs[R*8+7]=V.y3}this._textWidth=d*r,this._textHeight=(n.y+t.lineHeight)*r;for(const k in T){const F=T[k];if(this.anchor.x!==0||this.anchor.y!==0){let K=0;const B=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let V=0;V<F.total;V++)F.vertices[K++]-=B,F.vertices[K++]-=O,F.vertices[K++]-=B,F.vertices[K++]-=O,F.vertices[K++]-=B,F.vertices[K++]-=O,F.vertices[K++]-=B,F.vertices[K++]-=O}this._maxLineHeight=y*r;const M=F.mesh.geometry.getBuffer("aVertexPosition"),P=F.mesh.geometry.getBuffer("aTextureCoord"),H=F.mesh.geometry.getIndex();M.data=F.vertices,P.data=F.uvs,H.data=F.indices,M.update(),P.update(),H.update()}for(let k=0;k<i.length;k++)s0.push(i[k]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Et.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(u))/2,c=this.fontSize/n,f=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=h*e*c*f}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Et.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Et.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Et.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=Et.available[this._fontName].distanceFieldType==="none"?n0:i0;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=J.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let RD=Lw;RD.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const ID=[".xml",".fnt"],MD={extension:{type:q.LoadParser,priority:Xr.Normal},name:"loadBitmapFont",test(t){return ID.includes(pt.extname(t).toLowerCase())},async testParse(t){return du.test(t)||cp.test(t)},async parse(t,e,r){const n=du.test(t)?du.parse(t):cp.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const h=s[u].file;let c=pt.join(pt.dirname(i),h);c=sp(c,i),o.push(c)}const a=await r.load(o),l=o.map(u=>a[u]);return Et.install(n,l,!0)},async load(t,e){return(await Y.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};te.add(MD);const us=class extends gn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new us(Object.keys(us.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete us.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=us;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Y.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:pt.basename(t,pt.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=OI(t)),typeof t=="number"?DI(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,us.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=Y.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let sa=us;sa.availableFonts={};sa.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const hs=class extends Ki{constructor(t="",e={}){super(J.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=J.from(r,{scaleMode:Y.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new le,n.trim=new le,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),l=document.createElementNS(s,"div"),u=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=hs.defaultMaxWidth,this.maxHeight=hs.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=r,this._loadImage=new Image,this._autoResolution=hs.defaultAutoResolution,this._resolution=hs.defaultResolution??Y.RESOLUTION,this.text=t,this.style=e}measureText(t){var a,l;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(a=this._style)==null?void 0:a.toCSS(n)}),this._styleElement.textContent=(l=this._style)==null?void 0:l.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},hs.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=kn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=kn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof sa?(this.ownsStyle=!1,this._style=t):t instanceof gn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=sa.from(t)):(this.ownsStyle=!0,this._style=new sa(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let qh=hs;qh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};qh.defaultMaxWidth=2024;qh.defaultMaxHeight=2024;qh.defaultAutoResolution=!0;function Jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Gt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},eo={duration:.5,overwrite:!1,delay:0},jm,mt,$e,Jt=1e8,ve=1/Jt,fp=Math.PI*2,kD=fp/4,DD=0,Gw=Math.sqrt,OD=Math.cos,ND=Math.sin,et=function(e){return typeof e=="string"},Fe=function(e){return typeof e=="function"},yn=function(e){return typeof e=="number"},Vm=function(e){return typeof e>"u"},Vr=function(e){return typeof e=="object"},Rt=function(e){return e!==!1},zw=function(){return typeof window<"u"},Vl=function(e){return Fe(e)||et(e)},$w=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},gt=Array.isArray,dp=/(?:-?\.?\d|\.)+/gi,Hw=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,bs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Tf=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,jw=/[+-]=-?[.\d]+/,Vw=/[^,'"\[\]\s]+/gi,FD=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ae,Xt,pp,Wm,$t={},lh={},Ww,Xw=function(e){return(lh=$i(e,$t))&&Ht},Xm=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},uh=function(e,r){return!r&&console.warn(e)},Yw=function(e,r){return e&&($t[e]=r)&&lh&&(lh[e]=r)||$t},Na=function(){return 0},BD={suppressEvents:!0,isStart:!0,kill:!1},mu={suppressEvents:!0,kill:!1},LD={suppressEvents:!0},Ym={},Yn=[],mp={},Kw,Ft={},Sf={},o0=30,gu=[],Km="",qm=function(e){var r=e[0],n,i;if(Vr(r)||Fe(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=gu.length;i--&&!gu[i].targetTest(r););n=gu[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new yE(e[i],n)))||e.splice(i,1);return e},Ii=function(e){return e._gsap||qm(er(e))[0]._gsap},qw=function(e,r,n){return(n=e[r])&&Fe(n)?e[r]():Vm(n)&&e.getAttribute&&e.getAttribute(r)||n},It=function(e,r){return(e=e.split(",")).forEach(r)||e},Be=function(e){return Math.round(e*1e5)/1e5||0},it=function(e){return Math.round(e*1e7)/1e7||0},Gs=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},UD=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},hh=function(){var e=Yn.length,r=Yn.slice(0),n,i;for(mp={},Yn.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Qw=function(e,r,n,i){Yn.length&&!mt&&hh(),e.render(r,n,mt&&r<0&&(e._initted||e._startAt)),Yn.length&&!mt&&hh()},Zw=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(Vw).length<2?r:et(e)?e.trim():e},Jw=function(e){return e},sr=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},GD=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},$i=function(e,r){for(var n in r)e[n]=r[n];return e},a0=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Vr(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},ch=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},oa=function(e){var r=e.parent||Ae,n=e.keyframes?GD(gt(e.keyframes)):sr;if(Rt(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},zD=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},eE=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},Qh=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},ri=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Mi=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},$D=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},gp=function(e,r,n,i){return e._startAt&&(mt?e._startAt.revert(mu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},HD=function t(e){return!e||e._ts&&t(e.parent)},l0=function(e){return e._repeat?to(e._tTime,e=e.duration()+e._rDelay)*e:0},to=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},fh=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Zh=function(e){return e._end=it(e._start+(e._tDur/Math.abs(e._ts||e._rts||ve)||0))},Jh=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=it(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Zh(e),n._dirty||Mi(n,e)),e},tE=function(e,r){var n;if((r._time||r._initted&&!r._dur)&&(n=fh(e.rawTime(),r),(!r._dur||rl(0,r.totalDuration(),n)-r._tTime>ve)&&r.render(n,!0)),Mi(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-ve}},Fr=function(e,r,n,i){return r.parent&&ri(r),r._start=it((yn(n)?n:n||e!==Ae?Wt(e,n,r):e._time)+r._delay),r._end=it(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),eE(e,r,"_first","_last",e._sort?"_start":0),yp(r)||(e._recent=r),i||tE(e,r),e._ts<0&&Jh(e,e._tTime),e},rE=function(e,r){return($t.ScrollTrigger||Xm("scrollTrigger",r))&&$t.ScrollTrigger.create(r,e)},nE=function(e,r,n,i,s){if(Zm(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!mt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Kw!==Bt.frame)return Yn.push(e),e._lazy=[s,i],1},jD=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},yp=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},VD=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&jD(e)&&!(!e._initted&&yp(e))||(e._ts<0||e._dp._ts<0)&&!yp(e))?0:1,a=e._rDelay,l=0,u,h,c;if(a&&e._repeat&&(l=rl(0,e._tDur,r),h=to(l,a),e._yoyo&&h&1&&(o=1-o),h!==to(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||mt||i||e._zTime===ve||!r&&e._zTime){if(!e._initted&&nE(e,r,i,n,l))return;for(c=e._zTime,e._zTime=r||(n?ve:0),n||(n=r&&!c),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;r<0&&gp(e,r,n,!0),e._onUpdate&&!n&&tr(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&tr(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&ri(e,1),!n&&!mt&&(tr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},WD=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},ro=function(e,r,n,i){var s=e._repeat,o=it(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:it(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Jh(e,e._tTime=e._tDur*a),e.parent&&Zh(e),n||Mi(e.parent,e),e},u0=function(e){return e instanceof St?Mi(e):ro(e,e._dur)},XD={_start:0,endTime:Na,totalDuration:Na},Wt=function t(e,r,n){var i=e.labels,s=e._recent||XD,o=e.duration()>=Jt?s.endTime(!1):e._dur,a,l,u;return et(r)&&(isNaN(r)||r in i)?(l=r.charAt(0),u=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),u&&n&&(l=l/100*(gt(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+l:o+l)):r==null?o:+r},aa=function(e,r,n){var i=yn(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,l;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Rt(l.vars.inherit)&&l.parent;o.immediateRender=Rt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new Xe(r[0],o,r[s+1])},li=function(e,r){return e||e===0?r(e):r},rl=function(e,r,n){return n<e?e:n>r?r:n},dt=function(e,r){return!et(e)||!(r=FD.exec(e))?"":r[1]},YD=function(e,r,n){return li(n,function(i){return rl(e,r,i)})},_p=[].slice,iE=function(e,r){return e&&Vr(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Vr(e[0]))&&!e.nodeType&&e!==Xt},KD=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return et(i)&&!r||iE(i,1)?(s=n).push.apply(s,er(i)):n.push(i)})||n},er=function(e,r,n){return $e&&!r&&$e.selector?$e.selector(e):et(e)&&!n&&(pp||!no())?_p.call((r||Wm).querySelectorAll(e),0):gt(e)?KD(e,n):iE(e)?_p.call(e,0):e?[e]:[]},vp=function(e){return e=er(e)[0]||uh("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return er(r,n.querySelectorAll?n:n===e?uh("Invalid scope")||Wm.createElement("div"):e)}},sE=function(e){return e.sort(function(){return .5-Math.random()})},oE=function(e){if(Fe(e))return e;var r=Vr(e)?e:{each:e},n=ki(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=r.axis,h=i,c=i;return et(i)?h=c={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(h=i[0],c=i[1]),function(f,d,p){var m=(p||r).length,v=o[m],_,y,g,x,w,b,T,E,S;if(!v){if(S=r.grid==="auto"?0:(r.grid||[1,Jt])[1],!S){for(T=-Jt;T<(T=p[S++].getBoundingClientRect().left)&&S<m;);S--}for(v=o[m]=[],_=l?Math.min(S,m)*h-.5:i%S,y=S===Jt?0:l?m*c/S-.5:i/S|0,T=0,E=Jt,b=0;b<m;b++)g=b%S-_,x=y-(b/S|0),v[b]=w=u?Math.abs(u==="y"?x:g):Gw(g*g+x*x),w>T&&(T=w),w<E&&(E=w);i==="random"&&sE(v),v.max=T-E,v.min=E,v.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(S>m?m-1:u?u==="y"?m/S:S:Math.max(S,m/S))||0)*(i==="edges"?-1:1),v.b=m<0?s-m:s,v.u=dt(r.amount||r.each)||0,n=n&&m<0?pE(n):n}return m=(v[f]-v.min)/v.max||0,it(v.b+(n?n(m):m)*v.v)+v.u}},xp=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=it(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(yn(n)?0:dt(n))}},aE=function(e,r){var n=gt(e),i,s;return!n&&Vr(e)&&(i=n=e.radius||Jt,e.values?(e=er(e.values),(s=!yn(e[0]))&&(i*=i)):e=xp(e.increment)),li(r,n?Fe(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=Jt,h=0,c=e.length,f,d;c--;)s?(f=e[c].x-a,d=e[c].y-l,f=f*f+d*d):f=Math.abs(e[c]-a),f<u&&(u=f,h=c);return h=!i||u<=i?e[h]:o,s||h===o||yn(o)?h:h+dt(o)}:xp(e))},lE=function(e,r,n,i){return li(gt(e)?!r:n===!0?!!(n=0):!i,function(){return gt(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},qD=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},QD=function(e,r){return function(n){return e(parseFloat(n))+(r||dt(n))}},ZD=function(e,r,n){return hE(e,r,0,1,n)},uE=function(e,r,n){return li(n,function(i){return e[~~r(i)]})},JD=function t(e,r,n){var i=r-e;return gt(e)?uE(e,t(0,e.length),r):li(n,function(s){return(i+(s-e)%i)%i+e})},eO=function t(e,r,n){var i=r-e,s=i*2;return gt(e)?uE(e,t(0,e.length-1),r):li(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Fa=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?Vw:dp),n+=e.substr(r,i-r)+lE(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},hE=function(e,r,n,i,s){var o=r-e,a=i-n;return li(s,function(l){return n+((l-e)/o*a||0)})},tO=function t(e,r,n,i){var s=isNaN(e+r)?0:function(d){return(1-d)*e+d*r};if(!s){var o=et(e),a={},l,u,h,c,f;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(gt(e)&&!gt(r)){for(h=[],c=e.length,f=c-2,u=1;u<c;u++)h.push(t(e[u-1],e[u]));c--,s=function(p){p*=c;var m=Math.min(f,~~p);return h[m](p-m)},n=r}else i||(e=$i(gt(e)?[]:{},e));if(!h){for(l in r)Qm.call(a,e,l,"get",r[l]);s=function(p){return tg(p,a)||(o?e.p:e)}}}return li(n,s)},h0=function(e,r,n){var i=e.labels,s=Jt,o,a,l;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},tr=function(e,r,n){var i=e.vars,s=i[r],o=$e,a=e._ctx,l,u,h;if(s)return l=i[r+"Params"],u=i.callbackScope||e,n&&Yn.length&&hh(),a&&($e=a),h=l?s.apply(u,l):s.call(u),$e=o,h},$o=function(e){return ri(e),e.scrollTrigger&&e.scrollTrigger.kill(!!mt),e.progress()<1&&tr(e,"onInterrupt"),e},Cs,rO=function(e){e=!e.name&&e.default||e;var r=e.name,n=Fe(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Na,render:tg,add:Qm,kill:_O,modifier:yO,rawVars:0},o={targetTest:0,get:0,getSetter:eg,aliases:{},register:0};if(no(),e!==i){if(Ft[r])return;sr(i,sr(ch(e,s),o)),$i(i.prototype,$i(s,ch(e,o))),Ft[i.prop=r]=i,e.targetTest&&(gu.push(i),Ym[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Yw(r,i),e.register&&e.register(Ht,i,Mt)},_e=255,Ho={aqua:[0,_e,_e],lime:[0,_e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_e],navy:[0,0,128],white:[_e,_e,_e],olive:[128,128,0],yellow:[_e,_e,0],orange:[_e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_e,0,0],pink:[_e,192,203],cyan:[0,_e,_e],transparent:[_e,_e,_e,0]},bf=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*_e+.5|0},cE=function(e,r,n){var i=e?yn(e)?[e>>16,e>>8&_e,e&_e]:0:Ho.black,s,o,a,l,u,h,c,f,d,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ho[e])i=Ho[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&_e,i&_e,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&_e,e&_e]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(dp),!r)l=+i[0]%360/360,u=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(u+1):h+u-h*u,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=bf(l+1/3,s,o),i[1]=bf(l,s,o),i[2]=bf(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Hw),n&&i.length<4&&(i[3]=1),i}else i=e.match(dp)||Ho.transparent;i=i.map(Number)}return r&&!p&&(s=i[0]/_e,o=i[1]/_e,a=i[2]/_e,c=Math.max(s,o,a),f=Math.min(s,o,a),h=(c+f)/2,c===f?l=u=0:(d=c-f,u=h>.5?d/(2-c-f):d/(c+f),l=c===s?(o-a)/d+(o<a?6:0):c===o?(a-s)/d+2:(s-o)/d+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},fE=function(e){var r=[],n=[],i=-1;return e.split(Kn).forEach(function(s){var o=s.match(bs)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},c0=function(e,r,n){var i="",s=(e+i).match(Kn),o=r?"hsla(":"rgba(",a=0,l,u,h,c;if(!s)return e;if(s=s.map(function(f){return(f=cE(f,r,1))&&o+(r?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),n&&(h=fE(e),l=n.c,l.join(i)!==h.c.join(i)))for(u=e.replace(Kn,"1").split(bs),c=u.length-1;a<c;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!u)for(u=e.split(Kn),c=u.length-1;a<c;a++)i+=u[a]+s[a];return i+u[c]},Kn=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ho)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),nO=/hsl[a]?\(/,dE=function(e){var r=e.join(" "),n;if(Kn.lastIndex=0,Kn.test(r))return n=nO.test(r),e[1]=c0(e[1],n),e[0]=c0(e[0],n,fE(e[1])),!0},Ba,Bt=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],l,u,h,c,f,d,p=function m(v){var _=t()-i,y=v===!0,g,x,w,b;if(_>e&&(n+=_-r),i+=_,w=i-n,g=w-o,(g>0||y)&&(b=++c.frame,f=w-c.time*1e3,c.time=w=w/1e3,o+=g+(g>=s?4:s-g),x=1),y||(l=u(m)),x)for(d=0;d<a.length;d++)a[d](w,f,b,v)};return c={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(v){return f/(1e3/(v||60))},wake:function(){Ww&&(!pp&&zw()&&(Xt=pp=window,Wm=Xt.document||{},$t.gsap=Ht,(Xt.gsapVersions||(Xt.gsapVersions=[])).push(Ht.version),Xw(lh||Xt.GreenSockGlobals||!Xt.gsap&&Xt||{}),h=Xt.requestAnimationFrame),l&&c.sleep(),u=h||function(v){return setTimeout(v,o-c.time*1e3+1|0)},Ba=1,p(2))},sleep:function(){(h?Xt.cancelAnimationFrame:clearTimeout)(l),Ba=0,u=Na},lagSmoothing:function(v,_){e=v||1/0,r=Math.min(_||33,e)},fps:function(v){s=1e3/(v||240),o=c.time*1e3+s},add:function(v,_,y){var g=_?function(x,w,b,T){v(x,w,b,T),c.remove(g)}:v;return c.remove(v),a[y?"unshift":"push"](g),no(),g},remove:function(v,_){~(_=a.indexOf(v))&&a.splice(_,1)&&d>=_&&d--},_listeners:a},c}(),no=function(){return!Ba&&Bt.wake()},fe={},iO=/^[\d.\-M][\d.\-,\s]/,sO=/["']/g,oO=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,l,u;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),r[i]=isNaN(u)?u.replace(sO,"").trim():+u,i=l.substr(a+1).trim();return r},aO=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},lO=function(e){var r=(e+"").split("("),n=fe[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[oO(r[1])]:aO(e).split(",").map(Zw)):fe._CE&&iO.test(e)?fe._CE("",e):n},pE=function(e){return function(r){return 1-e(1-r)}},mE=function t(e,r){for(var n=e._first,i;n;)n instanceof St?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},ki=function(e,r){return e&&(Fe(e)?e:fe[e]||lO(e))||r},Qi=function(e,r,n,i){n===void 0&&(n=function(l){return 1-r(1-l)}),i===void 0&&(i=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return It(e,function(a){fe[a]=$t[a]=s,fe[o=a.toLowerCase()]=n;for(var l in s)fe[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=fe[a+"."+l]=s[l]}),s},gE=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},Cf=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/fp*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*ND((h-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:gE(a);return s=fp/s,l.config=function(u,h){return t(e,u,h)},l},Af=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:gE(n);return i.config=function(s){return t(e,s)},i};It("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Qi(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});fe.Linear.easeNone=fe.none=fe.Linear.easeIn;Qi("Elastic",Cf("in"),Cf("out"),Cf());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Qi("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Qi("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Qi("Circ",function(t){return-(Gw(1-t*t)-1)});Qi("Sine",function(t){return t===1?1:-OD(t*kD)+1});Qi("Back",Af("in"),Af("out"),Af());fe.SteppedEase=fe.steps=$t.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-ve;return function(a){return((i*rl(0,o,a)|0)+s)*n}}};eo.ease=fe["quad.out"];It("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Km+=t+","+t+"Params,"});var yE=function(e,r){this.id=DD++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:qw,this.set=r?r.getSetter:eg},io=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,ro(this,+r.duration,1,1),this.data=r.data,$e&&(this._ctx=$e,$e.data.push(this)),Ba||Bt.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,ro(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(no(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Jh(this,n),!s._dp||s.parent||tE(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Fr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ve||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Qw(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+l0(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+l0(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?to(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-ve?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?fh(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-ve?0:this._rts,this.totalTime(rl(-this._delay,this._tDur,i),!0),Zh(this),$D(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(no(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ve&&(this._tTime-=ve)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Fr(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Rt(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?fh(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=LD);var i=mt;return mt=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),mt=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,u0(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,u0(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Wt(this,n),Rt(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Rt(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-ve:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ve,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-ve)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=Fe(n)?n:Jw,a=function(){var u=i.then;i.then=null,Fe(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){$o(this)},t}();sr(io.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ve,_prom:0,_ps:!1,_rts:1});var St=function(t){Uw(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Rt(n.sortChildren),Ae&&Fr(n.parent||Ae,Jr(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&rE(Jr(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return aa(0,arguments,this),this},r.from=function(i,s,o){return aa(1,arguments,this),this},r.fromTo=function(i,s,o,a){return aa(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,oa(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Xe(i,s,Wt(this,o),1),this},r.call=function(i,s,o){return Fr(this,Xe.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,l,u,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new Xe(i,o,Wt(this,l)),this},r.staggerFrom=function(i,s,o,a,l,u,h){return o.runBackwards=1,oa(o).immediateRender=Rt(o.immediateRender),this.staggerTo(i,s,o,a,l,u,h)},r.staggerFromTo=function(i,s,o,a,l,u,h,c){return a.startAt=o,oa(a).immediateRender=Rt(a.immediateRender),this.staggerTo(i,s,a,l,u,h,c)},r.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=i<=0?0:it(i),c=this._zTime<0!=i<0&&(this._initted||!u),f,d,p,m,v,_,y,g,x,w,b,T;if(this!==Ae&&h>l&&i>=0&&(h=l),h!==this._tTime||o||c){if(a!==this._time&&u&&(h+=this._time-a,i+=this._time-a),f=h,x=this._start,g=this._ts,_=!g,c&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(b=this._yoyo,v=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(f=it(h%v),h===l?(m=this._repeat,f=u):(m=~~(h/v),m&&m===h/v&&(f=u,m--),f>u&&(f=u)),w=to(this._tTime,v),!a&&this._tTime&&w!==m&&(w=m),b&&m&1&&(f=u-f,T=1),m!==w&&!this._lock){var E=b&&w&1,S=E===(b&&m&1);if(m<w&&(E=!E),a=E?0:u,this._lock=1,this.render(a||(T?0:it(m*v)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&tr(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,S&&(this._lock=2,a=E?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;mE(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=WD(this,it(a),it(f)),y&&(h-=f-(f=y._start))),this._tTime=h,this._time=f,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&(tr(this,"onStart"),this._tTime!==h))return this;if(f>=a&&i>=0)for(d=this._first;d;){if(p=d._next,(d._act||f>=d._start)&&d._ts&&y!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,s,o),f!==this._time||!this._ts&&!_){y=0,p&&(h+=this._zTime=-ve);break}}d=p}else{d=this._last;for(var A=i<0?i:f;d;){if(p=d._prev,(d._act||A<=d._end)&&d._ts&&y!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(A-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(A-d._start)*d._ts,s,o||mt&&(d._initted||d._startAt)),f!==this._time||!this._ts&&!_){y=0,p&&(h+=this._zTime=A?-ve:ve);break}}d=p}}if(y&&!s&&(this.pause(),y.render(f>=a?0:-ve)._zTime=f>=a?1:-1,this._ts))return this._start=x,Zh(this),this.render(i,s,o);this._onUpdate&&!s&&tr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(x===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&ri(this,1),!s&&!(i<0&&!a)&&(h||a||!l)&&(tr(this,h===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(yn(s)||(s=Wt(this,s,i)),!(i instanceof io)){if(gt(i))return i.forEach(function(a){return o.add(a,s)}),this;if(et(i))return this.addLabel(i,s);if(Fe(i))i=Xe.delayedCall(0,i);else return this}return this!==i?Fr(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Jt);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Xe?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return et(i)?this.removeLabel(i):Fe(i)?this.killTweensOf(i):(Qh(this,i),i===this._recent&&(this._recent=this._last),Mi(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=it(Bt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=Wt(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=Xe.delayedCall(0,s||Na,o);return a.data="isPause",this._hasPause=1,Fr(this,a,Wt(this,i))},r.removePause=function(i){var s=this._first;for(i=Wt(this,i);s;)s._start===i&&s.data==="isPause"&&ri(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)On!==a[l]&&a[l].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=er(i),l=this._first,u=yn(s),h;l;)l instanceof Xe?UD(l._targets,a)&&(u?(!On||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=Wt(o,i),l=s,u=l.startAt,h=l.onStart,c=l.onStartParams,f=l.immediateRender,d,p=Xe.to(o,sr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||ve,onStart:function(){if(o.pause(),!d){var v=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());p._dur!==v&&ro(p,v,0,1).render(p._time,!0,!0),d=1}h&&h.apply(p,c||[])}},s));return f?p.render(0):p},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,sr({startAt:{time:Wt(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),h0(this,Wt(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),h0(this,Wt(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ve)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Mi(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Mi(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,l=Jt,u,h,c;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(c=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Fr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!c&&!o._dp||c&&c.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;ro(o,o===Ae&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Ae._ts&&(Qw(Ae,fh(i,Ae)),Kw=Bt.frame),Bt.frame>=o0){o0+=Gt.autoSleep||120;var s=Ae._first;if((!s||!s._ts)&&Gt.autoSleep&&Bt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Bt.sleep()}}},e}(io);sr(St.prototype,{_lock:0,_hasPause:0,_forcing:0});var uO=function(e,r,n,i,s,o,a){var l=new Mt(this._pt,e,r,0,1,TE,null,s),u=0,h=0,c,f,d,p,m,v,_,y;for(l.b=n,l.e=i,n+="",i+="",(_=~i.indexOf("random("))&&(i=Fa(i)),o&&(y=[n,i],o(y,e,r),n=y[0],i=y[1]),f=n.match(Tf)||[];c=Tf.exec(i);)p=c[0],m=i.substring(u,c.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==f[h++]&&(v=parseFloat(f[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:v,c:p.charAt(1)==="="?Gs(v,p)-v:parseFloat(p)-v,m:d&&d<4?Math.round:0},u=Tf.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(jw.test(i)||_)&&(l.e=0),this._pt=l,l},Qm=function(e,r,n,i,s,o,a,l,u,h){Fe(i)&&(i=i(s||0,e,o));var c=e[r],f=n!=="get"?n:Fe(c)?u?e[r.indexOf("set")||!Fe(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():c,d=Fe(c)?u?pO:wE:Jm,p;if(et(i)&&(~i.indexOf("random(")&&(i=Fa(i)),i.charAt(1)==="="&&(p=Gs(f,i)+(dt(f)||0),(p||p===0)&&(i=p))),!h||f!==i||wp)return!isNaN(f*i)&&i!==""?(p=new Mt(this._pt,e,r,+f||0,i-(f||0),typeof c=="boolean"?gO:EE,0,d),u&&(p.fp=u),a&&p.modifier(a,this,e),this._pt=p):(!c&&!(r in e)&&Xm(r,i),uO.call(this,e,r,f,i,d,l||Gt.stringFilter,u))},hO=function(e,r,n,i,s){if(Fe(e)&&(e=la(e,s,r,n,i)),!Vr(e)||e.style&&e.nodeType||gt(e)||$w(e))return et(e)?la(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=la(e[a],s,r,n,i);return o},_E=function(e,r,n,i,s,o){var a,l,u,h;if(Ft[e]&&(a=new Ft[e]).init(s,a.rawVars?r[e]:hO(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=l=new Mt(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Cs))for(u=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)u[a._props[h]]=l;return a},On,wp,Zm=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,h=i.onUpdateParams,c=i.callbackScope,f=i.runBackwards,d=i.yoyoEase,p=i.keyframes,m=i.autoRevert,v=e._dur,_=e._startAt,y=e._targets,g=e.parent,x=g&&g.data==="nested"?g.vars.targets:y,w=e._overwrite==="auto"&&!jm,b=e.timeline,T,E,S,A,k,F,M,P,H,K,B,O,V;if(b&&(!p||!s)&&(s="none"),e._ease=ki(s,eo.ease),e._yEase=d?pE(ki(d===!0?s:d,eo.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!b&&!!i.runBackwards,!b||p&&!i.stagger){if(P=y[0]?Ii(y[0]).harness:0,O=P&&i[P.prop],T=ch(i,Ym),_&&(_._zTime<0&&_.progress(1),r<0&&f&&a&&!m?_.render(-1,!0):_.revert(f&&v?mu:BD),_._lazy=0),o){if(ri(e._startAt=Xe.set(y,sr({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!_&&Rt(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:h,callbackScope:c,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(mt||!a&&!m)&&e._startAt.revert(mu),a&&v&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&v&&!_){if(r&&(a=!1),S=sr({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Rt(l),immediateRender:a,stagger:0,parent:g},T),O&&(S[P.prop]=O),ri(e._startAt=Xe.set(y,S)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(mt?e._startAt.revert(mu):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,ve,ve);else if(!r)return}for(e._pt=e._ptCache=0,l=v&&Rt(l)||l&&!v,E=0;E<y.length;E++){if(k=y[E],M=k._gsap||qm(y)[E]._gsap,e._ptLookup[E]=K={},mp[M.id]&&Yn.length&&hh(),B=x===y?E:x.indexOf(k),P&&(H=new P).init(k,O||T,e,B,x)!==!1&&(e._pt=A=new Mt(e._pt,k,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(R){K[R]=A}),H.priority&&(F=1)),!P||O)for(S in T)Ft[S]&&(H=_E(S,T,e,B,k,x))?H.priority&&(F=1):K[S]=A=Qm.call(e,k,S,"get",T[S],B,x,0,i.stringFilter);e._op&&e._op[E]&&e.kill(k,e._op[E]),w&&e._pt&&(On=e,Ae.killTweensOf(k,K,e.globalTime(r)),V=!e.parent,On=0),e._pt&&l&&(mp[M.id]=1)}F&&SE(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!V,p&&r<=0&&b.render(Jt,!0,!0)},cO=function(e,r,n,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],u,h,c,f;if(!l)for(l=e._ptCache[r]=[],c=e._ptLookup,f=e._targets.length;f--;){if(u=c[f][r],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==r&&u.fp!==r;)u=u._next;if(!u)return wp=1,e.vars[r]="+=0",Zm(e,a),wp=0,1;l.push(u)}for(f=l.length;f--;)h=l[f],u=h._pt||h,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=n-u.s,h.e&&(h.e=Be(n)+dt(h.e)),h.b&&(h.b=u.s+dt(h.b))},fO=function(e,r){var n=e[0]?Ii(e[0]).harness:0,i=n&&n.aliases,s,o,a,l;if(!i)return r;s=$i({},r);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},dO=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(gt(r))a=n[e]||(n[e]=[]),r.forEach(function(l,u){return a.push({t:u/(r.length-1)*100,v:l,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},la=function(e,r,n,i,s){return Fe(e)?e.call(r,n,i,s):et(e)&&~e.indexOf("random(")?Fa(e):e},vE=Km+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xE={};It(vE+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return xE[t]=1});var Xe=function(t){Uw(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:oa(i))||this;var l=a.vars,u=l.duration,h=l.delay,c=l.immediateRender,f=l.stagger,d=l.overwrite,p=l.keyframes,m=l.defaults,v=l.scrollTrigger,_=l.yoyoEase,y=i.parent||Ae,g=(gt(n)||$w(n)?yn(n[0]):"length"in i)?[n]:er(n),x,w,b,T,E,S,A,k;if(a._targets=g.length?qm(g):uh("GSAP target "+n+" not found. https://greensock.com",!Gt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||f||Vl(u)||Vl(h)){if(i=a.vars,x=a.timeline=new St({data:"nested",defaults:m||{},targets:y&&y.data==="nested"?y.vars.targets:g}),x.kill(),x.parent=x._dp=Jr(a),x._start=0,f||Vl(u)||Vl(h)){if(T=g.length,A=f&&oE(f),Vr(f))for(E in f)~vE.indexOf(E)&&(k||(k={}),k[E]=f[E]);for(w=0;w<T;w++)b=ch(i,xE),b.stagger=0,_&&(b.yoyoEase=_),k&&$i(b,k),S=g[w],b.duration=+la(u,Jr(a),w,S,g),b.delay=(+la(h,Jr(a),w,S,g)||0)-a._delay,!f&&T===1&&b.delay&&(a._delay=h=b.delay,a._start+=h,b.delay=0),x.to(S,b,A?A(w,S,g):0),x._ease=fe.none;x.duration()?u=h=0:a.timeline=0}else if(p){oa(sr(x.vars.defaults,{ease:"none"})),x._ease=ki(p.ease||i.ease||"none");var F=0,M,P,H;if(gt(p))p.forEach(function(K){return x.to(g,K,">")}),x.duration();else{b={};for(E in p)E==="ease"||E==="easeEach"||dO(E,p[E],b,p.easeEach);for(E in b)for(M=b[E].sort(function(K,B){return K.t-B.t}),F=0,w=0;w<M.length;w++)P=M[w],H={ease:P.e,duration:(P.t-(w?M[w-1].t:0))/100*u},H[E]=P.v,x.to(g,H,F),F+=H.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||a.duration(u=x.duration())}else a.timeline=0;return d===!0&&!jm&&(On=Jr(a),Ae.killTweensOf(g),On=0),Fr(y,Jr(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(c||!u&&!p&&a._start===it(y._time)&&Rt(c)&&HD(Jr(a))&&y.data!=="nested")&&(a._tTime=-ve,a.render(Math.max(0,-h)||0)),v&&rE(Jr(a),v),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,h=i<0,c=i>l-ve&&!h?l:i<ve?0:i,f,d,p,m,v,_,y,g,x;if(!u)VD(this,i,s,o);else if(c!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(f=c,g=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+i,s,o);if(f=it(c%m),c===l?(p=this._repeat,f=u):(p=~~(c/m),p&&p===c/m&&(f=u,p--),f>u&&(f=u)),_=this._yoyo&&p&1,_&&(x=this._yEase,f=u-f),v=to(this._tTime,m),f===a&&!o&&this._initted)return this._tTime=c,this;p!==v&&(g&&this._yEase&&mE(g,_),this.vars.repeatRefresh&&!_&&!this._lock&&(this._lock=o=1,this.render(it(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(nE(this,h?i:f,o,s,c))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=c,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(x||this._ease)(f/u),this._from&&(this.ratio=y=1-y),f&&!a&&!s&&(tr(this,"onStart"),this._tTime!==c))return this;for(d=this._pt;d;)d.r(y,d.d),d=d._next;g&&g.render(i<0?i:!f&&_?-ve:g._dur*g._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&gp(this,i,s,o),tr(this,"onUpdate")),this._repeat&&p!==v&&this.vars.onRepeat&&!s&&this.parent&&tr(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(h&&!this._onUpdate&&gp(this,i,!0,!0),(i||!u)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&ri(this,1),!s&&!(h&&!a)&&(c||a||_)&&(tr(this,c===l?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a){Ba||Bt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Zm(this,l),u=this._ease(l/this._dur),cO(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(Jh(this,0),this.parent||eE(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?$o(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,On&&On.vars.overwrite!==!0)._first||$o(this),this.parent&&o!==this.timeline.totalDuration()&&ro(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?er(i):a,u=this._ptLookup,h=this._pt,c,f,d,p,m,v,_;if((!s||s==="all")&&zD(a,l))return s==="all"&&(this._pt=0),$o(this);for(c=this._op=this._op||[],s!=="all"&&(et(s)&&(m={},It(s,function(y){return m[y]=1}),s=m),s=fO(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){f=u[_],s==="all"?(c[_]=s,p=f,d={}):(d=c[_]=c[_]||{},p=s);for(m in p)v=f&&f[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&Qh(this,v,"_pt"),delete f[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&h&&$o(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return aa(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return aa(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Ae.killTweensOf(i,s,o)},e}(io);sr(Xe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});It("staggerTo,staggerFrom,staggerFromTo",function(t){Xe[t]=function(){var e=new St,r=_p.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Jm=function(e,r,n){return e[r]=n},wE=function(e,r,n){return e[r](n)},pO=function(e,r,n,i){return e[r](i.fp,n)},mO=function(e,r,n){return e.setAttribute(r,n)},eg=function(e,r){return Fe(e[r])?wE:Vm(e[r])&&e.setAttribute?mO:Jm},EE=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},gO=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},TE=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},tg=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},yO=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},_O=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?Qh(this,r,"_pt"):r.dep||(n=1),r=i;return!n},vO=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},SE=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},Mt=function(){function t(r,n,i,s,o,a,l,u,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||EE,this.d=l||this,this.set=u||Jm,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=vO,this.m=n,this.mt=s,this.tween=i},t}();It(Km+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ym[t]=1});$t.TweenMax=$t.TweenLite=Xe;$t.TimelineLite=$t.TimelineMax=St;Ae=new St({sortChildren:!1,defaults:eo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Gt.stringFilter=dE;var so=[],yu={},xO=[],f0=0,Pf=function(e){return(yu[e]||xO).map(function(r){return r()})},Ep=function(){var e=Date.now(),r=[];e-f0>2&&(Pf("matchMediaInit"),so.forEach(function(n){var i=n.queries,s=n.conditions,o,a,l,u;for(a in i)o=Xt.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(n.revert(),l&&r.push(n))}),Pf("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),f0=e,Pf("matchMedia"))},bE=function(){function t(r,n){this.selector=n&&vp(n),this.data=[],this._r=[],this.isReverted=!1,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){Fe(n)&&(s=i,i=n,n=Fe);var o=this,a=function(){var u=$e,h=o.selector,c;return u&&u!==o&&u.data.push(o),s&&(o.selector=vp(s)),$e=o,c=i.apply(o,arguments),Fe(c)&&o._r.push(c),$e=u,o.selector=h,o.isReverted=!1,c};return o.last=a,n===Fe?a(o):n?o[n]=a:a},e.ignore=function(n){var i=$e;$e=null,n(this),$e=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof Xe&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof io)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=so.indexOf(this);~a&&so.splice(a,1)}},e.revert=function(n){this.kill(n||{})},t}(),wO=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,i,s){Vr(n)||(n={matches:n});var o=new bE(0,s||this.scope),a=o.conditions={},l,u,h;this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(u in n)u==="all"?h=1:(l=Xt.matchMedia(n[u]),l&&(so.indexOf(o)<0&&so.push(o),(a[u]=l.matches)&&(h=1),l.addListener?l.addListener(Ep):l.addEventListener("change",Ep)));return h&&i(o),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),dh={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return rO(i)})},timeline:function(e){return new St(e)},getTweensOf:function(e,r){return Ae.getTweensOf(e,r)},getProperty:function(e,r,n,i){et(e)&&(e=er(e)[0]);var s=Ii(e||{}).get,o=n?Jw:Zw;return n==="native"&&(n=""),e&&(r?o((Ft[r]&&Ft[r].get||s)(e,r,n,i)):function(a,l,u){return o((Ft[a]&&Ft[a].get||s)(e,a,l,u))})},quickSetter:function(e,r,n){if(e=er(e),e.length>1){var i=e.map(function(h){return Ht.quickSetter(h,r,n)}),s=i.length;return function(h){for(var c=s;c--;)i[c](h)}}e=e[0]||{};var o=Ft[r],a=Ii(e),l=a.harness&&(a.harness.aliases||{})[r]||r,u=o?function(h){var c=new o;Cs._pt=0,c.init(e,n?h+n:h,Cs,0,[e]),c.render(1,c),Cs._pt&&tg(1,Cs)}:a.set(e,l);return o?u:function(h){return u(e,l,n?h+n:h,a,1)}},quickTo:function(e,r,n){var i,s=Ht.to(e,$i((i={},i[r]="+=0.1",i.paused=!0,i),n||{})),o=function(l,u,h){return s.resetTo(r,l,u,h)};return o.tween=s,o},isTweening:function(e){return Ae.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ki(e.ease,eo.ease)),a0(eo,e||{})},config:function(e){return a0(Gt,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ft[a]&&!$t[a]&&uh(r+" effect requires "+a+" plugin.")}),Sf[r]=function(a,l,u){return n(er(a),sr(l||{},s),u)},o&&(St.prototype[r]=function(a,l,u){return this.add(Sf[r](a,Vr(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,r){fe[e]=ki(r)},parseEase:function(e,r){return arguments.length?ki(e,r):fe},getById:function(e){return Ae.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new St(e),i,s;for(n.smoothChildTiming=Rt(e.smoothChildTiming),Ae.remove(n),n._dp=0,n._time=n._tTime=Ae._time,i=Ae._first;i;)s=i._next,(r||!(!i._dur&&i instanceof Xe&&i.vars.onComplete===i._targets[0]))&&Fr(n,i,i._start-i._delay),i=s;return Fr(Ae,n,0),n},context:function(e,r){return e?new bE(e,r):$e},matchMedia:function(e){return new wO(e)},matchMediaRefresh:function(){return so.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||Ep()},addEventListener:function(e,r){var n=yu[e]||(yu[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=yu[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:JD,wrapYoyo:eO,distribute:oE,random:lE,snap:aE,normalize:ZD,getUnit:dt,clamp:YD,splitColor:cE,toArray:er,selector:vp,mapRange:hE,pipe:qD,unitize:QD,interpolate:tO,shuffle:sE},install:Xw,effects:Sf,ticker:Bt,updateRoot:St.updateRoot,plugins:Ft,globalTimeline:Ae,core:{PropTween:Mt,globals:Yw,Tween:Xe,Timeline:St,Animation:io,getCache:Ii,_removeLinkedListItem:Qh,reverting:function(){return mt},context:function(e){return e&&$e&&($e.data.push(e),e._ctx=$e),$e},suppressOverwrites:function(e){return jm=e}}};It("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return dh[t]=Xe[t]});Bt.add(St.updateRoot);Cs=dh.to({},{duration:0});var EO=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},TO=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=EO(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},Rf=function(e,r){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(et(s)&&(l={},It(s,function(h){return l[h]=1}),s=l),r){l={};for(u in s)l[u]=r(s[u]);s=l}TO(a,s)}}}},Ht=dh.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,l;this.tween=n;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)mt?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},Rf("roundProps",xp),Rf("modifiers"),Rf("snap",aE))||dh;Xe.version=St.version=Ht.version="3.11.4";Ww=1;zw()&&no();fe.Power0;fe.Power1;fe.Power2;fe.Power3;fe.Power4;fe.Linear;fe.Quad;fe.Cubic;fe.Quart;fe.Quint;fe.Strong;fe.Elastic;fe.Back;fe.SteppedEase;fe.Bounce;fe.Sine;fe.Expo;fe.Circ;/*!
 * CSSPlugin 3.11.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var d0,Nn,zs,rg,bi,p0,ng,SO=function(){return typeof window<"u"},_n={},vi=180/Math.PI,$s=Math.PI/180,is=Math.atan2,m0=1e8,ig=/([A-Z])/g,bO=/(left|right|width|margin|padding|x)/i,CO=/[\s,\(]\S/,an={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Tp=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},AO=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},PO=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},RO=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},CE=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},AE=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},IO=function(e,r,n){return e.style[r]=n},MO=function(e,r,n){return e.style.setProperty(r,n)},kO=function(e,r,n){return e._gsap[r]=n},DO=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},OO=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},NO=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},Re="transform",Sr=Re+"Origin",FO=function(e,r){var n=this,i=this.target,s=i.style;if(e in _n){if(this.tfm=this.tfm||{},e!=="transform"&&(e=an[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=tn(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:tn(i,e)),this.props.indexOf(Re)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Sr,r,"")),e=Re}(s||r)&&this.props.push(e,r,s[e])},PE=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},BO=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].replace(ig,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=ng(),s&&!s.isStart&&!n[Re]&&(PE(n),i.uncache=1)}},RE=function(e,r){var n={target:e,props:[],revert:BO,save:FO};return r&&r.split(",").forEach(function(i){return n.save(i)}),n},IE,Sp=function(e,r){var n=Nn.createElementNS?Nn.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Nn.createElement(e);return n.style?n:Nn.createElement(e)},$r=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(ig,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,oo(r)||r,1)||""},g0="O,Moz,ms,Ms,Webkit".split(","),oo=function(e,r,n){var i=r||bi,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(g0[o]+e in s););return o<0?null:(o===3?"ms":o>=0?g0[o]:"")+e},bp=function(){SO()&&window.document&&(d0=window,Nn=d0.document,zs=Nn.documentElement,bi=Sp("div")||{style:{}},Sp("div"),Re=oo(Re),Sr=Re+"Origin",bi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",IE=!!oo("perspective"),ng=Ht.core.reverting,rg=1)},If=function t(e){var r=Sp("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(zs.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),zs.removeChild(r),this.style.cssText=s,o},y0=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},ME=function(e){var r;try{r=e.getBBox()}catch{r=If.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===If||(r=If.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+y0(e,["x","cx","x1"])||0,y:+y0(e,["y","cy","y1"])||0,width:0,height:0}:r},kE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ME(e))},La=function(e,r){if(r){var n=e.style;r in _n&&r!==Sr&&(r=Re),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(ig,"-$1").toLowerCase())):n.removeAttribute(r)}},Fn=function(e,r,n,i,s,o){var a=new Mt(e._pt,r,n,0,1,o?AE:CE);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},_0={deg:1,rad:1,turn:1},LO={grid:1,flex:1},ni=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=bi.style,l=bO.test(r),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),c=100,f=i==="px",d=i==="%",p,m,v,_;return i===o||!s||_0[i]||_0[o]?s:(o!=="px"&&!f&&(s=t(e,r,n,"px")),_=e.getCTM&&kE(e),(d||o==="%")&&(_n[r]||~r.indexOf("adius"))?(p=_?e.getBBox()[l?"width":"height"]:e[h],Be(d?s/p*c:s/100*p)):(a[l?"width":"height"]=c+(f?o:i),m=~r.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,_&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Nn||!m.appendChild)&&(m=Nn.body),v=m._gsap,v&&d&&v.width&&l&&v.time===Bt.time&&!v.uncache?Be(s/v.width*c):((d||o==="%")&&!LO[$r(m,"display")]&&(a.position=$r(e,"position")),m===e&&(a.position="static"),m.appendChild(bi),p=bi[h],m.removeChild(bi),a.position="absolute",l&&d&&(v=Ii(m),v.time=Bt.time,v.width=m[h]),Be(f?p*s/c:p&&s?c/p*s:0))))},tn=function(e,r,n,i){var s;return rg||bp(),r in an&&r!=="transform"&&(r=an[r],~r.indexOf(",")&&(r=r.split(",")[0])),_n[r]&&r!=="transform"?(s=Ga(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:mh($r(e,Sr))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=ph[r]&&ph[r](e,r,n)||$r(e,r)||qw(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?ni(e,r,s,n)+n:s},UO=function(e,r,n,i){if(!n||n==="none"){var s=oo(r,e,1),o=s&&$r(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=$r(e,"borderTopColor"))}var a=new Mt(this._pt,e.style,r,0,1,TE),l=0,u=0,h,c,f,d,p,m,v,_,y,g,x,w;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[r]=i,i=$r(e,r)||i,e.style[r]=n),h=[n,i],dE(h),n=h[0],i=h[1],f=n.match(bs)||[],w=i.match(bs)||[],w.length){for(;c=bs.exec(i);)v=c[0],y=i.substring(l,c.index),p?p=(p+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(p=1),v!==(m=f[u++]||"")&&(d=parseFloat(m)||0,x=m.substr((d+"").length),v.charAt(1)==="="&&(v=Gs(d,v)+x),_=parseFloat(v),g=v.substr((_+"").length),l=bs.lastIndex-g.length,g||(g=g||Gt.units[r]||x,l===i.length&&(i+=g,a.e+=g)),x!==g&&(d=ni(e,r,m,g)||0),a._pt={_next:a._pt,p:y||u===1?y:",",s:d,c:_-d,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=r==="display"&&i==="none"?AE:CE;return jw.test(i)&&(a.e=0),this._pt=a,a},v0={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},GO=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=v0[n]||n,r[1]=v0[i]||i,r.join(" ")},zO=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],_n[a]&&(l=1,a=a==="transformOrigin"?Sr:Re),La(n,a);l&&(La(n,Re),o&&(o.svg&&n.removeAttribute("transform"),Ga(n,1),o.uncache=1,PE(i)))}},ph={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Mt(e._pt,r,n,0,0,zO);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},Ua=[1,0,0,1,0,0],DE={},OE=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},x0=function(e){var r=$r(e,Re);return OE(r)?Ua:r.substr(7).match(Hw).map(Be)},sg=function(e,r){var n=e._gsap||Ii(e),i=e.style,s=x0(e),o,a,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Ua:s):(s===Ua&&!e.offsetParent&&e!==zs&&!n.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,zs.appendChild(e)),s=x0(e),l?i.display=l:La(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):zs.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Cp=function(e,r,n,i,s,o){var a=e._gsap,l=s||sg(e,!0),u=a.xOrigin||0,h=a.yOrigin||0,c=a.xOffset||0,f=a.yOffset||0,d=l[0],p=l[1],m=l[2],v=l[3],_=l[4],y=l[5],g=r.split(" "),x=parseFloat(g[0])||0,w=parseFloat(g[1])||0,b,T,E,S;n?l!==Ua&&(T=d*v-p*m)&&(E=x*(v/T)+w*(-m/T)+(m*y-v*_)/T,S=x*(-p/T)+w*(d/T)-(d*y-p*_)/T,x=E,w=S):(b=ME(e),x=b.x+(~g[0].indexOf("%")?x/100*b.width:x),w=b.y+(~(g[1]||g[0]).indexOf("%")?w/100*b.height:w)),i||i!==!1&&a.smooth?(_=x-u,y=w-h,a.xOffset=c+(_*d+y*m)-_,a.yOffset=f+(_*p+y*v)-y):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=w,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[Sr]="0px 0px",o&&(Fn(o,a,"xOrigin",u,x),Fn(o,a,"yOrigin",h,w),Fn(o,a,"xOffset",c,a.xOffset),Fn(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},Ga=function(e,r){var n=e._gsap||new yE(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=$r(e,Sr)||"0",h,c,f,d,p,m,v,_,y,g,x,w,b,T,E,S,A,k,F,M,P,H,K,B,O,V,R,W,Z,ae,ie,C;return h=c=f=m=v=_=y=g=x=0,d=p=1,n.svg=!!(e.getCTM&&kE(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Re]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Re]!=="none"?l[Re]:"")),i.scale=i.rotate=i.translate="none"),T=sg(e,n.svg),n.svg&&(n.uncache?(O=e.getBBox(),u=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",B=""):B=!r&&e.getAttribute("data-svg-origin"),Cp(e,B||u,!!B||n.originIsAbsolute,n.smooth!==!1,T)),w=n.xOrigin||0,b=n.yOrigin||0,T!==Ua&&(k=T[0],F=T[1],M=T[2],P=T[3],h=H=T[4],c=K=T[5],T.length===6?(d=Math.sqrt(k*k+F*F),p=Math.sqrt(P*P+M*M),m=k||F?is(F,k)*vi:0,y=M||P?is(M,P)*vi+m:0,y&&(p*=Math.abs(Math.cos(y*$s))),n.svg&&(h-=w-(w*k+b*M),c-=b-(w*F+b*P))):(C=T[6],ae=T[7],R=T[8],W=T[9],Z=T[10],ie=T[11],h=T[12],c=T[13],f=T[14],E=is(C,Z),v=E*vi,E&&(S=Math.cos(-E),A=Math.sin(-E),B=H*S+R*A,O=K*S+W*A,V=C*S+Z*A,R=H*-A+R*S,W=K*-A+W*S,Z=C*-A+Z*S,ie=ae*-A+ie*S,H=B,K=O,C=V),E=is(-M,Z),_=E*vi,E&&(S=Math.cos(-E),A=Math.sin(-E),B=k*S-R*A,O=F*S-W*A,V=M*S-Z*A,ie=P*A+ie*S,k=B,F=O,M=V),E=is(F,k),m=E*vi,E&&(S=Math.cos(E),A=Math.sin(E),B=k*S+F*A,O=H*S+K*A,F=F*S-k*A,K=K*S-H*A,k=B,H=O),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,_=180-_),d=Be(Math.sqrt(k*k+F*F+M*M)),p=Be(Math.sqrt(K*K+C*C)),E=is(H,K),y=Math.abs(E)>2e-4?E*vi:0,x=ie?1/(ie<0?-ie:ie):0),n.svg&&(B=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!OE($r(e,Re)),B&&e.setAttribute("transform",B))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(d*=-1,y+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,y+=y<=0?180:-180)),r=r||n.uncache,n.x=h-((n.xPercent=h&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=c-((n.yPercent=c&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-c)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=f+o,n.scaleX=Be(d),n.scaleY=Be(p),n.rotation=Be(m)+a,n.rotationX=Be(v)+a,n.rotationY=Be(_)+a,n.skewX=y+a,n.skewY=g+a,n.transformPerspective=x+o,(n.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[Sr]=mh(u)),n.xOffset=n.yOffset=0,n.force3D=Gt.force3D,n.renderTransform=n.svg?HO:IE?NE:$O,n.uncache=0,n},mh=function(e){return(e=e.split(" "))[0]+" "+e[1]},Mf=function(e,r,n){var i=dt(r);return Be(parseFloat(r)+parseFloat(ni(e,"x",n+"px",i)))+i},$O=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,NE(e,r)},ci="0deg",Mo="0px",fi=") ",NE=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,u=n.rotation,h=n.rotationY,c=n.rotationX,f=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,v=n.transformPerspective,_=n.force3D,y=n.target,g=n.zOrigin,x="",w=_==="auto"&&e&&e!==1||_===!0;if(g&&(c!==ci||h!==ci)){var b=parseFloat(h)*$s,T=Math.sin(b),E=Math.cos(b),S;b=parseFloat(c)*$s,S=Math.cos(b),o=Mf(y,o,T*S*-g),a=Mf(y,a,-Math.sin(b)*-g),l=Mf(y,l,E*S*-g+g)}v!==Mo&&(x+="perspective("+v+fi),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(w||o!==Mo||a!==Mo||l!==Mo)&&(x+=l!==Mo||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+fi),u!==ci&&(x+="rotate("+u+fi),h!==ci&&(x+="rotateY("+h+fi),c!==ci&&(x+="rotateX("+c+fi),(f!==ci||d!==ci)&&(x+="skew("+f+", "+d+fi),(p!==1||m!==1)&&(x+="scale("+p+", "+m+fi),y.style[Re]=x||"translate(0, 0)"},HO=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,u=n.skewX,h=n.skewY,c=n.scaleX,f=n.scaleY,d=n.target,p=n.xOrigin,m=n.yOrigin,v=n.xOffset,_=n.yOffset,y=n.forceCSS,g=parseFloat(o),x=parseFloat(a),w,b,T,E,S;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=$s,u*=$s,w=Math.cos(l)*c,b=Math.sin(l)*c,T=Math.sin(l-u)*-f,E=Math.cos(l-u)*f,u&&(h*=$s,S=Math.tan(u-h),S=Math.sqrt(1+S*S),T*=S,E*=S,h&&(S=Math.tan(h),S=Math.sqrt(1+S*S),w*=S,b*=S)),w=Be(w),b=Be(b),T=Be(T),E=Be(E)):(w=c,E=f,b=T=0),(g&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(g=ni(d,"x",o,"px"),x=ni(d,"y",a,"px")),(p||m||v||_)&&(g=Be(g+p-(p*w+m*T)+v),x=Be(x+m-(p*b+m*E)+_)),(i||s)&&(S=d.getBBox(),g=Be(g+i/100*S.width),x=Be(x+s/100*S.height)),S="matrix("+w+","+b+","+T+","+E+","+g+","+x+")",d.setAttribute("transform",S),y&&(d.style[Re]=S)},jO=function(e,r,n,i,s){var o=360,a=et(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?vi:1),u=l-i,h=i+u+"deg",c,f;return a&&(c=s.split("_")[1],c==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),c==="cw"&&u<0?u=(u+o*m0)%o-~~(u/o)*o:c==="ccw"&&u>0&&(u=(u-o*m0)%o-~~(u/o)*o)),e._pt=f=new Mt(e._pt,r,n,i,u,AO),f.e=h,f.u="deg",e._props.push(n),f},w0=function(e,r){for(var n in r)e[n]=r[n];return e},VO=function(e,r,n){var i=w0({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,u,h,c,f,d,p;i.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[Re]=r,a=Ga(n,1),La(n,Re),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Re],o[Re]=r,a=Ga(n,1),o[Re]=u);for(l in _n)u=i[l],h=a[l],u!==h&&s.indexOf(l)<0&&(d=dt(u),p=dt(h),c=d!==p?ni(n,l,u,p):parseFloat(u),f=parseFloat(h),e._pt=new Mt(e._pt,a,l,c,f-c,Tp),e._pt.u=p||0,e._props.push(l));w0(a,i)};It("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});ph[e>1?"border"+t:t]=function(a,l,u,h,c){var f,d;if(arguments.length<4)return f=o.map(function(p){return tn(a,p,u)}),d=f.join(" "),d.split(f[0]).length===5?f[0]:d;f=(h+"").split(" "),d={},o.forEach(function(p,m){return d[p]=f[m]=f[m]||f[(m-1)/2|0]}),a.init(l,d,c)}});var FE={name:"css",register:bp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,l=n.vars.startAt,u,h,c,f,d,p,m,v,_,y,g,x,w,b,T,E;rg||bp(),this.styles=this.styles||RE(e),E=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(h=r[m],!(Ft[m]&&_E(m,r,n,i,e,s)))){if(d=typeof h,p=ph[m],d==="function"&&(h=h.call(n,i,e,s),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=Fa(h)),p)p(this,e,m,h,n)&&(T=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",Kn.lastIndex=0,Kn.test(u)||(v=dt(u),_=dt(h)),_?v!==_&&(u=ni(e,m,u,_)+_):v&&(h+=v),this.add(a,"setProperty",u,h,i,s,0,0,m),o.push(m),E.push(m,0,a[m]);else if(d!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(n,i,e,s):l[m],et(u)&&~u.indexOf("random(")&&(u=Fa(u)),dt(u+"")||(u+=Gt.units[m]||dt(tn(e,m))||""),(u+"").charAt(1)==="="&&(u=tn(e,m))):u=tn(e,m),f=parseFloat(u),y=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),y&&(h=h.substr(2)),c=parseFloat(h),m in an&&(m==="autoAlpha"&&(f===1&&tn(e,"visibility")==="hidden"&&c&&(f=0),E.push("visibility",0,a.visibility),Fn(this,a,"visibility",f?"inherit":"hidden",c?"inherit":"hidden",!c)),m!=="scale"&&m!=="transform"&&(m=an[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in _n,g){if(this.styles.save(m),x||(w=e._gsap,w.renderTransform&&!r.parseTransform||Ga(e,r.parseTransform),b=r.smoothOrigin!==!1&&w.smooth,x=this._pt=new Mt(this._pt,a,Re,0,1,w.renderTransform,w,0,-1),x.dep=1),m==="scale")this._pt=new Mt(this._pt,w,"scaleY",w.scaleY,(y?Gs(w.scaleY,y+c):c)-w.scaleY||0,Tp),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){E.push(Sr,0,a[Sr]),h=GO(h),w.svg?Cp(e,h,0,b,0,this):(_=parseFloat(h.split(" ")[2])||0,_!==w.zOrigin&&Fn(this,w,"zOrigin",w.zOrigin,_),Fn(this,a,m,mh(u),mh(h)));continue}else if(m==="svgOrigin"){Cp(e,h,1,b,0,this);continue}else if(m in DE){jO(this,w,m,f,y?Gs(f,y+h):h);continue}else if(m==="smoothOrigin"){Fn(this,w,"smooth",w.smooth,h);continue}else if(m==="force3D"){w[m]=h;continue}else if(m==="transform"){VO(this,h,e);continue}}else m in a||(m=oo(m)||m);if(g||(c||c===0)&&(f||f===0)&&!CO.test(h)&&m in a)v=(u+"").substr((f+"").length),c||(c=0),_=dt(h)||(m in Gt.units?Gt.units[m]:v),v!==_&&(f=ni(e,m,u,_)),this._pt=new Mt(this._pt,g?w:a,m,f,(y?Gs(f,y+c):c)-f,!g&&(_==="px"||m==="zIndex")&&r.autoRound!==!1?RO:Tp),this._pt.u=_||0,v!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=PO);else if(m in a)UO.call(this,e,m,u,y?y+h:h);else if(m in e)this.add(e,m,u||e[m],y?y+h:h,i,s);else if(m!=="parseTransform"){Xm(m,h);continue}g||(m in a?E.push(m,0,a[m]):E.push(m,1,u||e[m])),o.push(m)}}T&&SE(this)},render:function(e,r){if(r.tween._time||!ng())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:tn,aliases:an,getSetter:function(e,r,n){var i=an[r];return i&&i.indexOf(",")<0&&(r=i),r in _n&&r!==Sr&&(e._gsap.x||tn(e,"x"))?n&&p0===n?r==="scale"?DO:kO:(p0=n||{})&&(r==="scale"?OO:NO):e.style&&!Vm(e.style[r])?IO:~r.indexOf("-")?MO:eg(e,r)},core:{_removeProperty:La,_getMatrix:sg}};Ht.utils.checkPrefix=oo;Ht.core.getStyleSaver=RE;(function(t,e,r,n){var i=It(t+","+e+","+r,function(s){_n[s]=1});It(e,function(s){Gt.units[s]="deg",DE[s]=1}),an[i[13]]=t+","+e,It(n,function(s){var o=s.split(":");an[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");It("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Gt.units[t]="px"});Ht.registerPlugin(FE);var tt=Ht.registerPlugin(FE)||Ht;tt.core.Tween;const _u="/CosmoGem/assets/key-eD33ksAA.png",WO=({score:t,keys:e})=>L.jsx(L.Fragment,{children:L.jsx("div",{className:"app-game-score",children:L.jsxs("div",{className:"app-game-wrapper",children:[L.jsxs("div",{className:"app-game-count",children:[L.jsx("p",{className:"app-game-count_text",children:"Score:"}),L.jsx("span",{className:"app-game-count_record",children:t})]}),L.jsxs("div",{className:"app-game-keys",children:[L.jsx("img",{className:"app-game-keys_icon",src:_u,alt:"key-icon"}),L.jsx("span",{className:"app-game-keys_count",children:e})]})]})})}),E0=t=>{if(!(!t||t.destroyed))try{t.parent&&t.parent.removeChild(t),t.destroy&&t.destroy({children:!0}),t.destroyed=!0}catch(e){console.error("Error destroying gem:",e)}},XO=(t,e,r,n,i)=>{const s=D.useRef([]),o=D.useRef(null),a=D.useRef(null),l=D.useRef(!1),[u,h]=D.useState(0),c=D.useRef(null),[f,d]=D.useState(0),p=()=>{s.current=Array(r.rows).fill().map(()=>Array(r.cols).fill(null))},m=(C,I,N)=>{var z;if(!((z=i.current)!=null&&z[C]))return console.error(`Texture for type "${C}" not found!`),null;const G=new kt;G.interactive=G.buttonMode=!0,G.data={type:C,x:I,y:N};const j=new Ki(i.current[C]);return j.anchor.set(.5),j.width=j.height=r.gemSize,G.addChild(j),G.data.originalScale={x:1,y:1},G.on("pointerdown",()=>y(G)),G.on("pointerover",()=>v(G)),G.on("pointerout",()=>_(G)),G},v=C=>{l.current||o.current||(C.data.hoverAnimation=tt.to(C.scale,{x:1.1,y:1.1,duration:.2,ease:"power1.out"}))},_=C=>{C.data.hoverAnimation&&C.data.hoverAnimation.kill(),C!==o.current&&tt.to(C.scale,{x:C.data.originalScale.x,y:C.data.originalScale.y,duration:.2,ease:"power1.out"})},y=C=>{if(l.current)return;if(C.data.hoverAnimation&&C.data.hoverAnimation.kill(),o.current===C){x(C);return}if(!o.current){g(C);return}const I=o.current;S(I,C)?w(I,C):(x(I),g(C))},g=C=>{o.current=C,C.data.originalScale={x:1.2,y:1.2},C.data.selectionAnimation=tt.to(C.scale,{x:1.2,y:1.2,duration:.2,ease:"power1.out"})},x=C=>{C||(C=o.current),C&&(C.data.selectionAnimation&&C.data.selectionAnimation.kill(),C.data.originalScale={x:1,y:1},tt.to(C.scale,{x:1,y:1,duration:.2,ease:"power1.out"}),o.current=null)},w=async(C,I)=>{tt.to(C.scale,{x:1,y:1,duration:.2}),tt.to(I.scale,{x:1,y:1,duration:.2});const N={gem1:{x:C.data.x,y:C.data.y},gem2:{x:I.data.x,y:I.data.y}};await A(C,I);const G=M();G.size>0?(await P(Array.from(G)),await K(),await b()):await k(C,I,N),o.current=null},b=async()=>{let C=M(),I=0;for(;C.size>0;)I++,ie(I),await P(Array.from(C)),await K(),C=M();I>0&&!V()&&await Z()},T=(C,I,N=50)=>{var z,X,se,de;let G,j=0;do{if(G=n[Math.floor(Math.random()*n.length)],j++,j>=N)break;if(!(C>=2&&((z=s.current[I][C-1])==null?void 0:z.data.type)===G&&((X=s.current[I][C-2])==null?void 0:X.data.type)===G)&&!(I>=2&&((se=s.current[I-1][C])==null?void 0:se.data.type)===G&&((de=s.current[I-2][C])==null?void 0:de.data.type)===G))break}while(!0);return G},E=()=>{const C=r.gemSize+r.gemPadding;for(let I=0;I<r.rows;I++)for(let N=0;N<r.cols;N++){s.current[I][N]&&s.current[I][N].parent&&s.current[I][N].parent.removeChild(s.current[I][N]);const G=T(N,I),j=m(G,N,I);j.position.set(N*C+r.gemSize/2,I*C+r.gemSize/2),e.current.addChild(j),s.current[I][N]=j}},S=(C,I)=>{if(!C||!I)return!1;const N=Math.abs(C.data.x-I.data.x),G=Math.abs(C.data.y-I.data.y);return N===1&&G===0||N===0&&G===1},A=(C,I)=>{if(!C||!I)return console.error("Один из гемов равен null!"),Promise.resolve();C.data.x,C.data.y,I.data.x,I.data.y,[s.current[C.data.y][C.data.x],s.current[I.data.y][I.data.x]]=[I,C],[C.data.x,I.data.x]=[I.data.x,C.data.x],[C.data.y,I.data.y]=[I.data.y,C.data.y];const N=r.gemSize+r.gemPadding,G=C.data.x*N+r.gemSize/2,j=C.data.y*N+r.gemSize/2,z=I.data.x*N+r.gemSize/2,X=I.data.y*N+r.gemSize/2;return new Promise(se=>{tt.to(C.position,{x:G,y:j,duration:.3}),tt.to(I.position,{x:z,y:X,duration:.3,onComplete:se})})},k=(C,I,N)=>{if(!C||!I)return console.error("Один из гемов равен null при отмене обмена!"),Promise.resolve();[s.current[C.data.y][C.data.x],s.current[I.data.y][I.data.x]]=[I,C],C.data.x=N.gem1.x,C.data.y=N.gem1.y,I.data.x=N.gem2.x,I.data.y=N.gem2.y;const G=r.gemSize+r.gemPadding,j=N.gem1.x*G+r.gemSize/2,z=N.gem1.y*G+r.gemSize/2,X=N.gem2.x*G+r.gemSize/2,se=N.gem2.y*G+r.gemSize/2;return new Promise(de=>{tt.to(C.position,{x:j,y:z,duration:.3}),tt.to(I.position,{x:X,y:se,duration:.3,onComplete:de})})},F=()=>{for(let C=0;C<r.rows;C++)for(let I=0;I<r.cols-2;I++){const N=s.current[C][I],G=s.current[C][I+1],j=s.current[C][I+2];if(!(!N||!G||!j)&&N.data.type===G.data.type&&N.data.type===j.data.type)return!0}for(let C=0;C<r.cols;C++)for(let I=0;I<r.rows-2;I++){const N=s.current[I][C],G=s.current[I+1][C],j=s.current[I+2][C];if(!(!N||!G||!j)&&N.data.type===G.data.type&&N.data.type===j.data.type)return!0}return!1},M=()=>{var I,N,G,j;const C=new Set;for(let z=0;z<r.rows;z++)for(let X=0;X<r.cols-2;X++){const se=s.current[z][X],de=s.current[z][X+1],Ke=s.current[z][X+2];if(!(!se||!de||!Ke)&&se.data.type===de.data.type&&se.data.type===Ke.data.type){let Ge=X;for(;Ge<r.cols&&((N=(I=s.current[z][Ge])==null?void 0:I.data)==null?void 0:N.type)===se.data.type;)C.add(s.current[z][Ge]),Ge++}}for(let z=0;z<r.cols;z++)for(let X=0;X<r.rows-2;X++){const se=s.current[X][z],de=s.current[X+1][z],Ke=s.current[X+2][z];if(!(!se||!de||!Ke)&&se.data.type===de.data.type&&se.data.type===Ke.data.type){let Ge=X;for(;Ge<r.rows&&((j=(G=s.current[Ge][z])==null?void 0:G.data)==null?void 0:j.type)===se.data.type;)C.add(s.current[Ge][z]),Ge++}}return C},P=C=>{const I=C.filter(z=>z&&z.parent&&!z.destroyed);if(I.length===0)return Promise.resolve();const N=10,G=u>0?u:1,j=I.length*N*G;return d(z=>z+j),I.forEach(z=>{const{x:X,y:se}=z.data;s.current[se][X]=null,z&&z.position&&H(z),E0(z)}),new Promise(z=>setTimeout(z,300))},H=C=>{if(!(!C||!C.position||!C.parent||!t.current))for(let I=0;I<8;I++){const N=new Xn().beginFill(r.resources.gems[C.data.type].light).drawCircle(0,0,2).endFill();N.position.set(C.position.x,C.position.y),C.parent.addChild(N);const G=Math.random()*Math.PI*2,j=1+Math.random()*2,z=X=>{if(!N||!N.parent){t.current.ticker.remove(z);return}N.x+=Math.cos(G)*j*X,N.y+=Math.sin(G)*j*X,N.alpha-=.03*X,N.alpha<=0&&(N.parent&&N.parent.removeChild(N),t.current.ticker.remove(z))};t.current.ticker&&t.current.ticker.add(z)}},K=()=>{const C=Array(r.cols).fill().map(()=>({emptyCount:0,gemsToMove:[]}));for(let j=0;j<r.cols;j++)for(let z=r.rows-1;z>=0;z--){const X=s.current[z][j];X?C[j].emptyCount>0&&C[j].gemsToMove.push({gem:X,newY:z+C[j].emptyCount}):C[j].emptyCount++}const I=[],N=r.gemSize+r.gemPadding;C.forEach((j,z)=>{j.gemsToMove.forEach(({gem:X,newY:se})=>{if(!X||!X.position){console.error("Гем не существует или не имеет позиции!");return}s.current[se][z]=X,s.current[X.data.y][z]=null,X.data.y=se;const de=se*N+r.gemSize/2;I.push(new Promise(Ke=>{tt.to(X.position,{y:de,duration:.3+(se-X.data.y)*.05,ease:"power1.out",onComplete:Ke})}))})});const G=[];return C.forEach((j,z)=>{if(j.emptyCount>0)for(let X=0;X<j.emptyCount;X++){const se=X;G.push(new Promise(de=>{setTimeout(()=>{B(z,se,!0),de()},X*100)}))}}),Promise.all([...I,...G])},B=D.useCallback((C,I,N)=>{if(C<0||C>=r.cols||I<0||I>=r.rows)return console.error(`Invalid coordinates: (${C}, ${I})`),null;if(!e.current||!s.current)return console.error("Board containers not initialized"),null;const G=T(C,I),j=m(G,C,I);return j?(s.current[I][C]&&E0(s.current[I][C]),O(j,C,I,N),s.current[I][C]=j,j):null},[r,T]),O=(C,I,N,G)=>{const j=r.gemSize+r.gemPadding,z=I*j+r.gemSize/2,X=N*j+r.gemSize/2;if(G){const se=-r.gemSize*2;C.position.set(z,se),tt.to(C.position,{x:z,y:X,duration:.5+N*.05,ease:"bounce.out"})}else C.position.set(z,X);e.current.addChild(C)},V=()=>{for(let C=0;C<r.rows;C++)for(let I=0;I<r.cols;I++)if(I<r.cols-1&&R(I,C,I+1,C)||C<r.rows-1&&R(I,C,I,C+1))return!0;return!1},R=(C,I,N,G)=>{[s.current[I][C],s.current[G][N]]=[s.current[G][N],s.current[I][C]];const j=F();return[s.current[I][C],s.current[G][N]]=[s.current[G][N],s.current[I][C]],j},W=()=>{let C;do{C=!1;const I=new Set;for(let N=0;N<r.rows;N++)for(let G=0;G<r.cols-2;G++){const j=s.current[N][G],z=s.current[N][G+1],X=s.current[N][G+2];j&&z&&X&&j.data.type===z.data.type&&j.data.type===X.data.type&&(I.add(j).add(z).add(X),C=!0)}for(let N=0;N<r.cols;N++)for(let G=0;G<r.rows-2;G++){const j=s.current[G][N],z=s.current[G+1][N],X=s.current[G+2][N];j&&z&&X&&j.data.type===z.data.type&&j.data.type===X.data.type&&(I.add(j).add(z).add(X),C=!0)}I.forEach(N=>{const{x:G,y:j}=N.data;s.current[j][G]=null,N.parent&&N.parent.removeChild(N),setTimeout(()=>{B(G,j,!1)},50)})}while(C)},Z=()=>{l.current=!0;const C=new Oa(`No valid moves!
Creating new board`,{fontFamily:"Arial",fontSize:36,fill:16777215,align:"center",stroke:16711680,strokeThickness:4});return C.anchor.set(.5).position.set(t.current.screen.width/2,t.current.screen.height/2),t.current.stage.addChild(C),new Promise(I=>{tt.to(C,{alpha:0,duration:2,delay:1,onComplete:()=>{C.parent&&C.parent.removeChild(C),E(),W(),l.current=!1,I()}})})},ae=()=>{if(!c.current){const C=new Oa("",{fontFamily:"Arial",fontSize:36,fill:16777215,fontWeight:"bold",dropShadow:!0,dropShadowColor:4877482,dropShadowBlur:10});C.anchor.set(.5),C.position.set(t.current.screen.width/2,50),C.alpha=0,t.current.stage.addChild(C),c.current=C}},ie=C=>{h(C),c.current&&(C>1?(c.current.text=`COMBO x${C}!`,c.current.alpha=1,tt.to(c.current,{alpha:0,duration:1,delay:.5})):c.current.alpha=0)};return{boardRef:s,selectedGemRef:o,lastSelectedGemRef:a,combo:u,score:f,initializeBoard:p,initializeGems:E,isAdjacent:S,swapGems:A,revertSwap:k,checkPotentialMatches:F,checkMatches:M,destroyGems:P,dropGems:K,setScore:d,createGemAt:B,hasValidMoves:V,removeInitialMatches:W,recreateBoard:Z,setupComboText:ae,updateCombo:ie}},YO=()=>{const t=D.useRef(null),e=D.useRef(null),r=D.useRef(null),n={rows:7,cols:7,gemSize:0,gemPadding:10,gemRadius:15,resources:{gems:{sparkle:{color:16763904,light:16771899,svg:"/CosmoGem//GemsIcon/amethyst-gem.png"},diamond:{color:58879,light:8716287,svg:"/CosmoGem//GemsIcon/crystal-gem.png"},crystal:{color:11225020,light:13538264,svg:"/CosmoGem//GemsIcon/emerald-gem.png"},star:{color:16748800,light:16761963,svg:"/CosmoGem//GemsIcon/ruby-gem.png"},lightning:{color:16771584,light:16777101,svg:"/CosmoGem//GemsIcon/ruby2-gem.png"},heart:{color:16717636,light:16736623,svg:"/CosmoGem//GemsIcon/topaz-gem.png"}}},keys:{spawnChance:.05,scoreValue:150,texture:"/CosmoGem//key.png"}},i=Object.keys(n.resources.gems),s=D.useRef({}),{score:o,initializeBoard:a,initializeGems:l,removeInitialMatches:u,setupComboText:h,updateCombo:c,setScore:f}=XO(t,e,n,i,s);D.useEffect(()=>((async()=>{try{if(!R1())throw new Error("Your device does not support WebGL. Please update your browser.");const S=new Gm({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,backgroundAlpha:0,transparent:!0,antialias:!0,resolution:Math.min(2,window.devicePixelRatio||1),autoDensity:!0,powerPreference:"high-performance"});document.getElementById("game-board").appendChild(S.view),t.current=S,await d(),a(),v(),w(),T(),window.addEventListener("resize",m)}catch(S){console.error("Game initialization error:",S),b(S.message)}})(),()=>{window.removeEventListener("resize",m),t.current&&t.current.destroy(!0)}),[]);const d=async()=>{const E={};for(const S of i)try{E[S]=await J.fromURL(n.resources.gems[S].svg)}catch(A){console.warn(`Failed to load texture for ${S}, using fallback:`,A),E[S]=p(S)}try{E.key=await J.fromURL(n.keys.texture)}catch(S){console.warn("Failed to load key texture, using fallback:",S),E.key=p("sparkle")}s.current=E},p=E=>{const S=new Xn;return S.beginFill(n.resources.gems[E].color),S.drawCircle(0,0,30),S.endFill(),t.current.renderer.generateTexture(S)},m=()=>{clearTimeout(r.current),r.current=setTimeout(v,100)},v=()=>{var B;const E=window.innerWidth,S=window.innerHeight,A=Math.min(E*.9,S*.8),k=Math.floor((A-(n.cols+1)*n.gemPadding)/n.cols),F=Math.floor((A-(n.rows+1)*n.gemPadding)/n.rows),M=Math.max(Math.min(k,F,40),20);n.gemSize=M,n.gemRadius=Math.floor(M*.2);const P=25,H=n.cols*(n.gemSize+n.gemPadding)-n.gemPadding,K=n.rows*(n.gemSize+n.gemPadding)-n.gemPadding;(B=t.current)!=null&&B.renderer&&(t.current.renderer.resize(H+P*2,K+P*2),e.current&&e.current.position.set(P,P),_())},_=()=>{if(!e.current){w();return}tt.to(e.current,{alpha:0,duration:.2,onComplete:()=>{y(),w(),tt.to(e.current,{alpha:1,duration:.3})}})},y=()=>{e.current&&(t.current.stage.removeChild(e.current),e.current.destroy({children:!0}),e.current=null)},g=()=>{const E=new kt;E.position.set((n.gemPadding+2.5)*2,(n.gemPadding+2.5)*2),t.current.stage.addChild(E),e.current=E},x=()=>{const E=n.gemSize+n.gemPadding,S=n.cols*E-n.gemPadding,A=n.rows*E-n.gemPadding,k=new Xn;k.beginFill(1712698).drawRoundedRect(-15,-15,S+30,A+30,20).endFill(),k.lineStyle(3,4877482,.7).drawRoundedRect(-10,-10,S+20,A+20,15);const F=new Xn;F.beginFill(4877482,.1).drawRoundedRect(-20,-20,S+40,A+40,25).endFill(),F.blur=5,e.current.addChild(F),e.current.addChild(k)},w=()=>{y(),g(),x(),l(),u(),h()},b=E=>{const S=document.getElementById("game-board")||document.body;S.innerHTML=`
            <div style="
                color: white;
                background: #1a1a2e;
                padding: 20px;
                border-radius: 10px;
                font-family: Arial;
                text-align: center;
                max-width: 500px;
                margin: 20px auto;
            ">
                <h3 style="color: #ff4757">Game Error</h3>
                <p>${E}</p>
                <button style="
                    background: #ff4757;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 5px;
                    margin-top: 15px;
                    cursor: pointer;
                " onclick="window.location.reload()">
                    Try Again
                </button>
                <p style="margin-top: 20px; font-size: 0.8em; opacity: 0.7;">
                    If the error persists, try another browser
                </p>
            </div>
        `},T=()=>{const E=document.getElementById("restart-btn");E&&E.addEventListener("click",()=>{f(0),c(0),w()})};return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"app-game-container",children:L.jsx("div",{id:"game-board",className:"app-game-board"})}),L.jsx(WO,{score:o,keys:0}),L.jsxs("div",{className:"app-game-btns",children:[L.jsx(Zn,{to:"/",className:"app-game-btn app-game-home",children:"На главную"}),L.jsx("button",{id:"restart-btn",className:"app-game-btn app-game-restart",children:"Restart"})]})]})},KO=()=>L.jsx(L.Fragment,{children:L.jsx("h4",{children:"Seetings Page"})}),qO="/CosmoGem/assets/logo-game-DfZjE2jY.jpeg",QO="data:image/svg+xml,%3c!--%20icon666.com%20-%20MILLIONS%20OF%20FREE%20VECTOR%20ICONS%20--%3e%3csvg%20id='Capa_1'%20enable-background='new%200%200%20512%20512'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='256'%20x2='256'%20y1='489'%20y2='187.993'%3e%3cstop%20offset='0'%20stop-color='%2300b59c'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%239cffac'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='SVGID_2_'%20gradientUnits='userSpaceOnUse'%20x1='256'%20x2='256'%20y1='368.003'%20y2='23'%3e%3cstop%20offset='0'%20stop-color='%23c3ffe8'%3e%3c/stop%3e%3cstop%20offset='.9973'%20stop-color='%23f0fff4'%3e%3c/stop%3e%3c/linearGradient%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='m111.742%20339.143c-5.566-2.344-12.041-1.055-16.348%203.252l-61%2060c-2.812%202.812-4.394%206.621-4.394%2010.605v61c0%208.291%206.709%2015%2015%2015h61c8.291%200%2015-6.709%2015-15v-121c0-6.064-3.662-11.543-9.258-13.857zm114.258-61.143h-60c-8.291%200-15%206.709-15%2015v181c0%208.291%206.709%2015%2015%2015h60c8.291%200%2015-6.709%2015-15v-181c0-8.291-6.709-15-15-15zm121%200h-61c-8.291%200-15%206.709-15%2015v181c0%208.291%206.709%2015%2015%2015h61c8.291%200%2015-6.709%2015-15v-181c0-8.291-6.709-15-15-15zm125.742-88.857c-5.566-2.344-12.041-1.025-16.348%203.252l-60%2060c-2.812%202.812-4.394%206.621-4.394%2010.605v211c0%208.291%206.709%2015%2015%2015h60c8.291%200%2015-6.709%2015-15v-271c0-6.064-3.662-11.543-9.258-13.857z'%20fill='url(%23SVGID_1_)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='m497%2023h-90c-6.064%200-11.543%203.647-13.857%209.258s-1.025%2012.056%203.252%2016.348l14.561%2014.575-95.069%2094.819h-204.789c-3.984%200-7.822%201.582-10.635%204.409l-96.098%2095.405c-2.783%202.813-4.365%206.622-4.365%2010.591v84.595c0%206.064%203.662%2011.543%209.258%2013.857%205.454%202.294%2011.988%201.108%2016.348-3.252l116.605-115.605h204.789c3.984%200%207.793-1.582%2010.605-4.395l116.895-116.894%2011.895%2011.895c4.336%204.307%2010.781%205.596%2016.348%203.252%205.595-2.315%209.257-7.794%209.257-13.858v-90c0-8.291-6.709-15-15-15z'%20fill='url(%23SVGID_2_)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ZO=()=>L.jsx(L.Fragment,{children:L.jsx("div",{className:"header",children:L.jsxs("div",{className:"header-wrapper",children:[L.jsxs("div",{className:"header-logo",children:[L.jsx("img",{src:qO,width:40,height:40,alt:"",className:"header-logo-icon"}),L.jsx("h4",{className:"header-logo-text",children:"Admin accaunt"})]}),L.jsx(Zn,{to:"/tops",className:"header-stage",children:L.jsx("img",{src:QO,alt:"stage",width:20,height:20})})]})})}),JO=()=>L.jsxs(L.Fragment,{children:[L.jsx("h2",{className:"app-tops-title",children:"Top's players"}),L.jsxs("p",{className:"app-tops-text",children:["Вдохновляйтесь лучшими!",L.jsx("br",{}),"Каждая игра - шанс подняться в этом рейтинге."]})]}),e3="/CosmoGem/assets/baggi-C7jSTrUb.jpeg",t3="/CosmoGem/assets/enduro-DlhM80GL.jpeg",r3="/CosmoGem/assets/quadrocikle-CL9dTlKh.jpeg",n3=()=>L.jsx(L.Fragment,{children:L.jsxs("div",{className:"app-tops-list",children:[L.jsxs("div",{className:"app-tops-item",children:[L.jsxs("div",{className:"app-tops-item_person",children:[L.jsx("img",{src:r3,alt:"acc-icon",className:"app-tops-item_person__icon"}),L.jsx("h4",{className:"app-tops-item_person__name",children:"Gleb"})]}),L.jsxs("div",{className:"app-tops-item_count",children:[L.jsx("img",{src:_u,alt:"icon-key",className:"app-tops-item_count__icon"}),L.jsx("span",{className:"app-tops-item_count__keys",children:"425"})]})]}),L.jsxs("div",{className:"app-tops-item",children:[L.jsxs("div",{className:"app-tops-item_person",children:[L.jsx("img",{src:t3,alt:"acc-icon",className:"app-tops-item_person__icon"}),L.jsx("h4",{className:"app-tops-item_person__name",children:"Kirill"})]}),L.jsxs("div",{className:"app-tops-item_count",children:[L.jsx("img",{src:_u,alt:"icon-key",className:"app-tops-item_count__icon"}),L.jsx("span",{className:"app-tops-item_count__keys",children:"422"})]})]}),L.jsxs("div",{className:"app-tops-item",children:[L.jsxs("div",{className:"app-tops-item_person",children:[L.jsx("img",{src:e3,alt:"acc-icon",className:"app-tops-item_person__icon"}),L.jsx("h4",{className:"app-tops-item_person__name",children:"Vlad"})]}),L.jsxs("div",{className:"app-tops-item_count",children:[L.jsx("img",{src:_u,alt:"icon-key",className:"app-tops-item_count__icon"}),L.jsx("span",{className:"app-tops-item_count__keys",children:"334"})]})]})]})}),i3=()=>L.jsx(L.Fragment,{children:L.jsxs("div",{className:"app-tops",children:[L.jsxs("div",{className:"app-tops-btns",children:[L.jsx(Zn,{to:"/",className:"app-tops-btn app-tops-home",children:"На главную"}),L.jsx(Zn,{to:"/game",id:"restart-btn",className:"app-tops-btn app-tops-restart",children:"В игру"})]}),L.jsx(JO,{}),L.jsx(n3,{})]})}),s3=()=>L.jsx(L.Fragment,{children:L.jsxs("div",{className:"app",children:[L.jsx("div",{className:"app-overlay"}),L.jsx(ZO,{}),L.jsxs(tC,{children:[L.jsx(Fo,{path:"/",element:L.jsx(VC,{})}),L.jsx(Fo,{path:"/game",element:L.jsx(YO,{})}),L.jsx(Fo,{path:"/settings",element:L.jsx(KO,{})}),L.jsx(Fo,{path:"/tops",element:L.jsx(i3,{})})]})]})});kf.createRoot(document.getElementById("root")).render(L.jsx(Bn.StrictMode,{children:L.jsx(SC,{basename:"/CosmoGem",children:L.jsx(s3,{})})}));
