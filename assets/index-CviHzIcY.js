(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var H0={exports:{}},Bh={},V0={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),iT=Symbol.for("react.portal"),sT=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),aT=Symbol.for("react.profiler"),lT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),hT=Symbol.for("react.forward_ref"),cT=Symbol.for("react.suspense"),fT=Symbol.for("react.memo"),dT=Symbol.for("react.lazy"),Ag=Symbol.iterator;function pT(t){return t===null||typeof t!="object"?null:(t=Ag&&t[Ag]||t["@@iterator"],typeof t=="function"?t:null)}var j0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,X0={};function Co(t,e,r){this.props=t,this.context=e,this.refs=X0,this.updater=r||j0}Co.prototype.isReactComponent={};Co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y0(){}Y0.prototype=Co.prototype;function Kp(t,e,r){this.props=t,this.context=e,this.refs=X0,this.updater=r||j0}var qp=Kp.prototype=new Y0;qp.constructor=Kp;W0(qp,Co.prototype);qp.isPureReactComponent=!0;var Pg=Array.isArray,K0=Object.prototype.hasOwnProperty,Qp={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function Q0(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)K0.call(e,n)&&!q0.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ul,type:t,key:s,ref:o,props:i,_owner:Qp.current}}function mT(t,e){return{$$typeof:ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ul}function gT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Rg=/\/+/g;function wc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gT(""+t.key):e.toString(36)}function du(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ul:case iT:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+wc(o,0):n,Pg(i)?(r="",t!=null&&(r=t.replace(Rg,"$&/")+"/"),du(i,e,r,"",function(u){return u})):i!=null&&(Zp(i)&&(i=mT(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Pg(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+wc(s,a);o+=du(s,e,r,l,i)}else if(l=pT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+wc(s,a++),o+=du(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bl(t,e,r){if(t==null)return t;var n=[],i=0;return du(t,n,"","",function(s){return e.call(r,s,i++)}),n}function yT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},pu={transition:null},_T={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:pu,ReactCurrentOwner:Qp};function Z0(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:bl,forEach:function(t,e,r){bl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bl(t,function(){e++}),e},toArray:function(t){return bl(t,function(e){return e})||[]},only:function(t){if(!Zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Co;ue.Fragment=sT;ue.Profiler=aT;ue.PureComponent=Kp;ue.StrictMode=oT;ue.Suspense=cT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T;ue.act=Z0;ue.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=W0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)K0.call(e,l)&&!q0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ul,type:t.type,key:i,ref:s,props:n,_owner:o}};ue.createContext=function(t){return t={$$typeof:uT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lT,_context:t},t.Consumer=t};ue.createElement=Q0;ue.createFactory=function(t){var e=Q0.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:hT,render:t}};ue.isValidElement=Zp;ue.lazy=function(t){return{$$typeof:dT,_payload:{_status:-1,_result:t},_init:yT}};ue.memo=function(t,e){return{$$typeof:fT,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};ue.unstable_act=Z0;ue.useCallback=function(t,e){return Rt.current.useCallback(t,e)};ue.useContext=function(t){return Rt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Rt.current.useEffect(t,e)};ue.useId=function(){return Rt.current.useId()};ue.useImperativeHandle=function(t,e,r){return Rt.current.useImperativeHandle(t,e,r)};ue.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Rt.current.useMemo(t,e)};ue.useReducer=function(t,e,r){return Rt.current.useReducer(t,e,r)};ue.useRef=function(t){return Rt.current.useRef(t)};ue.useState=function(t){return Rt.current.useState(t)};ue.useSyncExternalStore=function(t,e,r){return Rt.current.useSyncExternalStore(t,e,r)};ue.useTransition=function(){return Rt.current.useTransition()};ue.version="18.3.1";V0.exports=ue;var D=V0.exports;const ti=Yp(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT=D,xT=Symbol.for("react.element"),wT=Symbol.for("react.fragment"),ET=Object.prototype.hasOwnProperty,TT=vT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ST={key:!0,ref:!0,__self:!0,__source:!0};function J0(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ET.call(e,n)&&!ST.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xT,type:t,key:s,ref:o,props:i,_owner:TT.current}}Bh.Fragment=wT;Bh.jsx=J0;Bh.jsxs=J0;H0.exports=Bh;var ee=H0.exports,Jf={},ev={exports:{}},er={},tv={exports:{}},rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var A=O.length;O.push(z);e:for(;0<A;){var H=A-1>>>1,K=O[H];if(0<i(K,z))O[H]=z,O[A]=K,A=H;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var z=O[0],A=O.pop();if(A!==z){O[0]=A;e:for(var H=0,K=O.length,oe=K>>>1;H<oe;){var ne=2*(H+1)-1,pe=O[ne],me=ne+1,xe=O[me];if(0>i(pe,A))me<K&&0>i(xe,pe)?(O[H]=xe,O[me]=A,H=me):(O[H]=pe,O[ne]=A,H=ne);else if(me<K&&0>i(xe,A))O[H]=xe,O[me]=A,H=me;else break e}}return z}function i(O,z){var A=O.sortIndex-z.sortIndex;return A!==0?A:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,c=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=O)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function x(O){if(m=!1,g(O),!p)if(r(l)!==null)p=!0,X(w);else{var z=r(u);z!==null&&F(x,z.startTime-O)}}function w(O,z){p=!1,m&&(m=!1,_(T),T=-1),d=!0;var A=c;try{for(g(z),f=r(l);f!==null&&(!(f.expirationTime>z)||O&&!k());){var H=f.callback;if(typeof H=="function"){f.callback=null,c=f.priorityLevel;var K=H(f.expirationTime<=z);z=t.unstable_now(),typeof K=="function"?f.callback=K:f===r(l)&&n(l),g(z)}else n(l);f=r(l)}if(f!==null)var oe=!0;else{var ne=r(u);ne!==null&&F(x,ne.startTime-z),oe=!1}return oe}finally{f=null,c=A,d=!1}}var S=!1,E=null,T=-1,b=5,R=-1;function k(){return!(t.unstable_now()-R<b)}function N(){if(E!==null){var O=t.unstable_now();R=O;var z=!0;try{z=E(!0,O)}finally{z?I():(S=!1,E=null)}}else S=!1}var I;if(typeof y=="function")I=function(){y(N)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=N,I=function(){$.postMessage(null)}}else I=function(){v(N,0)};function X(O){E=O,S||(S=!0,I())}function F(O,z){T=v(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,X(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(c){case 1:case 2:case 3:var z=3;break;default:z=c}var A=c;c=z;try{return O()}finally{c=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var A=c;c=O;try{return z()}finally{c=A}},t.unstable_scheduleCallback=function(O,z,A){var H=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?H+A:H):A=H,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=A+K,O={id:h++,callback:z,priorityLevel:O,startTime:A,expirationTime:K,sortIndex:-1},A>H?(O.sortIndex=A,e(u,O),r(l)===null&&O===r(u)&&(m?(_(T),T=-1):m=!0,F(x,A-H))):(O.sortIndex=K,e(l,O),p||d||(p=!0,X(w))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var z=c;return function(){var A=c;c=z;try{return O.apply(this,arguments)}finally{c=A}}}})(rv);tv.exports=rv;var bT=tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT=D,Qt=bT;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nv=new Set,Ia={};function as(t,e){ao(t,e),ao(t+"Capture",e)}function ao(t,e){for(Ia[t]=e,t=0;t<e.length;t++)nv.add(e[t])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ed=Object.prototype.hasOwnProperty,AT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Mg={};function PT(t){return ed.call(Mg,t)?!0:ed.call(Ig,t)?!1:AT.test(t)?Mg[t]=!0:(Ig[t]=!0,!1)}function RT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IT(t,e,r,n){if(e===null||typeof e>"u"||RT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jp,em);mt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jp,em);mt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jp,em);mt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,r,n){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IT(e,r,i,n)&&(r=null),n||i===null?PT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fn=CT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),td=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),sv=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),rd=Symbol.for("react.suspense"),nd=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),ov=Symbol.for("react.offscreen"),kg=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=kg&&t[kg]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Ec;function ea(t){if(Ec===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ec=e&&e[1]||""}return`
`+Ec+t}var Tc=!1;function Sc(t,e){if(!t||Tc)return"";Tc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ea(t):""}function MT(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=Sc(t.type,!1),t;case 11:return t=Sc(t.type.render,!1),t;case 1:return t=Sc(t.type,!0),t;default:return""}}function id(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Is:return"Fragment";case Rs:return"Portal";case td:return"Profiler";case rm:return"StrictMode";case rd:return"Suspense";case nd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sv:return(t.displayName||"Context")+".Consumer";case iv:return(t._context.displayName||"Context")+".Provider";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:id(t.type)||"Memo";case $n:e=t._payload,t=t._init;try{return id(t(e))}catch{}}return null}function kT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return id(e);case 8:return e===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function av(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DT(t){var e=av(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Al(t){t._valueTracker||(t._valueTracker=DT(t))}function lv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=av(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sd(t,e){var r=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Dg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=di(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uv(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function od(t,e){uv(t,e);var r=di(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ad(t,e.type,r):e.hasOwnProperty("defaultValue")&&ad(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Og(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ad(t,e,r){(e!=="number"||Gu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ta=Array.isArray;function js(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+di(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ld(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(L(92));if(ta(r)){if(1<r.length)throw Error(L(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:di(r)}}function hv(t,e){var r=di(e.value),n=di(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ng(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ud(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pl,fv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ma(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OT=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){OT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function dv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function pv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var FT=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hd(t,e){if(e){if(FT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function cd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dd=null,Ws=null,Xs=null;function Bg(t){if(t=fl(t)){if(typeof dd!="function")throw Error(L(280));var e=t.stateNode;e&&(e=$h(e),dd(t.stateNode,t.type,e))}}function mv(t){Ws?Xs?Xs.push(t):Xs=[t]:Ws=t}function gv(){if(Ws){var t=Ws,e=Xs;if(Xs=Ws=null,Bg(t),e)for(t=0;t<e.length;t++)Bg(e[t])}}function yv(t,e){return t(e)}function _v(){}var bc=!1;function vv(t,e,r){if(bc)return t(e,r);bc=!0;try{return yv(t,e,r)}finally{bc=!1,(Ws!==null||Xs!==null)&&(_v(),gv())}}function ka(t,e){var r=t.stateNode;if(r===null)return null;var n=$h(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(L(231,e,typeof r));return r}var pd=!1;if(An)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){pd=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{pd=!1}function NT(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var da=!1,zu=null,$u=!1,md=null,BT={onError:function(t){da=!0,zu=t}};function LT(t,e,r,n,i,s,o,a,l){da=!1,zu=null,NT.apply(BT,arguments)}function UT(t,e,r,n,i,s,o,a,l){if(LT.apply(this,arguments),da){if(da){var u=zu;da=!1,zu=null}else throw Error(L(198));$u||($u=!0,md=u)}}function ls(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lg(t){if(ls(t)!==t)throw Error(L(188))}function GT(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(L(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Lg(i),t;if(s===n)return Lg(i),e;s=s.sibling}throw Error(L(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?t:e}function wv(t){return t=GT(t),t!==null?Ev(t):null}function Ev(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ev(t);if(e!==null)return e;t=t.sibling}return null}var Tv=Qt.unstable_scheduleCallback,Ug=Qt.unstable_cancelCallback,zT=Qt.unstable_shouldYield,$T=Qt.unstable_requestPaint,je=Qt.unstable_now,HT=Qt.unstable_getCurrentPriorityLevel,om=Qt.unstable_ImmediatePriority,Sv=Qt.unstable_UserBlockingPriority,Hu=Qt.unstable_NormalPriority,VT=Qt.unstable_LowPriority,bv=Qt.unstable_IdlePriority,Lh=null,Zr=null;function jT(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:YT,WT=Math.log,XT=Math.LN2;function YT(t){return t>>>=0,t===0?32:31-(WT(t)/XT|0)|0}var Rl=64,Il=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=ra(a):(s&=o,s!==0&&(n=ra(s)))}else o=r&~i,o!==0?n=ra(o):s!==0&&(n=ra(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-kr(e),i=1<<r,n|=t[r],e&=~i;return n}function KT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kr(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=KT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cv(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Cc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function hl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=r}function QT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-kr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function am(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-kr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ge=0;function Av(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pv,lm,Rv,Iv,Mv,yd=!1,Ml=[],ri=null,ni=null,ii=null,Da=new Map,Oa=new Map,Vn=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(e.pointerId)}}function Go(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fl(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JT(t,e,r,n,i){switch(e){case"focusin":return ri=Go(ri,t,e,r,n,i),!0;case"dragenter":return ni=Go(ni,t,e,r,n,i),!0;case"mouseover":return ii=Go(ii,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Da.set(s,Go(Da.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Oa.set(s,Go(Oa.get(s)||null,t,e,r,n,i)),!0}return!1}function kv(t){var e=Ui(t.target);if(e!==null){var r=ls(e);if(r!==null){if(e=r.tag,e===13){if(e=xv(r),e!==null){t.blockedOn=e,Mv(t.priority,function(){Rv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_d(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);fd=n,r.target.dispatchEvent(n),fd=null}else return e=fl(r),e!==null&&lm(e),t.blockedOn=r,!1;e.shift()}return!0}function zg(t,e,r){mu(t)&&r.delete(e)}function eS(){yd=!1,ri!==null&&mu(ri)&&(ri=null),ni!==null&&mu(ni)&&(ni=null),ii!==null&&mu(ii)&&(ii=null),Da.forEach(zg),Oa.forEach(zg)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,yd||(yd=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,eS)))}function Fa(t){function e(i){return zo(i,t)}if(0<Ml.length){zo(Ml[0],t);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ri!==null&&zo(ri,t),ni!==null&&zo(ni,t),ii!==null&&zo(ii,t),Da.forEach(e),Oa.forEach(e),r=0;r<Vn.length;r++)n=Vn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)kv(r),r.blockedOn===null&&Vn.shift()}var Ys=Fn.ReactCurrentBatchConfig,ju=!0;function tS(t,e,r,n){var i=ge,s=Ys.transition;Ys.transition=null;try{ge=1,um(t,e,r,n)}finally{ge=i,Ys.transition=s}}function rS(t,e,r,n){var i=ge,s=Ys.transition;Ys.transition=null;try{ge=4,um(t,e,r,n)}finally{ge=i,Ys.transition=s}}function um(t,e,r,n){if(ju){var i=_d(t,e,r,n);if(i===null)Nc(t,e,n,Wu,r),Gg(t,n);else if(JT(i,t,e,r,n))n.stopPropagation();else if(Gg(t,n),e&4&&-1<ZT.indexOf(t)){for(;i!==null;){var s=fl(i);if(s!==null&&Pv(s),s=_d(t,e,r,n),s===null&&Nc(t,e,n,Wu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Nc(t,e,n,null,r)}}var Wu=null;function _d(t,e,r,n){if(Wu=null,t=sm(n),t=Ui(t),t!==null)if(e=ls(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wu=t,null}function Dv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HT()){case om:return 1;case Sv:return 4;case Hu:case VT:return 16;case bv:return 536870912;default:return 16}default:return 16}}var Xn=null,hm=null,gu=null;function Ov(){if(gu)return gu;var t,e=hm,r=e.length,n,i="value"in Xn?Xn.value:Xn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return gu=i.slice(t,1<n?1-n:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kl(){return!0}function $g(){return!1}function tr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kl:$g,this.isPropagationStopped=$g,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cm=tr(Ao),cl=Be({},Ao,{view:0,detail:0}),nS=tr(cl),Ac,Pc,$o,Uh=Be({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(Ac=t.screenX-$o.screenX,Pc=t.screenY-$o.screenY):Pc=Ac=0,$o=t),Ac)},movementY:function(t){return"movementY"in t?t.movementY:Pc}}),Hg=tr(Uh),iS=Be({},Uh,{dataTransfer:0}),sS=tr(iS),oS=Be({},cl,{relatedTarget:0}),Rc=tr(oS),aS=Be({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),lS=tr(aS),uS=Be({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hS=tr(uS),cS=Be({},Ao,{data:0}),Vg=tr(cS),fS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pS[t])?!!e[t]:!1}function fm(){return mS}var gS=Be({},cl,{key:function(t){if(t.key){var e=fS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yS=tr(gS),_S=Be({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jg=tr(_S),vS=Be({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),xS=tr(vS),wS=Be({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=tr(wS),TS=Be({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SS=tr(TS),bS=[9,13,27,32],dm=An&&"CompositionEvent"in window,pa=null;An&&"documentMode"in document&&(pa=document.documentMode);var CS=An&&"TextEvent"in window&&!pa,Fv=An&&(!dm||pa&&8<pa&&11>=pa),Wg=" ",Xg=!1;function Nv(t,e){switch(t){case"keyup":return bS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function AS(t,e){switch(t){case"compositionend":return Bv(e);case"keypress":return e.which!==32?null:(Xg=!0,Wg);case"textInput":return t=e.data,t===Wg&&Xg?null:t;default:return null}}function PS(t,e){if(Ms)return t==="compositionend"||!dm&&Nv(t,e)?(t=Ov(),gu=hm=Xn=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fv&&e.locale!=="ko"?null:e.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RS[t.type]:e==="textarea"}function Lv(t,e,r,n){mv(n),e=Xu(e,"onChange"),0<e.length&&(r=new cm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ma=null,Na=null;function IS(t){Kv(t,0)}function Gh(t){var e=Os(t);if(lv(e))return t}function MS(t,e){if(t==="change")return e}var Uv=!1;if(An){var Ic;if(An){var Mc="oninput"in document;if(!Mc){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Mc=typeof Kg.oninput=="function"}Ic=Mc}else Ic=!1;Uv=Ic&&(!document.documentMode||9<document.documentMode)}function qg(){ma&&(ma.detachEvent("onpropertychange",Gv),Na=ma=null)}function Gv(t){if(t.propertyName==="value"&&Gh(Na)){var e=[];Lv(e,Na,t,sm(t)),vv(IS,e)}}function kS(t,e,r){t==="focusin"?(qg(),ma=e,Na=r,ma.attachEvent("onpropertychange",Gv)):t==="focusout"&&qg()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(Na)}function OS(t,e){if(t==="click")return Gh(e)}function FS(t,e){if(t==="input"||t==="change")return Gh(e)}function NS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:NS;function Ba(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ed.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,e){var r=Qg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qg(r)}}function zv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $v(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gu(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BS(t){var e=$v(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zv(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Zg(r,s);var o=Zg(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LS=An&&"documentMode"in document&&11>=document.documentMode,ks=null,vd=null,ga=null,xd=!1;function Jg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xd||ks==null||ks!==Gu(n)||(n=ks,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ga&&Ba(ga,n)||(ga=n,n=Xu(vd,"onSelect"),0<n.length&&(e=new cm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ks)))}function Dl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ds={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},kc={},Hv={};An&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function zh(t){if(kc[t])return kc[t];if(!Ds[t])return t;var e=Ds[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Hv)return kc[t]=e[r];return t}var Vv=zh("animationend"),jv=zh("animationiteration"),Wv=zh("animationstart"),Xv=zh("transitionend"),Yv=new Map,ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,e){Yv.set(t,e),as(e,[t])}for(var Dc=0;Dc<ey.length;Dc++){var Oc=ey[Dc],US=Oc.toLowerCase(),GS=Oc[0].toUpperCase()+Oc.slice(1);xi(US,"on"+GS)}xi(Vv,"onAnimationEnd");xi(jv,"onAnimationIteration");xi(Wv,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(Xv,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function ty(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,UT(n,e,void 0,t),t.currentTarget=null}function Kv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ty(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ty(i,a,u),s=l}}}if($u)throw t=md,$u=!1,md=null,t}function be(t,e){var r=e[bd];r===void 0&&(r=e[bd]=new Set);var n=t+"__bubble";r.has(n)||(qv(e,t,2,!1),r.add(n))}function Fc(t,e,r){var n=0;e&&(n|=4),qv(r,t,n,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[Ol]){t[Ol]=!0,nv.forEach(function(r){r!=="selectionchange"&&(zS.has(r)||Fc(r,!1,t),Fc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,Fc("selectionchange",!1,e))}}function qv(t,e,r,n){switch(Dv(e)){case 1:var i=tS;break;case 4:i=rS;break;default:i=um}r=i.bind(null,e,r,t),i=void 0,!pd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Nc(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ui(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}vv(function(){var u=s,h=sm(r),f=[];e:{var c=Yv.get(t);if(c!==void 0){var d=cm,p=t;switch(t){case"keypress":if(yu(r)===0)break e;case"keydown":case"keyup":d=yS;break;case"focusin":p="focus",d=Rc;break;case"focusout":p="blur",d=Rc;break;case"beforeblur":case"afterblur":d=Rc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=xS;break;case Vv:case jv:case Wv:d=lS;break;case Xv:d=ES;break;case"scroll":d=nS;break;case"wheel":d=SS;break;case"copy":case"cut":case"paste":d=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=jg}var m=(e&4)!==0,v=!m&&t==="scroll",_=m?c!==null?c+"Capture":null:c;m=[];for(var y=u,g;y!==null;){g=y;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,_!==null&&(x=ka(y,_),x!=null&&m.push(Ua(y,x,g)))),v)break;y=y.return}0<m.length&&(c=new d(c,p,null,r,h),f.push({event:c,listeners:m}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&r!==fd&&(p=r.relatedTarget||r.fromElement)&&(Ui(p)||p[Pn]))break e;if((d||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?Ui(p):null,p!==null&&(v=ls(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(m=Hg,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=jg,x="onPointerLeave",_="onPointerEnter",y="pointer"),v=d==null?c:Os(d),g=p==null?c:Os(p),c=new m(x,y+"leave",d,r,h),c.target=v,c.relatedTarget=g,x=null,Ui(h)===u&&(m=new m(_,y+"enter",p,r,h),m.target=g,m.relatedTarget=v,x=m),v=x,d&&p)t:{for(m=d,_=p,y=0,g=m;g;g=gs(g))y++;for(g=0,x=_;x;x=gs(x))g++;for(;0<y-g;)m=gs(m),y--;for(;0<g-y;)_=gs(_),g--;for(;y--;){if(m===_||_!==null&&m===_.alternate)break t;m=gs(m),_=gs(_)}m=null}else m=null;d!==null&&ry(f,c,d,m,!1),p!==null&&v!==null&&ry(f,v,p,m,!0)}}e:{if(c=u?Os(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var w=MS;else if(Yg(c))if(Uv)w=FS;else{w=DS;var S=kS}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(w=OS);if(w&&(w=w(t,u))){Lv(f,w,r,h);break e}S&&S(t,c,u),t==="focusout"&&(S=c._wrapperState)&&S.controlled&&c.type==="number"&&ad(c,"number",c.value)}switch(S=u?Os(u):window,t){case"focusin":(Yg(S)||S.contentEditable==="true")&&(ks=S,vd=u,ga=null);break;case"focusout":ga=vd=ks=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Jg(f,r,h);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Jg(f,r,h)}var E;if(dm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ms?Nv(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Fv&&r.locale!=="ko"&&(Ms||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ms&&(E=Ov()):(Xn=h,hm="value"in Xn?Xn.value:Xn.textContent,Ms=!0)),S=Xu(u,T),0<S.length&&(T=new Vg(T,t,null,r,h),f.push({event:T,listeners:S}),E?T.data=E:(E=Bv(r),E!==null&&(T.data=E)))),(E=CS?AS(t,r):PS(t,r))&&(u=Xu(u,"onBeforeInput"),0<u.length&&(h=new Vg("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=E))}Kv(f,e)})}function Ua(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Xu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ka(t,r),s!=null&&n.unshift(Ua(t,s,i)),s=ka(t,e),s!=null&&n.push(Ua(t,s,i))),t=t.return}return n}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ry(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ka(r,s),l!=null&&o.unshift(Ua(r,l,a))):i||(l=ka(r,s),l!=null&&o.push(Ua(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var $S=/\r\n?/g,HS=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace($S,`
`).replace(HS,"")}function Fl(t,e,r){if(e=ny(e),ny(t)!==e&&r)throw Error(L(425))}function Yu(){}var wd=null,Ed=null;function Td(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(t){return iy.resolve(null).then(t).catch(WS)}:Sd;function WS(t){setTimeout(function(){throw t})}function Bc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fa(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Po,Ga="__reactProps$"+Po,Pn="__reactContainer$"+Po,bd="__reactEvents$"+Po,XS="__reactListeners$"+Po,YS="__reactHandles$"+Po;function Ui(t){var e=t[Kr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pn]||r[Kr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sy(t);t!==null;){if(r=t[Kr])return r;t=sy(t)}return e}t=r,r=t.parentNode}return null}function fl(t){return t=t[Kr]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function $h(t){return t[Ga]||null}var Cd=[],Fs=-1;function wi(t){return{current:t}}function Ce(t){0>Fs||(t.current=Cd[Fs],Cd[Fs]=null,Fs--)}function Ee(t,e){Fs++,Cd[Fs]=t.current,t.current=e}var pi={},bt=wi(pi),Nt=wi(!1),Qi=pi;function lo(t,e){var r=t.type.contextTypes;if(!r)return pi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function Ku(){Ce(Nt),Ce(bt)}function oy(t,e,r){if(bt.current!==pi)throw Error(L(168));Ee(bt,e),Ee(Nt,r)}function Qv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(L(108,kT(t)||"Unknown",i));return Be({},r,n)}function qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,Qi=bt.current,Ee(bt,t),Ee(Nt,Nt.current),!0}function ay(t,e,r){var n=t.stateNode;if(!n)throw Error(L(169));r?(t=Qv(t,e,Qi),n.__reactInternalMemoizedMergedChildContext=t,Ce(Nt),Ce(bt),Ee(bt,t)):Ce(Nt),Ee(Nt,r)}var gn=null,Hh=!1,Lc=!1;function Zv(t){gn===null?gn=[t]:gn.push(t)}function KS(t){Hh=!0,Zv(t)}function Ei(){if(!Lc&&gn!==null){Lc=!0;var t=0,e=ge;try{var r=gn;for(ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gn=null,Hh=!1}catch(i){throw gn!==null&&(gn=gn.slice(t+1)),Tv(om,Ei),i}finally{ge=e,Lc=!1}}return null}var Ns=[],Bs=0,Qu=null,Zu=0,or=[],ar=0,Zi=null,vn=1,xn="";function Mi(t,e){Ns[Bs++]=Zu,Ns[Bs++]=Qu,Qu=t,Zu=e}function Jv(t,e,r){or[ar++]=vn,or[ar++]=xn,or[ar++]=Zi,Zi=t;var n=vn;t=xn;var i=32-kr(n)-1;n&=~(1<<i),r+=1;var s=32-kr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,vn=1<<32-kr(e)+i|r<<i|n,xn=s+t}else vn=1<<s|r<<i|n,xn=t}function mm(t){t.return!==null&&(Mi(t,1),Jv(t,1,0))}function gm(t){for(;t===Qu;)Qu=Ns[--Bs],Ns[Bs]=null,Zu=Ns[--Bs],Ns[Bs]=null;for(;t===Zi;)Zi=or[--ar],or[ar]=null,xn=or[--ar],or[ar]=null,vn=or[--ar],or[ar]=null}var Kt=null,Yt=null,Ae=!1,Pr=null;function ex(t,e){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ly(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Yt=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zi!==null?{id:vn,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Kt=t,Yt=null,!0):!1;default:return!1}}function Ad(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pd(t){if(Ae){var e=Yt;if(e){var r=e;if(!ly(t,e)){if(Ad(t))throw Error(L(418));e=si(r.nextSibling);var n=Kt;e&&ly(t,e)?ex(n,r):(t.flags=t.flags&-4097|2,Ae=!1,Kt=t)}}else{if(Ad(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ae=!1,Kt=t}}}function uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Nl(t){if(t!==Kt)return!1;if(!Ae)return uy(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Td(t.type,t.memoizedProps)),e&&(e=Yt)){if(Ad(t))throw tx(),Error(L(418));for(;e;)ex(t,e),e=si(e.nextSibling)}if(uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Yt=si(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Kt?si(t.stateNode.nextSibling):null;return!0}function tx(){for(var t=Yt;t;)t=si(t.nextSibling)}function uo(){Yt=Kt=null,Ae=!1}function ym(t){Pr===null?Pr=[t]:Pr.push(t)}var qS=Fn.ReactCurrentBatchConfig;function Ho(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hy(t){var e=t._init;return e(t._payload)}function rx(t){function e(_,y){if(t){var g=_.deletions;g===null?(_.deletions=[y],_.flags|=16):g.push(y)}}function r(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function n(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=ui(_,y),_.index=0,_.sibling=null,_}function s(_,y,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<y?(_.flags|=2,y):g):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,g,x){return y===null||y.tag!==6?(y=jc(g,_.mode,x),y.return=_,y):(y=i(y,g),y.return=_,y)}function l(_,y,g,x){var w=g.type;return w===Is?h(_,y,g.props.children,x,g.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$n&&hy(w)===y.type)?(x=i(y,g.props),x.ref=Ho(_,y,g),x.return=_,x):(x=Su(g.type,g.key,g.props,null,_.mode,x),x.ref=Ho(_,y,g),x.return=_,x)}function u(_,y,g,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Wc(g,_.mode,x),y.return=_,y):(y=i(y,g.children||[]),y.return=_,y)}function h(_,y,g,x,w){return y===null||y.tag!==7?(y=ji(g,_.mode,x,w),y.return=_,y):(y=i(y,g),y.return=_,y)}function f(_,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jc(""+y,_.mode,g),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cl:return g=Su(y.type,y.key,y.props,null,_.mode,g),g.ref=Ho(_,null,y),g.return=_,g;case Rs:return y=Wc(y,_.mode,g),y.return=_,y;case $n:var x=y._init;return f(_,x(y._payload),g)}if(ta(y)||Lo(y))return y=ji(y,_.mode,g,null),y.return=_,y;Bl(_,y)}return null}function c(_,y,g,x){var w=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(_,y,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return g.key===w?l(_,y,g,x):null;case Rs:return g.key===w?u(_,y,g,x):null;case $n:return w=g._init,c(_,y,w(g._payload),x)}if(ta(g)||Lo(g))return w!==null?null:h(_,y,g,x,null);Bl(_,g)}return null}function d(_,y,g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(g)||null,a(y,_,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cl:return _=_.get(x.key===null?g:x.key)||null,l(y,_,x,w);case Rs:return _=_.get(x.key===null?g:x.key)||null,u(y,_,x,w);case $n:var S=x._init;return d(_,y,g,S(x._payload),w)}if(ta(x)||Lo(x))return _=_.get(g)||null,h(y,_,x,w,null);Bl(y,x)}return null}function p(_,y,g,x){for(var w=null,S=null,E=y,T=y=0,b=null;E!==null&&T<g.length;T++){E.index>T?(b=E,E=null):b=E.sibling;var R=c(_,E,g[T],x);if(R===null){E===null&&(E=b);break}t&&E&&R.alternate===null&&e(_,E),y=s(R,y,T),S===null?w=R:S.sibling=R,S=R,E=b}if(T===g.length)return r(_,E),Ae&&Mi(_,T),w;if(E===null){for(;T<g.length;T++)E=f(_,g[T],x),E!==null&&(y=s(E,y,T),S===null?w=E:S.sibling=E,S=E);return Ae&&Mi(_,T),w}for(E=n(_,E);T<g.length;T++)b=d(E,_,T,g[T],x),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?T:b.key),y=s(b,y,T),S===null?w=b:S.sibling=b,S=b);return t&&E.forEach(function(k){return e(_,k)}),Ae&&Mi(_,T),w}function m(_,y,g,x){var w=Lo(g);if(typeof w!="function")throw Error(L(150));if(g=w.call(g),g==null)throw Error(L(151));for(var S=w=null,E=y,T=y=0,b=null,R=g.next();E!==null&&!R.done;T++,R=g.next()){E.index>T?(b=E,E=null):b=E.sibling;var k=c(_,E,R.value,x);if(k===null){E===null&&(E=b);break}t&&E&&k.alternate===null&&e(_,E),y=s(k,y,T),S===null?w=k:S.sibling=k,S=k,E=b}if(R.done)return r(_,E),Ae&&Mi(_,T),w;if(E===null){for(;!R.done;T++,R=g.next())R=f(_,R.value,x),R!==null&&(y=s(R,y,T),S===null?w=R:S.sibling=R,S=R);return Ae&&Mi(_,T),w}for(E=n(_,E);!R.done;T++,R=g.next())R=d(E,_,T,R.value,x),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?T:R.key),y=s(R,y,T),S===null?w=R:S.sibling=R,S=R);return t&&E.forEach(function(N){return e(_,N)}),Ae&&Mi(_,T),w}function v(_,y,g,x){if(typeof g=="object"&&g!==null&&g.type===Is&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:e:{for(var w=g.key,S=y;S!==null;){if(S.key===w){if(w=g.type,w===Is){if(S.tag===7){r(_,S.sibling),y=i(S,g.props.children),y.return=_,_=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$n&&hy(w)===S.type){r(_,S.sibling),y=i(S,g.props),y.ref=Ho(_,S,g),y.return=_,_=y;break e}r(_,S);break}else e(_,S);S=S.sibling}g.type===Is?(y=ji(g.props.children,_.mode,x,g.key),y.return=_,_=y):(x=Su(g.type,g.key,g.props,null,_.mode,x),x.ref=Ho(_,y,g),x.return=_,_=x)}return o(_);case Rs:e:{for(S=g.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(_,y.sibling),y=i(y,g.children||[]),y.return=_,_=y;break e}else{r(_,y);break}else e(_,y);y=y.sibling}y=Wc(g,_.mode,x),y.return=_,_=y}return o(_);case $n:return S=g._init,v(_,y,S(g._payload),x)}if(ta(g))return p(_,y,g,x);if(Lo(g))return m(_,y,g,x);Bl(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(_,y.sibling),y=i(y,g),y.return=_,_=y):(r(_,y),y=jc(g,_.mode,x),y.return=_,_=y),o(_)):r(_,y)}return v}var ho=rx(!0),nx=rx(!1),Ju=wi(null),eh=null,Ls=null,_m=null;function vm(){_m=Ls=eh=null}function xm(t){var e=Ju.current;Ce(Ju),t._currentValue=e}function Rd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ks(t,e){eh=t,_m=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(_m!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(eh===null)throw Error(L(308));Ls=t,eh.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Gi=null;function wm(t){Gi===null?Gi=[t]:Gi.push(t)}function ix(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wm(e)):(r.next=i.next,i.next=r),e.interleaved=r,Rn(t,n)}function Rn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hn=!1;function Em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Rn(t,r)}return i=n.interleaved,i===null?(e.next=e,wm(n)):(e.next=i.next,i.next=e),n.interleaved=e,Rn(t,r)}function _u(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,am(t,r)}}function cy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function th(t,e,r,n){var i=t.updateQueue;Hn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var c=a.lane,d=a.eventTime;if((n&c)===c){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(c=e,d=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(d,f,c);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,c=typeof p=="function"?p.call(d,f,c):p,c==null)break e;f=Be({},f,c);break e;case 2:Hn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else d={eventTime:d,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=d,l=f):h=h.next=d,o|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=f}}function fy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(L(191,i));i.call(n)}}}var dl={},Jr=wi(dl),za=wi(dl),$a=wi(dl);function zi(t){if(t===dl)throw Error(L(174));return t}function Tm(t,e){switch(Ee($a,e),Ee(za,t),Ee(Jr,dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ud(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ud(e,t)}Ce(Jr),Ee(Jr,e)}function co(){Ce(Jr),Ce(za),Ce($a)}function ox(t){zi($a.current);var e=zi(Jr.current),r=ud(e,t.type);e!==r&&(Ee(za,t),Ee(Jr,r))}function Sm(t){za.current===t&&(Ce(Jr),Ce(za))}var Me=wi(0);function rh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uc=[];function bm(){for(var t=0;t<Uc.length;t++)Uc[t]._workInProgressVersionPrimary=null;Uc.length=0}var vu=Fn.ReactCurrentDispatcher,Gc=Fn.ReactCurrentBatchConfig,Ji=0,Fe=null,et=null,it=null,nh=!1,ya=!1,Ha=0,QS=0;function yt(){throw Error(L(321))}function Cm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Lr(t[r],e[r]))return!1;return!0}function Am(t,e,r,n,i,s){if(Ji=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?tb:rb,t=r(n,i),ya){s=0;do{if(ya=!1,Ha=0,25<=s)throw Error(L(301));s+=1,it=et=null,e.updateQueue=null,vu.current=nb,t=r(n,i)}while(ya)}if(vu.current=ih,e=et!==null&&et.next!==null,Ji=0,it=et=Fe=null,nh=!1,e)throw Error(L(300));return t}function Pm(){var t=Ha!==0;return Ha=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=t:it=it.next=t,it}function gr(){if(et===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=it===null?Fe.memoizedState:it.next;if(e!==null)it=e,et=t;else{if(t===null)throw Error(L(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Fe.memoizedState=it=t:it=it.next=t}return it}function Va(t,e){return typeof e=="function"?e(t):e}function zc(t){var e=gr(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=et,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Ji&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Fe.lanes|=h,es|=h}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Lr(n,e.memoizedState)||(Ft=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,es|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $c(t){var e=gr(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lr(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ax(){}function lx(t,e){var r=Fe,n=gr(),i=e(),s=!Lr(n.memoizedState,i);if(s&&(n.memoizedState=i,Ft=!0),n=n.queue,Rm(cx.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,ja(9,hx.bind(null,r,n,i,e),void 0,null),ot===null)throw Error(L(349));Ji&30||ux(r,e,i)}return i}function ux(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function hx(t,e,r,n){e.value=r,e.getSnapshot=n,fx(e)&&dx(t)}function cx(t,e,r){return r(function(){fx(e)&&dx(t)})}function fx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Lr(t,r)}catch{return!0}}function dx(t){var e=Rn(t,1);e!==null&&Dr(e,t,1,-1)}function dy(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},e.queue=t,t=t.dispatch=eb.bind(null,Fe,t),[e.memoizedState,t]}function ja(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function px(){return gr().memoizedState}function xu(t,e,r,n){var i=jr();Fe.flags|=t,i.memoizedState=ja(1|e,r,void 0,n===void 0?null:n)}function Vh(t,e,r,n){var i=gr();n=n===void 0?null:n;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,n!==null&&Cm(n,o.deps)){i.memoizedState=ja(e,r,s,n);return}}Fe.flags|=t,i.memoizedState=ja(1|e,r,s,n)}function py(t,e){return xu(8390656,8,t,e)}function Rm(t,e){return Vh(2048,8,t,e)}function mx(t,e){return Vh(4,2,t,e)}function gx(t,e){return Vh(4,4,t,e)}function yx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _x(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4,4,yx.bind(null,e,t),r)}function Im(){}function vx(t,e){var r=gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xx(t,e){var r=gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wx(t,e,r){return Ji&21?(Lr(r,e)||(r=Cv(),Fe.lanes|=r,es|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=r)}function ZS(t,e){var r=ge;ge=r!==0&&4>r?r:4,t(!0);var n=Gc.transition;Gc.transition={};try{t(!1),e()}finally{ge=r,Gc.transition=n}}function Ex(){return gr().memoizedState}function JS(t,e,r){var n=li(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Tx(t))Sx(e,r);else if(r=ix(t,e,r,n),r!==null){var i=Pt();Dr(r,t,n,i),bx(r,e,n)}}function eb(t,e,r){var n=li(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tx(t))Sx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,o)){var l=e.interleaved;l===null?(i.next=i,wm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=ix(t,e,i,n),r!==null&&(i=Pt(),Dr(r,t,n,i),bx(r,e,n))}}function Tx(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function Sx(t,e){ya=nh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function bx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,am(t,r)}}var ih={readContext:mr,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},tb={readContext:mr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:py,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xu(4194308,4,yx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return xu(4,2,t,e)},useMemo:function(t,e){var r=jr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=JS.bind(null,Fe,t),[n.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:dy,useDebugValue:Im,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=dy(!1),e=t[0];return t=ZS.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Fe,i=jr();if(Ae){if(r===void 0)throw Error(L(407));r=r()}else{if(r=e(),ot===null)throw Error(L(349));Ji&30||ux(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,py(cx.bind(null,n,s,t),[t]),n.flags|=2048,ja(9,hx.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=jr(),e=ot.identifierPrefix;if(Ae){var r=xn,n=vn;r=(n&~(1<<32-kr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ha++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=QS++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rb={readContext:mr,useCallback:vx,useContext:mr,useEffect:Rm,useImperativeHandle:_x,useInsertionEffect:mx,useLayoutEffect:gx,useMemo:xx,useReducer:zc,useRef:px,useState:function(){return zc(Va)},useDebugValue:Im,useDeferredValue:function(t){var e=gr();return wx(e,et.memoizedState,t)},useTransition:function(){var t=zc(Va)[0],e=gr().memoizedState;return[t,e]},useMutableSource:ax,useSyncExternalStore:lx,useId:Ex,unstable_isNewReconciler:!1},nb={readContext:mr,useCallback:vx,useContext:mr,useEffect:Rm,useImperativeHandle:_x,useInsertionEffect:mx,useLayoutEffect:gx,useMemo:xx,useReducer:$c,useRef:px,useState:function(){return $c(Va)},useDebugValue:Im,useDeferredValue:function(t){var e=gr();return et===null?e.memoizedState=t:wx(e,et.memoizedState,t)},useTransition:function(){var t=$c(Va)[0],e=gr().memoizedState;return[t,e]},useMutableSource:ax,useSyncExternalStore:lx,useId:Ex,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Id(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Be({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jh={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pt(),i=li(t),s=Sn(n,i);s.payload=e,r!=null&&(s.callback=r),e=oi(t,s,i),e!==null&&(Dr(e,t,i,n),_u(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pt(),i=li(t),s=Sn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=oi(t,s,i),e!==null&&(Dr(e,t,i,n),_u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pt(),n=li(t),i=Sn(r,n);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,n),e!==null&&(Dr(e,t,n,r),_u(e,t,n))}};function my(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(r,n)||!Ba(i,s):!0}function Cx(t,e,r){var n=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=mr(s):(i=Bt(e)?Qi:bt.current,n=e.contextTypes,s=(n=n!=null)?lo(t,i):pi),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jh.enqueueReplaceState(e,e.state,null)}function Md(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Em(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mr(s):(s=Bt(e)?Qi:bt.current,i.context=lo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Id(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jh.enqueueReplaceState(i,i.state,null),th(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fo(t,e){try{var r="",n=e;do r+=MT(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function kd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ib=typeof WeakMap=="function"?WeakMap:Map;function Ax(t,e,r){r=Sn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){oh||(oh=!0,$d=n),kd(t,e)},r}function Px(t,e,r){r=Sn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){kd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){kd(t,e),typeof n!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function yy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ib;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=_b.bind(null,t,e,r),e.then(t,t))}function _y(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vy(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sn(-1,1),e.tag=2,oi(r,e,1))),r.lanes|=1),t)}var sb=Fn.ReactCurrentOwner,Ft=!1;function At(t,e,r,n){e.child=t===null?nx(e,null,r,n):ho(e,t.child,r,n)}function xy(t,e,r,n,i){r=r.render;var s=e.ref;return Ks(e,i),n=Am(t,e,r,n,s,i),r=Pm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,In(t,e,i)):(Ae&&r&&mm(e),e.flags|=1,At(t,e,n,i),e.child)}function wy(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Lm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Rx(t,e,s,n,i)):(t=Su(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ba,r(o,n)&&t.ref===e.ref)return In(t,e,i)}return e.flags|=1,t=ui(s,n),t.ref=e.ref,t.return=e,e.child=t}function Rx(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ba(s,n)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,In(t,e,i)}return Dd(t,e,r,n,i)}function Ix(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Gs,jt),jt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Gs,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ee(Gs,jt),jt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ee(Gs,jt),jt|=n;return At(t,e,i,r),e.child}function Mx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Dd(t,e,r,n,i){var s=Bt(r)?Qi:bt.current;return s=lo(e,s),Ks(e,i),r=Am(t,e,r,n,s,i),n=Pm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,In(t,e,i)):(Ae&&n&&mm(e),e.flags|=1,At(t,e,r,i),e.child)}function Ey(t,e,r,n,i){if(Bt(r)){var s=!0;qu(e)}else s=!1;if(Ks(e,i),e.stateNode===null)wu(t,e),Cx(e,r,n),Md(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Bt(r)?Qi:bt.current,u=lo(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&gy(e,o,n,u),Hn=!1;var c=e.memoizedState;o.state=c,th(e,n,o,i),l=e.memoizedState,a!==n||c!==l||Nt.current||Hn?(typeof h=="function"&&(Id(e,r,h,n),l=e.memoizedState),(a=Hn||my(e,r,a,n,c,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),o.props=u,f=e.pendingProps,c=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Bt(r)?Qi:bt.current,l=lo(e,l));var d=r.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||c!==l)&&gy(e,o,n,l),Hn=!1,c=e.memoizedState,o.state=c,th(e,n,o,i);var p=e.memoizedState;a!==f||c!==p||Nt.current||Hn?(typeof d=="function"&&(Id(e,r,d,n),p=e.memoizedState),(u=Hn||my(e,r,u,n,c,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),n=!1)}return Od(t,e,r,n,s,i)}function Od(t,e,r,n,i,s){Mx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ay(e,r,!1),In(t,e,s);n=e.stateNode,sb.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ho(e,t.child,null,s),e.child=ho(e,null,a,s)):At(t,e,a,s),e.memoizedState=n.state,i&&ay(e,r,!0),e.child}function kx(t){var e=t.stateNode;e.pendingContext?oy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oy(t,e.context,!1),Tm(t,e.containerInfo)}function Ty(t,e,r,n,i){return uo(),ym(i),e.flags|=256,At(t,e,r,n),e.child}var Fd={dehydrated:null,treeContext:null,retryLane:0};function Nd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dx(t,e,r){var n=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(Me,i&1),t===null)return Pd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yh(o,n,0,null),t=ji(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nd(r),e.memoizedState=Fd,t):Mm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ob(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ui(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=ji(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Nd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Fd,n}return s=t.child,t=s.sibling,n=ui(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Mm(t,e){return e=Yh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ll(t,e,r,n){return n!==null&&ym(n),ho(e,t.child,null,r),t=Mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ob(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Hc(Error(L(422))),Ll(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Yh({mode:"visible",children:n.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ho(e,t.child,null,o),e.child.memoizedState=Nd(o),e.memoizedState=Fd,s);if(!(e.mode&1))return Ll(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(L(419)),n=Hc(s,n,void 0),Ll(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ft||a){if(n=ot,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(t,i),Dr(n,t,i,-1))}return Bm(),n=Hc(Error(L(421))),Ll(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yt=si(i.nextSibling),Kt=e,Ae=!0,Pr=null,t!==null&&(or[ar++]=vn,or[ar++]=xn,or[ar++]=Zi,vn=t.id,xn=t.overflow,Zi=e),e=Mm(e,n.children),e.flags|=4096,e)}function Sy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Rd(t.return,e,r)}function Vc(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ox(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(At(t,e,n.children,r),n=Me.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sy(t,r,e);else if(t.tag===19)Sy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ee(Me,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&rh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Vc(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Vc(e,!0,r,null,s);break;case"together":Vc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function In(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,r=ui(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ui(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ab(t,e,r){switch(e.tag){case 3:kx(e),uo();break;case 5:ox(e);break;case 1:Bt(e.type)&&qu(e);break;case 4:Tm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ee(Ju,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Me,Me.current&1),e.flags|=128,null):r&e.child.childLanes?Dx(t,e,r):(Ee(Me,Me.current&1),t=In(t,e,r),t!==null?t.sibling:null);Ee(Me,Me.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ox(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Me,Me.current),n)break;return null;case 22:case 23:return e.lanes=0,Ix(t,e,r)}return In(t,e,r)}var Fx,Bd,Nx,Bx;Fx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bd=function(){};Nx=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,zi(Jr.current);var s=null;switch(r){case"input":i=sd(t,i),n=sd(t,n),s=[];break;case"select":i=Be({},i,{value:void 0}),n=Be({},n,{value:void 0}),s=[];break;case"textarea":i=ld(t,i),n=ld(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Yu)}hd(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ia.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Bx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vo(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function lb(t,e,r){var n=e.pendingProps;switch(gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Bt(e.type)&&Ku(),_t(e),null;case 3:return n=e.stateNode,co(),Ce(Nt),Ce(bt),bm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(jd(Pr),Pr=null))),Bd(t,e),_t(e),null;case 5:Sm(e);var i=zi($a.current);if(r=e.type,t!==null&&e.stateNode!=null)Nx(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(L(166));return _t(e),null}if(t=zi(Jr.current),Nl(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Kr]=e,n[Ga]=s,t=(e.mode&1)!==0,r){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(i=0;i<na.length;i++)be(na[i],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":Dg(n,s),be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},be("invalid",n);break;case"textarea":Fg(n,s),be("invalid",n)}hd(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fl(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fl(n.textContent,a,t),i=["children",""+a]):Ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",n)}switch(r){case"input":Al(n),Og(n,s,!0);break;case"textarea":Al(n),Ng(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Yu)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Kr]=e,t[Ga]=n,Fx(t,e,!1,!1),e.stateNode=t;e:{switch(o=cd(r,n),r){case"dialog":be("cancel",t),be("close",t),i=n;break;case"iframe":case"object":case"embed":be("load",t),i=n;break;case"video":case"audio":for(i=0;i<na.length;i++)be(na[i],t);i=n;break;case"source":be("error",t),i=n;break;case"img":case"image":case"link":be("error",t),be("load",t),i=n;break;case"details":be("toggle",t),i=n;break;case"input":Dg(t,n),i=sd(t,n),be("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Be({},n,{value:void 0}),be("invalid",t);break;case"textarea":Fg(t,n),i=ld(t,n),be("invalid",t);break;default:i=n}hd(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fv(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ma(t,l):typeof l=="number"&&Ma(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&tm(t,s,l,o))}switch(r){case"input":Al(t),Og(t,n,!1);break;case"textarea":Al(t),Ng(t);break;case"option":n.value!=null&&t.setAttribute("value",""+di(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?js(t,!!n.multiple,s,!1):n.defaultValue!=null&&js(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)Bx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(L(166));if(r=zi($a.current),zi(Jr.current),Nl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Kr]=e,(s=n.nodeValue!==r)&&(t=Kt,t!==null))switch(t.tag){case 3:Fl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fl(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=e,e.stateNode=n}return _t(e),null;case 13:if(Ce(Me),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Yt!==null&&e.mode&1&&!(e.flags&128))tx(),uo(),e.flags|=98560,s=!1;else if(s=Nl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Kr]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),s=!1}else Pr!==null&&(jd(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?rt===0&&(rt=3):Bm())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return co(),Bd(t,e),t===null&&La(e.stateNode.containerInfo),_t(e),null;case 10:return xm(e.type._context),_t(e),null;case 17:return Bt(e.type)&&Ku(),_t(e),null;case 19:if(Ce(Me),s=e.memoizedState,s===null)return _t(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Vo(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rh(t),o!==null){for(e.flags|=128,Vo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ee(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>po&&(e.flags|=128,n=!0,Vo(s,!1),e.lanes=4194304)}else{if(!n)if(t=rh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return _t(e),null}else 2*je()-s.renderingStartTime>po&&r!==1073741824&&(e.flags|=128,n=!0,Vo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,r=Me.current,Ee(Me,n?r&1|2:r&1),e):(_t(e),null);case 22:case 23:return Nm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function ub(t,e){switch(gm(e),e.tag){case 1:return Bt(e.type)&&Ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),Ce(Nt),Ce(bt),bm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sm(e),null;case 13:if(Ce(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Me),null;case 4:return co(),null;case 10:return xm(e.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var Ul=!1,vt=!1,hb=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Us(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ge(t,e,n)}else r.current=null}function Ld(t,e,r){try{r()}catch(n){Ge(t,e,n)}}var by=!1;function cb(t,e){if(wd=ju,t=$v(),pm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,c=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)c=f,f=d;for(;;){if(f===t)break t;if(c===r&&++u===i&&(a=o),c===s&&++h===n&&(l=o),(d=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ed={focusedElem:t,selectionRange:r},ju=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:br(e.type,m),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){Ge(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return p=by,by=!1,p}function _a(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ld(e,r,s)}i=i.next}while(i!==n)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ud(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Lx(t){var e=t.alternate;e!==null&&(t.alternate=null,Lx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[Ga],delete e[bd],delete e[XS],delete e[YS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ux(t){return t.tag===5||t.tag===3||t.tag===4}function Cy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ux(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Yu));else if(n!==4&&(t=t.child,t!==null))for(Gd(t,e,r),t=t.sibling;t!==null;)Gd(t,e,r),t=t.sibling}function zd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(zd(t,e,r),t=t.sibling;t!==null;)zd(t,e,r),t=t.sibling}var ut=null,Ar=!1;function Gn(t,e,r){for(r=r.child;r!==null;)Gx(t,e,r),r=r.sibling}function Gx(t,e,r){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Lh,r)}catch{}switch(r.tag){case 5:vt||Us(r,e);case 6:var n=ut,i=Ar;ut=null,Gn(t,e,r),ut=n,Ar=i,ut!==null&&(Ar?(t=ut,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ut.removeChild(r.stateNode));break;case 18:ut!==null&&(Ar?(t=ut,r=r.stateNode,t.nodeType===8?Bc(t.parentNode,r):t.nodeType===1&&Bc(t,r),Fa(t)):Bc(ut,r.stateNode));break;case 4:n=ut,i=Ar,ut=r.stateNode.containerInfo,Ar=!0,Gn(t,e,r),ut=n,Ar=i;break;case 0:case 11:case 14:case 15:if(!vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ld(r,e,o),i=i.next}while(i!==n)}Gn(t,e,r);break;case 1:if(!vt&&(Us(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ge(r,e,a)}Gn(t,e,r);break;case 21:Gn(t,e,r);break;case 22:r.mode&1?(vt=(n=vt)||r.memoizedState!==null,Gn(t,e,r),vt=n):Gn(t,e,r);break;default:Gn(t,e,r)}}function Ay(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new hb),e.forEach(function(n){var i=xb.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Ar=!1;break e;case 3:ut=a.stateNode.containerInfo,Ar=!0;break e;case 4:ut=a.stateNode.containerInfo,Ar=!0;break e}a=a.return}if(ut===null)throw Error(L(160));Gx(s,o,i),ut=null,Ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zx(e,t),e=e.sibling}function zx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),zr(t),n&4){try{_a(3,t,t.return),Wh(3,t)}catch(m){Ge(t,t.return,m)}try{_a(5,t,t.return)}catch(m){Ge(t,t.return,m)}}break;case 1:vr(e,t),zr(t),n&512&&r!==null&&Us(r,r.return);break;case 5:if(vr(e,t),zr(t),n&512&&r!==null&&Us(r,r.return),t.flags&32){var i=t.stateNode;try{Ma(i,"")}catch(m){Ge(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uv(i,s),cd(a,o);var u=cd(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?pv(i,f):h==="dangerouslySetInnerHTML"?fv(i,f):h==="children"?Ma(i,f):tm(i,h,f,u)}switch(a){case"input":od(i,s);break;case"textarea":hv(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?js(i,!!s.multiple,d,!1):c!==!!s.multiple&&(s.defaultValue!=null?js(i,!!s.multiple,s.defaultValue,!0):js(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ga]=s}catch(m){Ge(t,t.return,m)}}break;case 6:if(vr(e,t),zr(t),n&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ge(t,t.return,m)}}break;case 3:if(vr(e,t),zr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fa(e.containerInfo)}catch(m){Ge(t,t.return,m)}break;case 4:vr(e,t),zr(t);break;case 13:vr(e,t),zr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Om=je())),n&4&&Ay(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(vt=(u=vt)||h,vr(e,t),vt=u):vr(e,t),zr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(f=Y=h;Y!==null;){switch(c=Y,d=c.child,c.tag){case 0:case 11:case 14:case 15:_a(4,c,c.return);break;case 1:Us(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){n=c,r=c.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ge(n,r,m)}}break;case 5:Us(c,c.return);break;case 22:if(c.memoizedState!==null){Ry(f);continue}}d!==null?(d.return=c,Y=d):Ry(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dv("display",o))}catch(m){Ge(t,t.return,m)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ge(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(e,t),zr(t),n&4&&Ay(t);break;case 21:break;default:vr(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ux(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ma(i,""),n.flags&=-33);var s=Cy(t);zd(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Cy(t);Gd(t,a,o);break;default:throw Error(L(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fb(t,e,r){Y=t,$x(t)}function $x(t,e,r){for(var n=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ul;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=Ul;var u=vt;if(Ul=o,(vt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Iy(i):l!==null?(l.return=o,Y=l):Iy(i);for(;s!==null;)Y=s,$x(s),s=s.sibling;Y=i,Ul=a,vt=u}Py(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Py(t)}}function Py(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Wh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:br(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fy(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fy(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Fa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}vt||e.flags&512&&Ud(e)}catch(c){Ge(e,e.return,c)}}if(e===t){Y=null;break}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}}function Ry(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Y=r;break}Y=e.return}}function Iy(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wh(4,e)}catch(l){Ge(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{Ud(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{Ud(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var db=Math.ceil,sh=Fn.ReactCurrentDispatcher,km=Fn.ReactCurrentOwner,pr=Fn.ReactCurrentBatchConfig,fe=0,ot=null,Ke=null,pt=0,jt=0,Gs=wi(0),rt=0,Wa=null,es=0,Xh=0,Dm=0,va=null,Dt=null,Om=0,po=1/0,dn=null,oh=!1,$d=null,ai=null,Gl=!1,Yn=null,ah=0,xa=0,Hd=null,Eu=-1,Tu=0;function Pt(){return fe&6?je():Eu!==-1?Eu:Eu=je()}function li(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:qS.transition!==null?(Tu===0&&(Tu=Cv()),Tu):(t=ge,t!==0||(t=window.event,t=t===void 0?16:Dv(t.type)),t):1}function Dr(t,e,r,n){if(50<xa)throw xa=0,Hd=null,Error(L(185));hl(t,r,n),(!(fe&2)||t!==ot)&&(t===ot&&(!(fe&2)&&(Xh|=r),rt===4&&jn(t,pt)),Lt(t,n),r===1&&fe===0&&!(e.mode&1)&&(po=je()+500,Hh&&Ei()))}function Lt(t,e){var r=t.callbackNode;qT(t,e);var n=Vu(t,t===ot?pt:0);if(n===0)r!==null&&Ug(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ug(r),e===1)t.tag===0?KS(My.bind(null,t)):Zv(My.bind(null,t)),jS(function(){!(fe&6)&&Ei()}),r=null;else{switch(Av(n)){case 1:r=om;break;case 4:r=Sv;break;case 16:r=Hu;break;case 536870912:r=bv;break;default:r=Hu}r=qx(r,Hx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Hx(t,e){if(Eu=-1,Tu=0,fe&6)throw Error(L(327));var r=t.callbackNode;if(qs()&&t.callbackNode!==r)return null;var n=Vu(t,t===ot?pt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=lh(t,n);else{e=n;var i=fe;fe|=2;var s=jx();(ot!==t||pt!==e)&&(dn=null,po=je()+500,Vi(t,e));do try{gb();break}catch(a){Vx(t,a)}while(!0);vm(),sh.current=s,fe=i,Ke!==null?e=0:(ot=null,pt=0,e=rt)}if(e!==0){if(e===2&&(i=gd(t),i!==0&&(n=i,e=Vd(t,i))),e===1)throw r=Wa,Vi(t,0),jn(t,n),Lt(t,je()),r;if(e===6)jn(t,n);else{if(i=t.current.alternate,!(n&30)&&!pb(i)&&(e=lh(t,n),e===2&&(s=gd(t),s!==0&&(n=s,e=Vd(t,s))),e===1))throw r=Wa,Vi(t,0),jn(t,n),Lt(t,je()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(L(345));case 2:ki(t,Dt,dn);break;case 3:if(jn(t,n),(n&130023424)===n&&(e=Om+500-je(),10<e)){if(Vu(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sd(ki.bind(null,t,Dt,dn),e);break}ki(t,Dt,dn);break;case 4:if(jn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-kr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*db(n/1960))-n,10<n){t.timeoutHandle=Sd(ki.bind(null,t,Dt,dn),n);break}ki(t,Dt,dn);break;case 5:ki(t,Dt,dn);break;default:throw Error(L(329))}}}return Lt(t,je()),t.callbackNode===r?Hx.bind(null,t):null}function Vd(t,e){var r=va;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=lh(t,e),t!==2&&(e=Dt,Dt=r,e!==null&&jd(e)),t}function jd(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function pb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~Dm,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-kr(e),n=1<<r;t[r]=-1,e&=~n}}function My(t){if(fe&6)throw Error(L(327));qs();var e=Vu(t,0);if(!(e&1))return Lt(t,je()),null;var r=lh(t,e);if(t.tag!==0&&r===2){var n=gd(t);n!==0&&(e=n,r=Vd(t,n))}if(r===1)throw r=Wa,Vi(t,0),jn(t,e),Lt(t,je()),r;if(r===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,Dt,dn),Lt(t,je()),null}function Fm(t,e){var r=fe;fe|=1;try{return t(e)}finally{fe=r,fe===0&&(po=je()+500,Hh&&Ei())}}function ts(t){Yn!==null&&Yn.tag===0&&!(fe&6)&&qs();var e=fe;fe|=1;var r=pr.transition,n=ge;try{if(pr.transition=null,ge=1,t)return t()}finally{ge=n,pr.transition=r,fe=e,!(fe&6)&&Ei()}}function Nm(){jt=Gs.current,Ce(Gs)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,VS(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(gm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ku();break;case 3:co(),Ce(Nt),Ce(bt),bm();break;case 5:Sm(n);break;case 4:co();break;case 13:Ce(Me);break;case 19:Ce(Me);break;case 10:xm(n.type._context);break;case 22:case 23:Nm()}r=r.return}if(ot=t,Ke=t=ui(t.current,null),pt=jt=e,rt=0,Wa=null,Dm=Xh=es=0,Dt=va=null,Gi!==null){for(e=0;e<Gi.length;e++)if(r=Gi[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Gi=null}return t}function Vx(t,e){do{var r=Ke;try{if(vm(),vu.current=ih,nh){for(var n=Fe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nh=!1}if(Ji=0,it=et=Fe=null,ya=!1,Ha=0,km.current=null,r===null||r.return===null){rt=1,Wa=e,Ke=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=_y(o);if(d!==null){d.flags&=-257,vy(d,o,a,s,e),d.mode&1&&yy(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){yy(s,u,e),Bm();break e}l=Error(L(426))}}else if(Ae&&a.mode&1){var v=_y(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vy(v,o,a,s,e),ym(fo(l,a));break e}}s=l=fo(l,a),rt!==4&&(rt=2),va===null?va=[s]:va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=Ax(s,l,e);cy(s,_);break e;case 1:a=l;var y=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ai===null||!ai.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Px(s,a,e);cy(s,x);break e}}s=s.return}while(s!==null)}Xx(r)}catch(w){e=w,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function jx(){var t=sh.current;return sh.current=ih,t===null?ih:t}function Bm(){(rt===0||rt===3||rt===2)&&(rt=4),ot===null||!(es&268435455)&&!(Xh&268435455)||jn(ot,pt)}function lh(t,e){var r=fe;fe|=2;var n=jx();(ot!==t||pt!==e)&&(dn=null,Vi(t,e));do try{mb();break}catch(i){Vx(t,i)}while(!0);if(vm(),fe=r,sh.current=n,Ke!==null)throw Error(L(261));return ot=null,pt=0,rt}function mb(){for(;Ke!==null;)Wx(Ke)}function gb(){for(;Ke!==null&&!zT();)Wx(Ke)}function Wx(t){var e=Kx(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?Xx(t):Ke=e,km.current=null}function Xx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ub(r,e),r!==null){r.flags&=32767,Ke=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ke=null;return}}else if(r=lb(r,e,jt),r!==null){Ke=r;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);rt===0&&(rt=5)}function ki(t,e,r){var n=ge,i=pr.transition;try{pr.transition=null,ge=1,yb(t,e,r,n)}finally{pr.transition=i,ge=n}return null}function yb(t,e,r,n){do qs();while(Yn!==null);if(fe&6)throw Error(L(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(QT(t,s),t===ot&&(Ke=ot=null,pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gl||(Gl=!0,qx(Hu,function(){return qs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=ge;ge=1;var a=fe;fe|=4,km.current=null,cb(t,r),zx(r,t),BS(Ed),ju=!!wd,Ed=wd=null,t.current=r,fb(r),$T(),fe=a,ge=o,pr.transition=s}else t.current=r;if(Gl&&(Gl=!1,Yn=t,ah=i),s=t.pendingLanes,s===0&&(ai=null),jT(r.stateNode),Lt(t,je()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,t=$d,$d=null,t;return ah&1&&t.tag!==0&&qs(),s=t.pendingLanes,s&1?t===Hd?xa++:(xa=0,Hd=t):xa=0,Ei(),null}function qs(){if(Yn!==null){var t=Av(ah),e=pr.transition,r=ge;try{if(pr.transition=null,ge=16>t?16:t,Yn===null)var n=!1;else{if(t=Yn,Yn=null,ah=0,fe&6)throw Error(L(331));var i=fe;for(fe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:_a(8,h,s)}var f=h.child;if(f!==null)f.return=h,Y=f;else for(;Y!==null;){h=Y;var c=h.sibling,d=h.return;if(Lx(h),h===u){Y=null;break}if(c!==null){c.return=d,Y=c;break}Y=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Y=_;break e}Y=s.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Y=g;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(w){Ge(a,a.return,w)}if(a===o){Y=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}if(fe=i,Ei(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Lh,t)}catch{}n=!0}return n}finally{ge=r,pr.transition=e}}return!1}function ky(t,e,r){e=fo(r,e),e=Ax(t,e,1),t=oi(t,e,1),e=Pt(),t!==null&&(hl(t,1,e),Lt(t,e))}function Ge(t,e,r){if(t.tag===3)ky(t,t,r);else for(;e!==null;){if(e.tag===3){ky(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ai===null||!ai.has(n))){t=fo(r,t),t=Px(e,t,1),e=oi(e,t,1),t=Pt(),e!==null&&(hl(e,1,t),Lt(e,t));break}}e=e.return}}function _b(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&r,ot===t&&(pt&r)===r&&(rt===4||rt===3&&(pt&130023424)===pt&&500>je()-Om?Vi(t,0):Dm|=r),Lt(t,e)}function Yx(t,e){e===0&&(t.mode&1?(e=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):e=1);var r=Pt();t=Rn(t,e),t!==null&&(hl(t,e,r),Lt(t,r))}function vb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Yx(t,r)}function xb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(e),Yx(t,r)}var Kx;Kx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Ft=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ft=!1,ab(t,e,r);Ft=!!(t.flags&131072)}else Ft=!1,Ae&&e.flags&1048576&&Jv(e,Zu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wu(t,e),t=e.pendingProps;var i=lo(e,bt.current);Ks(e,r),i=Am(null,e,n,t,i,r);var s=Pm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(n)?(s=!0,qu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Em(e),i.updater=jh,e.stateNode=i,i._reactInternals=e,Md(e,n,t,r),e=Od(null,e,n,!0,s,r)):(e.tag=0,Ae&&s&&mm(e),At(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Eb(n),t=br(n,t),i){case 0:e=Dd(null,e,n,t,r);break e;case 1:e=Ey(null,e,n,t,r);break e;case 11:e=xy(null,e,n,t,r);break e;case 14:e=wy(null,e,n,br(n.type,t),r);break e}throw Error(L(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:br(n,i),Dd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:br(n,i),Ey(t,e,n,i,r);case 3:e:{if(kx(e),t===null)throw Error(L(387));n=e.pendingProps,s=e.memoizedState,i=s.element,sx(t,e),th(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fo(Error(L(423)),e),e=Ty(t,e,n,r,i);break e}else if(n!==i){i=fo(Error(L(424)),e),e=Ty(t,e,n,r,i);break e}else for(Yt=si(e.stateNode.containerInfo.firstChild),Kt=e,Ae=!0,Pr=null,r=nx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(uo(),n===i){e=In(t,e,r);break e}At(t,e,n,r)}e=e.child}return e;case 5:return ox(e),t===null&&Pd(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Td(n,i)?o=null:s!==null&&Td(n,s)&&(e.flags|=32),Mx(t,e),At(t,e,o,r),e.child;case 6:return t===null&&Pd(e),null;case 13:return Dx(t,e,r);case 4:return Tm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ho(e,null,n,r):At(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:br(n,i),xy(t,e,n,i,r);case 7:return At(t,e,e.pendingProps,r),e.child;case 8:return At(t,e,e.pendingProps.children,r),e.child;case 12:return At(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(Ju,n._currentValue),n._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===i.children&&!Nt.current){e=In(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Sn(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Rd(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Rd(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ks(e,r),i=mr(i),n=n(i),e.flags|=1,At(t,e,n,r),e.child;case 14:return n=e.type,i=br(n,e.pendingProps),i=br(n.type,i),wy(t,e,n,i,r);case 15:return Rx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:br(n,i),wu(t,e),e.tag=1,Bt(n)?(t=!0,qu(e)):t=!1,Ks(e,r),Cx(e,n,i),Md(e,n,i,r),Od(null,e,n,!0,t,r);case 19:return Ox(t,e,r);case 22:return Ix(t,e,r)}throw Error(L(156,e.tag))};function qx(t,e){return Tv(t,e)}function wb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,r,n){return new wb(t,e,r,n)}function Lm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Eb(t){if(typeof t=="function")return Lm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nm)return 11;if(t===im)return 14}return 2}function ui(t,e){var r=t.alternate;return r===null?(r=lr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Su(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Lm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Is:return ji(r.children,i,s,e);case rm:o=8,i|=8;break;case td:return t=lr(12,r,e,i|2),t.elementType=td,t.lanes=s,t;case rd:return t=lr(13,r,e,i),t.elementType=rd,t.lanes=s,t;case nd:return t=lr(19,r,e,i),t.elementType=nd,t.lanes=s,t;case ov:return Yh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iv:o=10;break e;case sv:o=9;break e;case nm:o=11;break e;case im:o=14;break e;case $n:o=16,n=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=lr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ji(t,e,r,n){return t=lr(7,t,n,e),t.lanes=r,t}function Yh(t,e,r,n){return t=lr(22,t,n,e),t.elementType=ov,t.lanes=r,t.stateNode={isHidden:!1},t}function jc(t,e,r){return t=lr(6,t,null,e),t.lanes=r,t}function Wc(t,e,r){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tb(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cc(0),this.expirationTimes=Cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Um(t,e,r,n,i,s,o,a,l){return t=new Tb(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Em(s),t}function Sb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Qx(t){if(!t)return pi;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var r=t.type;if(Bt(r))return Qv(t,r,e)}return e}function Zx(t,e,r,n,i,s,o,a,l){return t=Um(r,n,!0,t,i,s,o,a,l),t.context=Qx(null),r=t.current,n=Pt(),i=li(r),s=Sn(n,i),s.callback=e??null,oi(r,s,i),t.current.lanes=i,hl(t,i,n),Lt(t,n),t}function Kh(t,e,r,n){var i=e.current,s=Pt(),o=li(i);return r=Qx(r),e.context===null?e.context=r:e.pendingContext=r,e=Sn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=oi(i,e,o),t!==null&&(Dr(t,i,o,s),_u(t,i,o)),o}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Gm(t,e){Dy(t,e),(t=t.alternate)&&Dy(t,e)}function bb(){return null}var Jx=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}qh.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Kh(t,e,null,null)};qh.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){Kh(null,t,null,null)}),e[Pn]=null}};function qh(t){this._internalRoot=t}qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vn.length&&e!==0&&e<Vn[r].priority;r++);Vn.splice(r,0,t),r===0&&kv(t)}};function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function Cb(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=uh(o);s.call(u)}}var o=Zx(e,n,t,0,null,!1,!1,"",Oy);return t._reactRootContainer=o,t[Pn]=o.current,La(t.nodeType===8?t.parentNode:t),ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=uh(l);a.call(u)}}var l=Um(t,0,!1,null,null,!1,!1,"",Oy);return t._reactRootContainer=l,t[Pn]=l.current,La(t.nodeType===8?t.parentNode:t),ts(function(){Kh(e,l,r,n)}),l}function Zh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=uh(o);a.call(l)}}Kh(e,o,t,i)}else o=Cb(r,e,t,i,n);return uh(o)}Pv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ra(e.pendingLanes);r!==0&&(am(e,r|1),Lt(e,je()),!(fe&6)&&(po=je()+500,Ei()))}break;case 13:ts(function(){var n=Rn(t,1);if(n!==null){var i=Pt();Dr(n,t,1,i)}}),Gm(t,1)}};lm=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var r=Pt();Dr(e,t,134217728,r)}Gm(t,134217728)}};Rv=function(t){if(t.tag===13){var e=li(t),r=Rn(t,e);if(r!==null){var n=Pt();Dr(r,t,e,n)}Gm(t,e)}};Iv=function(){return ge};Mv=function(t,e){var r=ge;try{return ge=t,e()}finally{ge=r}};dd=function(t,e,r){switch(e){case"input":if(od(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$h(n);if(!i)throw Error(L(90));lv(n),od(n,i)}}}break;case"textarea":hv(t,r);break;case"select":e=r.value,e!=null&&js(t,!!r.multiple,e,!1)}};yv=Fm;_v=ts;var Ab={usingClientEntryPoint:!1,Events:[fl,Os,$h,mv,gv,Fm]},jo={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pb={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wv(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||bb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{Lh=zl.inject(Pb),Zr=zl}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;er.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$m(e))throw Error(L(200));return Sb(t,e,null,r)};er.createRoot=function(t,e){if(!$m(t))throw Error(L(299));var r=!1,n="",i=Jx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Um(t,1,!1,null,null,r,!1,n,i),t[Pn]=e.current,La(t.nodeType===8?t.parentNode:t),new zm(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=wv(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return ts(t)};er.hydrate=function(t,e,r){if(!Qh(e))throw Error(L(200));return Zh(null,t,e,!0,r)};er.hydrateRoot=function(t,e,r){if(!$m(t))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Jx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Zx(e,null,t,1,r??null,i,!1,s,o),t[Pn]=e.current,La(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qh(e)};er.render=function(t,e,r){if(!Qh(e))throw Error(L(200));return Zh(null,t,e,!1,r)};er.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(L(40));return t._reactRootContainer?(ts(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};er.unstable_batchedUpdates=Fm;er.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qh(r))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Zh(t,e,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function e1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e1)}catch(t){console.error(t)}}e1(),ev.exports=er;var Rb=ev.exports,Fy=Rb;Jf.createRoot=Fy.createRoot,Jf.hydrateRoot=Fy.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ny="popstate";function Ib(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Wd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Xa(i)}return kb(e,r,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mb(){return Math.random().toString(36).substring(2,10)}function By(t,e){return{usr:t.state,key:t.key,idx:e}}function Wd(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:r,key:e&&e.key||n||Mb()}}function Xa({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ro(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function kb(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let v=h(),_=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:_})}function c(v,_){a="PUSH";let y=Wd(m.location,v,_);u=h()+1;let g=By(y,u),x=m.createHref(y);try{o.pushState(g,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}s&&l&&l({action:a,location:m.location,delta:1})}function d(v,_){a="REPLACE";let y=Wd(m.location,v,_);u=h();let g=By(y,u),x=m.createHref(y);o.replaceState(g,"",x),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){return Db(v)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ny,f),l=v,()=>{i.removeEventListener(Ny,f),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:c,replace:d,go(v){return o.go(v)}};return m}function Db(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Xa(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function t1(t,e,r="/"){return Ob(t,e,r,!1)}function Ob(t,e,r,n){let i=typeof e=="string"?Ro(e):e,s=Mn(i.pathname||"/",r);if(s==null)return null;let o=r1(t);Fb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Wb(s);a=Vb(o[l],u,n)}return a}function r1(t,e=[],r=[],n=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=bn([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Ne(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),r1(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:$b(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of n1(s.path))i(s,o,l)}),e}function n1(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=n1(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Fb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Hb(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Nb=/^:[\w-]+$/,Bb=3,Lb=2,Ub=1,Gb=10,zb=-2,Ly=t=>t==="*";function $b(t,e){let r=t.split("/"),n=r.length;return r.some(Ly)&&(n+=zb),e&&(n+=Lb),r.filter(i=>!Ly(i)).reduce((i,s)=>i+(Nb.test(s)?Bb:s===""?Ub:Gb),n)}function Hb(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Vb(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=hh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),c=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=hh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:bn([s,f.pathname]),pathnameBase:qb(bn([s,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(s=bn([s,f.pathnameBase]))}return o}function hh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jb(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},c)=>{if(h==="*"){let p=a[c]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const d=a[c];return f&&!d?u[h]=void 0:u[h]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function jb(t,e=!1,r=!0){nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Wb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Xb(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ro(t):t;return{pathname:r?r.startsWith("/")?r:Yb(r,e):e,search:Qb(n),hash:Zb(i)}}function Yb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xc(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function i1(t){let e=Kb(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function s1(t,e,r,n=!1){let i;typeof t=="string"?i=Ro(t):(i={...t},Ne(!i.pathname||!i.pathname.includes("?"),Xc("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Xc("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Xc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}a=f>=0?e[f]:"/"}let l=Xb(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var bn=t=>t.join("/").replace(/\/\/+/g,"/"),qb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var o1=["POST","PUT","PATCH","DELETE"];new Set(o1);var eC=["GET",...o1];new Set(eC);var Io=D.createContext(null);Io.displayName="DataRouter";var Jh=D.createContext(null);Jh.displayName="DataRouterState";D.createContext(!1);var a1=D.createContext({isTransitioning:!1});a1.displayName="ViewTransition";var tC=D.createContext(new Map);tC.displayName="Fetchers";var rC=D.createContext(null);rC.displayName="Await";var an=D.createContext(null);an.displayName="Navigation";var pl=D.createContext(null);pl.displayName="Location";var Nn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var Hm=D.createContext(null);Hm.displayName="RouteError";function nC(t,{relative:e}={}){Ne(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(an),{hash:i,pathname:s,search:o}=gl(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:bn([r,s])),n.createHref({pathname:a,search:o,hash:i})}function ml(){return D.useContext(pl)!=null}function us(){return Ne(ml(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(pl).location}var l1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u1(t){D.useContext(an).static||D.useLayoutEffect(t)}function iC(){let{isDataRoute:t}=D.useContext(Nn);return t?yC():sC()}function sC(){Ne(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Io),{basename:e,navigator:r}=D.useContext(an),{matches:n}=D.useContext(Nn),{pathname:i}=us(),s=JSON.stringify(i1(n)),o=D.useRef(!1);return u1(()=>{o.current=!0}),D.useCallback((l,u={})=>{if(nn(o.current,l1),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=s1(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bn([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,s,i,t])}D.createContext(null);function gl(t,{relative:e}={}){let{matches:r}=D.useContext(Nn),{pathname:n}=us(),i=JSON.stringify(i1(r));return D.useMemo(()=>s1(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function oC(t,e){return h1(t,e)}function h1(t,e,r,n){var _;Ne(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(an),{matches:s}=D.useContext(Nn),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let y=h&&h.path||"";c1(l,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=us(),c;if(e){let y=typeof e=="string"?Ro(e):e;Ne(u==="/"||((_=y.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),c=y}else c=f;let d=c.pathname||"/",p=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=t1(t,{pathname:p});nn(h||m!=null,`No routes matched location "${c.pathname}${c.search}${c.hash}" `),nn(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${c.pathname}${c.search}${c.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=cC(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:bn([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:bn([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&v?D.createElement(pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...c},navigationType:"POP"}},v):v}function aC(){let t=gC(),e=Jb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,o)}var lC=D.createElement(aC,null),uC=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Nn.Provider,{value:this.props.routeContext},D.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hC({routeContext:t,match:e,children:r}){let n=D.useContext(Io);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Nn.Provider,{value:t},r)}function cC(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ne(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:f}=r,c=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||c){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,h)=>{let f,c=!1,d=null,p=null;r&&(f=s&&u.route.id?s[u.route.id]:void 0,d=u.route.errorElement||lC,o&&(a<0&&h===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,p=null):a===h&&(c=!0,p=u.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,h+1)),v=()=>{let _;return f?_=d:c?_=p:u.route.Component?_=D.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,D.createElement(hC,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?D.createElement(uC,{location:r.location,revalidation:r.revalidation,component:d,error:f,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function Vm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fC(t){let e=D.useContext(Io);return Ne(e,Vm(t)),e}function dC(t){let e=D.useContext(Jh);return Ne(e,Vm(t)),e}function pC(t){let e=D.useContext(Nn);return Ne(e,Vm(t)),e}function jm(t){let e=pC(t),r=e.matches[e.matches.length-1];return Ne(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function mC(){return jm("useRouteId")}function gC(){var n;let t=D.useContext(Hm),e=dC("useRouteError"),r=jm("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function yC(){let{router:t}=fC("useNavigate"),e=jm("useNavigate"),r=D.useRef(!1);return u1(()=>{r.current=!0}),D.useCallback(async(i,s={})=>{nn(r.current,l1),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Uy={};function c1(t,e,r){!e&&!Uy[t]&&(Uy[t]=!0,nn(!1,r))}D.memo(_C);function _C({routes:t,future:e,state:r}){return h1(t,void 0,r,e)}function bu(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vC({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Ne(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=Ro(r));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:c="default"}=r,d=D.useMemo(()=>{let p=Mn(l,o);return p==null?null:{location:{pathname:p,search:u,hash:h,state:f,key:c},navigationType:n}},[o,l,u,h,f,c,n]);return nn(d!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:D.createElement(an.Provider,{value:a},D.createElement(pl.Provider,{children:e,value:d}))}function xC({children:t,location:e}){return oC(Xd(t),e)}function Xd(t,e=[]){let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let s=[...e,i];if(n.type===D.Fragment){r.push.apply(r,Xd(n.props.children,s));return}Ne(n.type===bu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Xd(n.props.children,s)),r.push(o)}),r}var Cu="get",Au="application/x-www-form-urlencoded";function ec(t){return t!=null&&typeof t.tagName=="string"}function wC(t){return ec(t)&&t.tagName.toLowerCase()==="button"}function EC(t){return ec(t)&&t.tagName.toLowerCase()==="form"}function TC(t){return ec(t)&&t.tagName.toLowerCase()==="input"}function SC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bC(t,e){return t.button===0&&(!e||e==="_self")&&!SC(t)}var $l=null;function CC(){if($l===null)try{new FormData(document.createElement("form"),0),$l=!1}catch{$l=!0}return $l}var AC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yc(t){return t!=null&&!AC.has(t)?(nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):t}function PC(t,e){let r,n,i,s,o;if(EC(t)){let a=t.getAttribute("action");n=a?Mn(a,e):null,r=t.getAttribute("method")||Cu,i=Yc(t.getAttribute("enctype"))||Au,s=new FormData(t)}else if(wC(t)||TC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?Mn(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||Cu,i=Yc(t.getAttribute("formenctype"))||Yc(a.getAttribute("enctype"))||Au,s=new FormData(a,t),!CC()){let{name:u,type:h,value:f}=t;if(h==="image"){let c=u?`${u}.`:"";s.append(`${c}x`,"0"),s.append(`${c}y`,"0")}else u&&s.append(u,f)}}else{if(ec(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cu,n=null,i=Au,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RC(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Mn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function IC(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kC(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await IC(s,r);return o.links?o.links():[]}return[]}));return NC(n.flat(1).filter(MC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gy(t,e,r,n,i,s){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var h;return r[u].pathname!==l.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var f;let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let c=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function DC(t,e,{includeHydrateFallback:r}={}){return OC(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function OC(t){return[...new Set(t)]}function FC(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function NC(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(FC(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function f1(){let t=D.useContext(Io);return Wm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BC(){let t=D.useContext(Jh);return Wm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xm=D.createContext(void 0);Xm.displayName="FrameworkContext";function d1(){let t=D.useContext(Xm);return Wm(t,"You must render this element inside a <HydratedRouter> element"),t}function LC(t,e){let r=D.useContext(Xm),[n,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,c=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=_=>{_.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return c.current&&v.observe(c.current),()=>{v.disconnect()}}},[t]),D.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let d=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,c,{}]:[s,c,{onFocus:Wo(a,d),onBlur:Wo(l,p),onMouseEnter:Wo(u,d),onMouseLeave:Wo(h,p),onTouchStart:Wo(f,d)}]:[!1,c,{}]}function Wo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function UC({page:t,...e}){let{router:r}=f1(),n=D.useMemo(()=>t1(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?D.createElement(zC,{page:t,matches:n,...e}):null}function GC(t){let{manifest:e,routeModules:r}=d1(),[n,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return kC(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function zC({page:t,matches:e,...r}){let n=us(),{manifest:i,routeModules:s}=d1(),{basename:o}=f1(),{loaderData:a,matches:l}=BC(),u=D.useMemo(()=>Gy(t,e,l,i,n,"data"),[t,e,l,i,n]),h=D.useMemo(()=>Gy(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let p=new Set,m=!1;if(e.forEach(_=>{var g;let y=i.routes[_.route.id];!y||!y.hasLoader||(!u.some(x=>x.route.id===_.route.id)&&_.route.id in a&&((g=s[_.route.id])!=null&&g.shouldRevalidate)||y.hasClientLoader?m=!0:p.add(_.route.id))}),p.size===0)return[];let v=RC(t,o,"data");return m&&p.size>0&&v.searchParams.set("_routes",e.filter(_=>p.has(_.route.id)).map(_=>_.route.id).join(",")),[v.pathname+v.search]},[o,a,n,i,u,e,t,s]),c=D.useMemo(()=>DC(h,i),[h,i]),d=GC(h);return D.createElement(D.Fragment,null,f.map(p=>D.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),c.map(p=>D.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),d.map(({key:p,link:m})=>D.createElement("link",{key:p,...m})))}function $C(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var p1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p1&&(window.__reactRouterVersion="7.7.1")}catch{}function HC({basename:t,children:e,window:r}){let n=D.useRef();n.current==null&&(n.current=Ib({window:r,v5Compat:!0}));let i=n.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(vC,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var m1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ya=D.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...c},d){let{basename:p}=D.useContext(an),m=typeof u=="string"&&m1.test(u),v,_=!1;if(typeof u=="string"&&m&&(v=u,p1))try{let b=new URL(window.location.href),R=u.startsWith("//")?new URL(b.protocol+u):new URL(u),k=Mn(R.pathname,p);R.origin===b.origin&&k!=null?u=k+R.search+R.hash:_=!0}catch{nn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=nC(u,{relative:i}),[g,x,w]=LC(n,c),S=XC(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function E(b){e&&e(b),b.defaultPrevented||S(b)}let T=D.createElement("a",{...c,...w,href:v||y,onClick:_||s?e:E,ref:$C(d,x),target:l,"data-discover":!m&&r==="render"?"true":void 0});return g&&!m?D.createElement(D.Fragment,null,T,D.createElement(UC,{page:y})):T});Ya.displayName="Link";var VC=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let f=gl(o,{relative:u.relative}),c=us(),d=D.useContext(Jh),{navigator:p,basename:m}=D.useContext(an),v=d!=null&&ZC(f)&&a===!0,_=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=c.pathname,g=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(y=y.toLowerCase(),g=g?g.toLowerCase():null,_=_.toLowerCase()),g&&m&&(g=Mn(g,m)||g);const x=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let w=y===_||!i&&y.startsWith(_)&&y.charAt(x)==="/",S=g!=null&&(g===_||!i&&g.startsWith(_)&&g.charAt(_.length)==="/"),E={isActive:w,isPending:S,isTransitioning:v},T=w?e:void 0,b;typeof n=="function"?b=n(E):b=[n,w?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(E):s;return D.createElement(Ya,{...u,"aria-current":T,className:b,ref:h,style:R,to:o,viewTransition:a},typeof l=="function"?l(E):l)});VC.displayName="NavLink";var jC=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Cu,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...c},d)=>{let p=qC(),m=QC(a,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&m1.test(a),y=g=>{if(l&&l(g),g.defaultPrevented)return;g.preventDefault();let x=g.nativeEvent.submitter,w=(x==null?void 0:x.getAttribute("formmethod"))||o;p(x||g.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return D.createElement("form",{ref:d,method:v,action:m,onSubmit:n?l:y,...c,"data-discover":!_&&t==="render"?"true":void 0})});jC.displayName="Form";function WC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(t){let e=D.useContext(Io);return Ne(e,WC(t)),e}function XC(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=iC(),l=us(),u=gl(t,{relative:s});return D.useCallback(h=>{if(bC(h,e)){h.preventDefault();let f=r!==void 0?r:Xa(l)===Xa(u);a(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,r,n,e,t,i,s,o])}var YC=0,KC=()=>`__${String(++YC)}__`;function qC(){let{router:t}=g1("useSubmit"),{basename:e}=D.useContext(an),r=mC();return D.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=PC(n,e);if(i.navigate===!1){let h=i.fetcherKey||KC();await t.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function QC(t,{relative:e}={}){let{basename:r}=D.useContext(an),n=D.useContext(Nn);Ne(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...gl(t||".",{relative:e})},o=us();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:bn([r,s.pathname])),Xa(s)}function ZC(t,{relative:e}={}){let r=D.useContext(a1);Ne(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=g1("useViewTransitionState"),i=gl(t,{relative:e});if(!r.isTransitioning)return!1;let s=Mn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Mn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return hh(i.pathname,o)!=null||hh(i.pathname,s)!=null}var y1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zy=ti.createContext&&ti.createContext(y1),JC=["attr","size","title"];function eA(t,e){if(t==null)return{};var r=tA(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tA(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}function $y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$y(Object(r),!0).forEach(function(n){rA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rA(t,e,r){return e=nA(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nA(t){var e=iA(t,"string");return typeof e=="symbol"?e:e+""}function iA(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _1(t){return t&&t.map((e,r)=>ti.createElement(e.tag,fh({key:r},e.attr),_1(e.child)))}function sA(t){return e=>ti.createElement(oA,ch({attr:fh({},t.attr)},e),_1(t.child))}function oA(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=eA(t,JC),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),ti.createElement("svg",ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:fh(fh({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ti.createElement("title",null,s),t.children)};return zy!==void 0?ti.createElement(zy.Consumer,null,r=>e(r)):e(y1)}function aA(t){return sA({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m268 112 144 144-144 144m124-144H100"},child:[]}]})(t)}const lA=()=>ee.jsxs("div",{className:"app-buttons",children:[ee.jsxs(Ya,{to:"/game",className:"app-button app-button-play ",children:[ee.jsx("span",{className:"app-button-text",children:""}),ee.jsx(aA,{className:"app-button-icon"})]}),ee.jsx(Ya,{to:"/settings",className:"app-button app-button-settings",children:ee.jsx("span",{className:"app-button-text",children:""})})]}),uA=()=>ee.jsx("div",{className:"app-descr",children:ee.jsxs("div",{className:"app-descr-wrapper",children:[ee.jsx("h2",{className:"app-descr-title",children:"PointGem"}),ee.jsx("p",{className:"app-descr-text",children:"      !         ."}),ee.jsxs("div",{className:"app-descr-block",children:[ee.jsx("div",{className:"app-descr-pulse"}),ee.jsx("span",{className:"app-descr-number",children:"1,247"}),ee.jsx("span",{className:"app-descr-label",children:" "})]})]})}),hA=()=>ee.jsxs(ee.Fragment,{children:[ee.jsx(uA,{}),ee.jsx(lA,{})]});var hs=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(hs||{}),v1=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(v1||{}),Yd=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Yd||{}),te=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(te||{}),Qr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Qr||{}),U=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(U||{}),Qs=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Qs||{}),J=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(J||{}),Kd=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Kd||{}),wn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(wn||{}),hi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(hi||{}),sn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(sn||{}),Ur=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ur||{}),Xr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Xr||{}),Ym=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Ym||{}),ur=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(ur||{}),Je=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Je||{}),Xe=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Xe||{}),en=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(en||{});const cA={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},V={ADAPTER:cA,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Kc=/iPhone/i,Hy=/iPod/i,Vy=/iPad/i,jy=/\biOS-universal(?:.+)Mac\b/i,qc=/\bAndroid(?:.+)Mobile\b/i,Wy=/Android/i,ys=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Hl=/Silk/i,hn=/Windows Phone/i,Xy=/\bWindows(?:.+)ARM\b/i,Yy=/BlackBerry/i,Ky=/BB10/i,qy=/Opera Mini/i,Qy=/\b(CriOS|Chrome)(?:.+)Mobile/i,Zy=/Mobile(?:.+)Firefox\b/i,Jy=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function fA(t){return function(e){return e.test(t)}}function e_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=fA(r),s={apple:{phone:i(Kc)&&!i(hn),ipod:i(Hy),tablet:!i(Kc)&&(i(Vy)||Jy(e))&&!i(hn),universal:i(jy),device:(i(Kc)||i(Hy)||i(Vy)||i(jy)||Jy(e))&&!i(hn)},amazon:{phone:i(ys),tablet:!i(ys)&&i(Hl),device:i(ys)||i(Hl)},android:{phone:!i(hn)&&i(ys)||!i(hn)&&i(qc),tablet:!i(hn)&&!i(ys)&&!i(qc)&&(i(Hl)||i(Wy)),device:!i(hn)&&(i(ys)||i(Hl)||i(qc)||i(Wy))||i(/\bokhttp\b/i)},windows:{phone:i(hn),tablet:i(Xy),device:i(hn)||i(Xy)},other:{blackberry:i(Yy),blackberry10:i(Ky),opera:i(qy),firefox:i(Zy),chrome:i(Qy),device:i(Yy)||i(Ky)||i(qy)||i(Zy)||i(Qy)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const dA=e_.default??e_,En=dA(globalThis.navigator);V.RETINA_PREFIX=/@([0-9\.]+)x/;V.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var x1={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function s(l,u,h,f,c){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,f||l,c),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=r?r+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var c=0,d=f.length,p=new Array(d);c<d;c++)p[c]=f[c].fn;return p},a.prototype.listenerCount=function(u){var h=r?r+u:u,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,h,f,c,d,p){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],_=arguments.length,y,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,f),!0;case 4:return v.fn.call(v.context,h,f,c),!0;case 5:return v.fn.call(v.context,h,f,c,d),!0;case 6:return v.fn.call(v.context,h,f,c,d,p),!0}for(g=1,y=new Array(_-1);g<_;g++)y[g-1]=arguments[g];v.fn.apply(v.context,y)}else{var x=v.length,w;for(g=0;g<x;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,h);break;case 3:v[g].fn.call(v[g].context,h,f);break;case 4:v[g].fn.call(v[g].context,h,f,c);break;default:if(!y)for(w=1,y=new Array(_-1);w<_;w++)y[w-1]=arguments[w];v[g].fn.apply(v[g].context,y)}}return!0},a.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},a.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},a.prototype.removeListener=function(u,h,f,c){var d=r?r+u:u;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!c||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,v=[],_=p.length;m<_;m++)(p[m].fn!==h||c&&!p[m].once||f&&p[m].context!==f)&&v.push(p[m]);v.length?this._events[d]=v.length===1?v[0]:v:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(x1);var pA=x1.exports;const yl=Yp(pA);var Km={exports:{}};Km.exports=tc;Km.exports.default=tc;function tc(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=w1(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,h,f,c,d;if(n&&(s=vA(t,e,s,r)),t.length>80*r){a=u=t[0],l=h=t[1];for(var p=r;p<i;p+=r)f=t[p],c=t[p+1],f<a&&(a=f),c<l&&(l=c),f>u&&(u=f),c>h&&(h=c);d=Math.max(u-a,h-l),d=d!==0?32767/d:0}return Ka(s,o,r,a,l,d,0),o}function w1(t,e,r,n,i){var s,o;if(i===Zd(t,e,r,n)>0)for(s=e;s<r;s+=n)o=t_(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=t_(s,t[s],t[s+1],o);return o&&rc(o,o.next)&&(Qa(o),o=o.next),o}function rs(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(rc(r,r.next)||De(r.prev,r,r.next)===0)){if(Qa(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ka(t,e,r,n,i,s,o){if(t){!o&&s&&SA(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?gA(t,n,i,s):mA(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Qa(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=yA(rs(t),e,r),Ka(t,e,r,n,i,s,2)):o===2&&_A(t,e,r,n,i,s):Ka(rs(t),e,r,n,i,s,1);break}}}}function mA(t){var e=t.prev,r=t,n=t.next;if(De(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,c=i>s?i>o?i:o:s>o?s:o,d=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=h&&p.x<=c&&p.y>=f&&p.y<=d&&zs(i,a,s,l,o,u,p.x,p.y)&&De(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function gA(t,e,r,n){var i=t.prev,s=t,o=t.next;if(De(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,h=i.y,f=s.y,c=o.y,d=a<l?a<u?a:u:l<u?l:u,p=h<f?h<c?h:c:f<c?f:c,m=a>l?a>u?a:u:l>u?l:u,v=h>f?h>c?h:c:f>c?f:c,_=qd(d,p,e,r,n),y=qd(m,v,e,r,n),g=t.prevZ,x=t.nextZ;g&&g.z>=_&&x&&x.z<=y;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&zs(a,h,l,f,u,c,g.x,g.y)&&De(g.prev,g,g.next)>=0||(g=g.prevZ,x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&zs(a,h,l,f,u,c,x.x,x.y)&&De(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;g&&g.z>=_;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&zs(a,h,l,f,u,c,g.x,g.y)&&De(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&zs(a,h,l,f,u,c,x.x,x.y)&&De(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function yA(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!rc(i,s)&&E1(i,n,n.next,s)&&qa(i,s)&&qa(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Qa(n),Qa(n.next),n=t=s),n=n.next}while(n!==t);return rs(n)}function _A(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&AA(o,a)){var l=T1(o,a);o=rs(o,o.next),l=rs(l,l.next),Ka(o,e,r,n,i,s,0),Ka(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function vA(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=w1(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(CA(u));for(i.sort(xA),s=0;s<i.length;s++)r=wA(i[s],r);return r}function xA(t,e){return t.x-e.x}function wA(t,e){var r=EA(t,e);if(!r)return e;var n=T1(r,t);return rs(n,n.next),rs(r,r.next)}function EA(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,h=o.y,f=1/0,c;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&zs(i<h?n:s,i,u,h,i<h?s:n,i,r.x,r.y)&&(c=Math.abs(i-r.y)/(n-r.x),qa(r,t)&&(c<f||c===f&&(r.x>o.x||r.x===o.x&&TA(o,r)))&&(o=r,f=c)),r=r.next;while(r!==l);return o}function TA(t,e){return De(t.prev,t,e.prev)<0&&De(e.next,t,t.next)<0}function SA(t,e,r,n){var i=t;do i.z===0&&(i.z=qd(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,bA(i)}function bA(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function qd(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function CA(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function zs(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function AA(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!PA(t,e)&&(qa(t,e)&&qa(e,t)&&RA(t,e)&&(De(t.prev,t,e.prev)||De(t,e.prev,e))||rc(t,e)&&De(t.prev,t,t.next)>0&&De(e.prev,e,e.next)>0)}function De(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function rc(t,e){return t.x===e.x&&t.y===e.y}function E1(t,e,r,n){var i=jl(De(t,e,r)),s=jl(De(t,e,n)),o=jl(De(r,n,t)),a=jl(De(r,n,e));return!!(i!==s&&o!==a||i===0&&Vl(t,r,e)||s===0&&Vl(t,n,e)||o===0&&Vl(r,t,n)||a===0&&Vl(r,e,n))}function Vl(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function jl(t){return t>0?1:t<0?-1:0}function PA(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&E1(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function qa(t,e){return De(t.prev,t,t.next)<0?De(t,e,t.next)>=0&&De(t,t.prev,e)>=0:De(t,e,t.prev)<0||De(t,t.next,e)<0}function RA(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function T1(t,e){var r=new Qd(t.i,t.x,t.y),n=new Qd(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function t_(t,e,r,n){var i=new Qd(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Qa(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Qd(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}tc.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Zd(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Zd(t,u,h,r))}var f=0;for(a=0;a<n.length;a+=3){var c=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;f+=Math.abs((t[c]-t[p])*(t[d+1]-t[c+1])-(t[c]-t[d])*(t[p+1]-t[c+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Zd(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}tc.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var IA=Km.exports;const MA=Yp(IA);var dh={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */dh.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof ca=="object"&&ca;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,h=26,f=38,c=700,d=72,p=128,m="-",v=/^xn--/,_=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,w=Math.floor,S=String.fromCharCode,E;function T(A){throw new RangeError(g[A])}function b(A,H){for(var K=A.length,oe=[];K--;)oe[K]=H(A[K]);return oe}function R(A,H){var K=A.split("@"),oe="";K.length>1&&(oe=K[0]+"@",A=K[1]),A=A.replace(y,".");var ne=A.split("."),pe=b(ne,H).join(".");return oe+pe}function k(A){for(var H=[],K=0,oe=A.length,ne,pe;K<oe;)ne=A.charCodeAt(K++),ne>=55296&&ne<=56319&&K<oe?(pe=A.charCodeAt(K++),(pe&64512)==56320?H.push(((ne&1023)<<10)+(pe&1023)+65536):(H.push(ne),K--)):H.push(ne);return H}function N(A){return b(A,function(H){var K="";return H>65535&&(H-=65536,K+=S(H>>>10&1023|55296),H=56320|H&1023),K+=S(H),K}).join("")}function I(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:l}function P(A,H){return A+22+75*(A<26)-((H!=0)<<5)}function $(A,H,K){var oe=0;for(A=K?w(A/c):A>>1,A+=w(A/H);A>x*h>>1;oe+=l)A=w(A/x);return w(oe+(x+1)*A/(A+f))}function X(A){var H=[],K=A.length,oe,ne=0,pe=p,me=d,xe,qe,gt,We,we,Re,$e,rr,C;for(xe=A.lastIndexOf(m),xe<0&&(xe=0),qe=0;qe<xe;++qe)A.charCodeAt(qe)>=128&&T("not-basic"),H.push(A.charCodeAt(qe));for(gt=xe>0?xe+1:0;gt<K;){for(We=ne,we=1,Re=l;gt>=K&&T("invalid-input"),$e=I(A.charCodeAt(gt++)),($e>=l||$e>w((a-ne)/we))&&T("overflow"),ne+=$e*we,rr=Re<=me?u:Re>=me+h?h:Re-me,!($e<rr);Re+=l)C=l-rr,we>w(a/C)&&T("overflow"),we*=C;oe=H.length+1,me=$(ne-We,oe,We==0),w(ne/oe)>a-pe&&T("overflow"),pe+=w(ne/oe),ne%=oe,H.splice(ne++,0,pe)}return N(H)}function F(A){var H,K,oe,ne,pe,me,xe,qe,gt,We,we,Re=[],$e,rr,C,M;for(A=k(A),$e=A.length,H=p,K=0,pe=d,me=0;me<$e;++me)we=A[me],we<128&&Re.push(S(we));for(oe=ne=Re.length,ne&&Re.push(m);oe<$e;){for(xe=a,me=0;me<$e;++me)we=A[me],we>=H&&we<xe&&(xe=we);for(rr=oe+1,xe-H>w((a-K)/rr)&&T("overflow"),K+=(xe-H)*rr,H=xe,me=0;me<$e;++me)if(we=A[me],we<H&&++K>a&&T("overflow"),we==H){for(qe=K,gt=l;We=gt<=pe?u:gt>=pe+h?h:gt-pe,!(qe<We);gt+=l)M=qe-We,C=l-We,Re.push(S(P(We+M%C,0))),qe=w(M/C);Re.push(S(P(qe,0))),pe=$(K,rr,oe==ne),K=0,++oe}++K,++H}return Re.join("")}function O(A){return R(A,function(H){return v.test(H)?X(H.slice(4).toLowerCase()):H})}function z(A){return R(A,function(H){return _.test(H)?"xn--"+F(H):H})}if(o={version:"1.4.1",ucs2:{decode:k,encode:N},decode:X,encode:F,toASCII:z,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(ca)})(dh,dh.exports);var kA=dh.exports,Mo=TypeError;const DA={},OA=Object.freeze(Object.defineProperty({__proto__:null,default:DA},Symbol.toStringTag,{value:"Module"})),FA=nT(OA);var qm=typeof Map=="function"&&Map.prototype,Qc=Object.getOwnPropertyDescriptor&&qm?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ph=qm&&Qc&&typeof Qc.get=="function"?Qc.get:null,r_=qm&&Map.prototype.forEach,Qm=typeof Set=="function"&&Set.prototype,Zc=Object.getOwnPropertyDescriptor&&Qm?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,mh=Qm&&Zc&&typeof Zc.get=="function"?Zc.get:null,n_=Qm&&Set.prototype.forEach,NA=typeof WeakMap=="function"&&WeakMap.prototype,wa=NA?WeakMap.prototype.has:null,BA=typeof WeakSet=="function"&&WeakSet.prototype,Ea=BA?WeakSet.prototype.has:null,LA=typeof WeakRef=="function"&&WeakRef.prototype,i_=LA?WeakRef.prototype.deref:null,UA=Boolean.prototype.valueOf,GA=Object.prototype.toString,zA=Function.prototype.toString,$A=String.prototype.match,Zm=String.prototype.slice,Kn=String.prototype.replace,HA=String.prototype.toUpperCase,s_=String.prototype.toLowerCase,S1=RegExp.prototype.test,o_=Array.prototype.concat,Yr=Array.prototype.join,VA=Array.prototype.slice,a_=Math.floor,Jd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jc=Object.getOwnPropertySymbols,ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,mo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ta=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===mo||!0)?Symbol.toStringTag:null,b1=Object.prototype.propertyIsEnumerable,l_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function u_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||S1.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-a_(-t):a_(t);if(n!==t){var i=String(n),s=Zm.call(e,i.length+1);return Kn.call(i,r,"$&_")+"."+Kn.call(Kn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Kn.call(e,r,"$&_")}var tp=FA,h_=tp.custom,c_=P1(h_)?h_:null,C1={__proto__:null,double:'"',single:"'"},jA={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},nc=function t(e,r,n,i){var s=r||{};if(pn(s,"quoteStyle")&&!pn(C1,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=pn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return I1(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?u_(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?u_(e,u):u}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return rp(e)?"[Array]":"[Object]";var f=uP(s,n);if(typeof i>"u")i=[];else if(R1(i,e)>=0)return"[Circular]";function c(I,P,$){if(P&&(i=VA.call(i),i.push(P)),$){var X={depth:s.depth};return pn(s,"quoteStyle")&&(X.quoteStyle=s.quoteStyle),t(I,X,n+1,i)}return t(I,s,n+1,i)}if(typeof e=="function"&&!f_(e)){var d=eP(e),p=Wl(e,c);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Yr.call(p,", ")+" }":"")}if(P1(e)){var m=mo?Kn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ep.call(e);return typeof e=="object"&&!mo?Xo(m):m}if(oP(e)){for(var v="<"+s_.call(String(e.nodeName)),_=e.attributes||[],y=0;y<_.length;y++)v+=" "+_[y].name+"="+A1(WA(_[y].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+s_.call(String(e.nodeName))+">",v}if(rp(e)){if(e.length===0)return"[]";var g=Wl(e,c);return f&&!lP(g)?"["+np(g,f)+"]":"[ "+Yr.call(g,", ")+" ]"}if(YA(e)){var x=Wl(e,c);return!("cause"in Error.prototype)&&"cause"in e&&!b1.call(e,"cause")?"{ ["+String(e)+"] "+Yr.call(o_.call("[cause]: "+c(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Yr.call(x,", ")+" }"}if(typeof e=="object"&&o){if(c_&&typeof e[c_]=="function"&&tp)return tp(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(tP(e)){var w=[];return r_&&r_.call(e,function(I,P){w.push(c(P,e,!0)+" => "+c(I,e))}),d_("Map",ph.call(e),w,f)}if(iP(e)){var S=[];return n_&&n_.call(e,function(I){S.push(c(I,e))}),d_("Set",mh.call(e),S,f)}if(rP(e))return ef("WeakMap");if(sP(e))return ef("WeakSet");if(nP(e))return ef("WeakRef");if(qA(e))return Xo(c(Number(e)));if(ZA(e))return Xo(c(Jd.call(e)));if(QA(e))return Xo(UA.call(e));if(KA(e))return Xo(c(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof ca<"u"&&e===ca)return"{ [object globalThis] }";if(!XA(e)&&!f_(e)){var E=Wl(e,c),T=l_?l_(e)===Object.prototype:e instanceof Object||e.constructor===Object,b=e instanceof Object?"":"null prototype",R=!T&&Ta&&Object(e)===e&&Ta in e?Zm.call(Ti(e),8,-1):b?"Object":"",k=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",N=k+(R||b?"["+Yr.call(o_.call([],R||[],b||[]),": ")+"] ":"");return E.length===0?N+"{}":f?N+"{"+np(E,f)+"}":N+"{ "+Yr.call(E,", ")+" }"}return String(e)};function A1(t,e,r){var n=r.quoteStyle||e,i=C1[n];return i+t+i}function WA(t){return Kn.call(String(t),/"/g,"&quot;")}function cs(t){return!Ta||!(typeof t=="object"&&(Ta in t||typeof t[Ta]<"u"))}function rp(t){return Ti(t)==="[object Array]"&&cs(t)}function XA(t){return Ti(t)==="[object Date]"&&cs(t)}function f_(t){return Ti(t)==="[object RegExp]"&&cs(t)}function YA(t){return Ti(t)==="[object Error]"&&cs(t)}function KA(t){return Ti(t)==="[object String]"&&cs(t)}function qA(t){return Ti(t)==="[object Number]"&&cs(t)}function QA(t){return Ti(t)==="[object Boolean]"&&cs(t)}function P1(t){if(mo)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ep)return!1;try{return ep.call(t),!0}catch{}return!1}function ZA(t){if(!t||typeof t!="object"||!Jd)return!1;try{return Jd.call(t),!0}catch{}return!1}var JA=Object.prototype.hasOwnProperty||function(t){return t in this};function pn(t,e){return JA.call(t,e)}function Ti(t){return GA.call(t)}function eP(t){if(t.name)return t.name;var e=$A.call(zA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function R1(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function tP(t){if(!ph||!t||typeof t!="object")return!1;try{ph.call(t);try{mh.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function rP(t){if(!wa||!t||typeof t!="object")return!1;try{wa.call(t,wa);try{Ea.call(t,Ea)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function nP(t){if(!i_||!t||typeof t!="object")return!1;try{return i_.call(t),!0}catch{}return!1}function iP(t){if(!mh||!t||typeof t!="object")return!1;try{mh.call(t);try{ph.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function sP(t){if(!Ea||!t||typeof t!="object")return!1;try{Ea.call(t,Ea);try{wa.call(t,wa)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function oP(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function I1(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return I1(Zm.call(t,0,e.maxStringLength),e)+n}var i=jA[e.quoteStyle||"single"];i.lastIndex=0;var s=Kn.call(Kn.call(t,i,"\\$1"),/[\x00-\x1f]/g,aP);return A1(s,"single",e)}function aP(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+HA.call(e.toString(16))}function Xo(t){return"Object("+t+")"}function ef(t){return t+" { ? }"}function d_(t,e,r,n){var i=n?np(r,n):Yr.call(r,", ");return t+" ("+e+") {"+i+"}"}function lP(t){for(var e=0;e<t.length;e++)if(R1(t[e],`
`)>=0)return!1;return!0}function uP(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Yr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Yr.call(Array(e+1),r)}}function np(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Yr.call(t,","+r)+`
`+e.prev}function Wl(t,e){var r=rp(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=pn(t,i)?e(t[i],t):""}var s=typeof Jc=="function"?Jc(t):[],o;if(mo){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)pn(t,l)&&(r&&String(Number(l))===l&&l<t.length||mo&&o["$"+l]instanceof Symbol||(S1.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof Jc=="function")for(var u=0;u<s.length;u++)b1.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var hP=nc,cP=Mo,ic=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},fP=function(t,e){if(t){var r=ic(t,e);return r&&r.value}},dP=function(t,e,r){var n=ic(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},pP=function(t,e){return t?!!ic(t,e):!1},mP=function(t,e){if(t)return ic(t,e,!0)},gP=function(){var e,r={assert:function(n){if(!r.has(n))throw new cP("Side channel does not contain "+hP(n))},delete:function(n){var i=e&&e.next,s=mP(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return fP(e,n)},has:function(n){return pP(e,n)},set:function(n,i){e||(e={next:void 0}),dP(e,n,i)}};return r},M1=Object,yP=Error,_P=EvalError,vP=RangeError,xP=ReferenceError,wP=SyntaxError,EP=URIError,TP=Math.abs,SP=Math.floor,bP=Math.max,CP=Math.min,AP=Math.pow,PP=Math.round,RP=Number.isNaN||function(e){return e!==e},IP=RP,MP=function(e){return IP(e)||e===0?e:e<0?-1:1},kP=Object.getOwnPropertyDescriptor,Pu=kP;if(Pu)try{Pu([],"length")}catch{Pu=null}var k1=Pu,Ru=Object.defineProperty||!1;if(Ru)try{Ru({},"a",{value:1})}catch{Ru=!1}var DP=Ru,tf,p_;function OP(){return p_||(p_=1,tf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),tf}var rf,m_;function FP(){if(m_)return rf;m_=1;var t=typeof Symbol<"u"&&Symbol,e=OP();return rf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},rf}var nf,g_;function D1(){return g_||(g_=1,nf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),nf}var sf,y_;function O1(){if(y_)return sf;y_=1;var t=M1;return sf=t.getPrototypeOf||null,sf}var of,__;function NP(){if(__)return of;__=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var h=[],f=0;f<l.length;f+=1)h[f]=l[f];for(var c=0;c<u.length;c+=1)h[c+l.length]=u[c];return h},s=function(l,u){for(var h=[],f=u,c=0;f<l.length;f+=1,c+=1)h[c]=l[f];return h},o=function(a,l){for(var u="",h=0;h<a.length;h+=1)u+=a[h],h+1<a.length&&(u+=l);return u};return of=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var h=s(arguments,1),f,c=function(){if(this instanceof f){var _=u.apply(this,i(h,arguments));return Object(_)===_?_:this}return u.apply(l,i(h,arguments))},d=r(0,u.length-h.length),p=[],m=0;m<d;m++)p[m]="$"+m;if(f=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(c),u.prototype){var v=function(){};v.prototype=u.prototype,f.prototype=new v,v.prototype=null}return f},of}var af,v_;function sc(){if(v_)return af;v_=1;var t=NP();return af=Function.prototype.bind||t,af}var lf,x_;function Jm(){return x_||(x_=1,lf=Function.prototype.call),lf}var uf,w_;function F1(){return w_||(w_=1,uf=Function.prototype.apply),uf}var BP=typeof Reflect<"u"&&Reflect&&Reflect.apply,LP=sc(),UP=F1(),GP=Jm(),zP=BP,$P=zP||LP.call(GP,UP),HP=sc(),VP=Mo,jP=Jm(),WP=$P,N1=function(e){if(e.length<1||typeof e[0]!="function")throw new VP("a function is required");return WP(HP,jP,e)},hf,E_;function XP(){if(E_)return hf;E_=1;var t=N1,e=k1,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return hf=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,hf}var cf,T_;function YP(){if(T_)return cf;T_=1;var t=D1(),e=O1(),r=XP();return cf=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,cf}var ff,S_;function KP(){if(S_)return ff;S_=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=sc();return ff=r.call(t,e),ff}var le,qP=M1,QP=yP,ZP=_P,JP=vP,eR=xP,go=wP,Zs=Mo,tR=EP,rR=TP,nR=SP,iR=bP,sR=CP,oR=AP,aR=PP,lR=MP,B1=Function,df=function(t){try{return B1('"use strict"; return ('+t+").constructor;")()}catch{}},Za=k1,uR=DP,pf=function(){throw new Zs},hR=Za?function(){try{return arguments.callee,pf}catch{try{return Za(arguments,"callee").get}catch{return pf}}}():pf,_s=FP()(),nt=YP(),cR=O1(),fR=D1(),L1=F1(),_l=Jm(),Ts={},dR=typeof Uint8Array>"u"||!nt?le:nt(Uint8Array),Wi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":_s&&nt?nt([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":Ts,"%AsyncGenerator%":Ts,"%AsyncGeneratorFunction%":Ts,"%AsyncIteratorPrototype%":Ts,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":QP,"%eval%":eval,"%EvalError%":ZP,"%Float16Array%":typeof Float16Array>"u"?le:Float16Array,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":B1,"%GeneratorFunction%":Ts,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_s&&nt?nt(nt([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_s||!nt?le:nt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":qP,"%Object.getOwnPropertyDescriptor%":Za,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":JP,"%ReferenceError%":eR,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_s||!nt?le:nt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_s&&nt?nt(""[Symbol.iterator]()):le,"%Symbol%":_s?Symbol:le,"%SyntaxError%":go,"%ThrowTypeError%":hR,"%TypedArray%":dR,"%TypeError%":Zs,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":tR,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet,"%Function.prototype.call%":_l,"%Function.prototype.apply%":L1,"%Object.defineProperty%":uR,"%Object.getPrototypeOf%":cR,"%Math.abs%":rR,"%Math.floor%":nR,"%Math.max%":iR,"%Math.min%":sR,"%Math.pow%":oR,"%Math.round%":aR,"%Math.sign%":lR,"%Reflect.getPrototypeOf%":fR};if(nt)try{null.error}catch(t){var pR=nt(nt(t));Wi["%Error.prototype%"]=pR}var mR=function t(e){var r;if(e==="%AsyncFunction%")r=df("async function () {}");else if(e==="%GeneratorFunction%")r=df("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=df("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&nt&&(r=nt(i.prototype))}return Wi[e]=r,r},b_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vl=sc(),gh=KP(),gR=vl.call(_l,Array.prototype.concat),yR=vl.call(L1,Array.prototype.splice),C_=vl.call(_l,String.prototype.replace),yh=vl.call(_l,String.prototype.slice),_R=vl.call(_l,RegExp.prototype.exec),vR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xR=/\\(\\)?/g,wR=function(e){var r=yh(e,0,1),n=yh(e,-1);if(r==="%"&&n!=="%")throw new go("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new go("invalid intrinsic syntax, expected opening `%`");var i=[];return C_(e,vR,function(s,o,a,l){i[i.length]=a?C_(l,xR,"$1"):o||s}),i},ER=function(e,r){var n=e,i;if(gh(b_,n)&&(i=b_[n],n="%"+i[0]+"%"),gh(Wi,n)){var s=Wi[n];if(s===Ts&&(s=mR(n)),typeof s>"u"&&!r)throw new Zs("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new go("intrinsic "+e+" does not exist!")},eg=function(e,r){if(typeof e!="string"||e.length===0)throw new Zs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zs('"allowMissing" argument must be a boolean');if(_R(/^%?[^%]*%?$/,e)===null)throw new go("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wR(e),i=n.length>0?n[0]:"",s=ER("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],yR(n,gR([0,1],u)));for(var h=1,f=!0;h<n.length;h+=1){var c=n[h],d=yh(c,0,1),p=yh(c,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new go("property names with quotes must have matching quotes");if((c==="constructor"||!f)&&(l=!0),i+="."+c,o="%"+i+"%",gh(Wi,o))a=Wi[o];else if(a!=null){if(!(c in a)){if(!r)throw new Zs("base intrinsic for "+e+" exists, but the property is not available.");return}if(Za&&h+1>=n.length){var m=Za(a,c);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[c]}else f=gh(a,c),a=a[c];f&&!l&&(Wi[o]=a)}}return a},U1=eg,G1=N1,TR=G1([U1("%String.prototype.indexOf%")]),z1=function(e,r){var n=U1(e,!!r);return typeof n=="function"&&TR(e,".prototype.")>-1?G1([n]):n},SR=eg,xl=z1,bR=nc,CR=Mo,A_=SR("%Map%",!0),AR=xl("Map.prototype.get",!0),PR=xl("Map.prototype.set",!0),RR=xl("Map.prototype.has",!0),IR=xl("Map.prototype.delete",!0),MR=xl("Map.prototype.size",!0),$1=!!A_&&function(){var e,r={assert:function(n){if(!r.has(n))throw new CR("Side channel does not contain "+bR(n))},delete:function(n){if(e){var i=IR(e,n);return MR(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return AR(e,n)},has:function(n){return e?RR(e,n):!1},set:function(n,i){e||(e=new A_),PR(e,n,i)}};return r},kR=eg,oc=z1,DR=nc,Xl=$1,OR=Mo,vs=kR("%WeakMap%",!0),FR=oc("WeakMap.prototype.get",!0),NR=oc("WeakMap.prototype.set",!0),BR=oc("WeakMap.prototype.has",!0),LR=oc("WeakMap.prototype.delete",!0),UR=vs?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new OR("Side channel does not contain "+DR(i))},delete:function(i){if(vs&&i&&(typeof i=="object"||typeof i=="function")){if(e)return LR(e,i)}else if(Xl&&r)return r.delete(i);return!1},get:function(i){return vs&&i&&(typeof i=="object"||typeof i=="function")&&e?FR(e,i):r&&r.get(i)},has:function(i){return vs&&i&&(typeof i=="object"||typeof i=="function")&&e?BR(e,i):!!r&&r.has(i)},set:function(i,s){vs&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new vs),NR(e,i,s)):Xl&&(r||(r=Xl()),r.set(i,s))}};return n}:Xl,GR=Mo,zR=nc,$R=gP,HR=$1,VR=UR,jR=VR||HR||$R,WR=function(){var e,r={assert:function(n){if(!r.has(n))throw new GR("Side channel does not contain "+zR(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=jR()),e.set(n,i)}};return r},XR=String.prototype.replace,YR=/%20/g,mf={RFC1738:"RFC1738",RFC3986:"RFC3986"},tg={default:mf.RFC3986,formatters:{RFC1738:function(t){return XR.call(t,YR,"+")},RFC3986:function(t){return String(t)}},RFC1738:mf.RFC1738,RFC3986:mf.RFC3986},KR=tg,gf=Object.prototype.hasOwnProperty,Li=Array.isArray,$r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),qR=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Li(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},H1=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},QR=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Li(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!gf.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Li(e)&&!Li(r)&&(i=H1(e,n)),Li(e)&&Li(r)?(r.forEach(function(s,o){if(gf.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return gf.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},ZR=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},JR=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},yf=1024,eI=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=yf){for(var u=o.length>=yf?o.slice(l,l+yf):o,h=[],f=0;f<u.length;++f){var c=u.charCodeAt(f);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===KR.RFC1738&&(c===40||c===41)){h[h.length]=u.charAt(f);continue}if(c<128){h[h.length]=$r[c];continue}if(c<2048){h[h.length]=$r[192|c>>6]+$r[128|c&63];continue}if(c<55296||c>=57344){h[h.length]=$r[224|c>>12]+$r[128|c>>6&63]+$r[128|c&63];continue}f+=1,c=65536+((c&1023)<<10|u.charCodeAt(f)&1023),h[h.length]=$r[240|c>>18]+$r[128|c>>12&63]+$r[128|c>>6&63]+$r[128|c&63]}a+=h.join("")}return a},tI=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return qR(r),e},rI=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},nI=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},iI=function(e,r){return[].concat(e,r)},sI=function(e,r){if(Li(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},V1={arrayToObject:H1,assign:ZR,combine:iI,compact:tI,decode:JR,encode:eI,isBuffer:nI,isRegExp:rI,maybeMap:sI,merge:QR},j1=WR,Iu=V1,Sa=tg,oI=Object.prototype.hasOwnProperty,W1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Wr=Array.isArray,aI=Array.prototype.push,X1=function(t,e){aI.apply(t,Wr(e)?e:[e])},lI=Date.prototype.toISOString,P_=Sa.default,Ze={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Iu.encode,encodeValuesOnly:!1,filter:void 0,format:P_,formatter:Sa.formatters[P_],indices:!1,serializeDate:function(e){return lI.call(e)},skipNulls:!1,strictNullHandling:!1},uI=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},_f={},hI=function t(e,r,n,i,s,o,a,l,u,h,f,c,d,p,m,v,_,y){for(var g=e,x=y,w=0,S=!1;(x=x.get(_f))!==void 0&&!S;){var E=x.get(e);if(w+=1,typeof E<"u"){if(E===w)throw new RangeError("Cyclic object value");S=!0}typeof x.get(_f)>"u"&&(w=0)}if(typeof h=="function"?g=h(r,g):g instanceof Date?g=d(g):n==="comma"&&Wr(g)&&(g=Iu.maybeMap(g,function(A){return A instanceof Date?d(A):A})),g===null){if(o)return u&&!v?u(r,Ze.encoder,_,"key",p):r;g=""}if(uI(g)||Iu.isBuffer(g)){if(u){var T=v?r:u(r,Ze.encoder,_,"key",p);return[m(T)+"="+m(u(g,Ze.encoder,_,"value",p))]}return[m(r)+"="+m(String(g))]}var b=[];if(typeof g>"u")return b;var R;if(n==="comma"&&Wr(g))v&&u&&(g=Iu.maybeMap(g,u)),R=[{value:g.length>0?g.join(",")||null:void 0}];else if(Wr(h))R=h;else{var k=Object.keys(g);R=f?k.sort(f):k}var N=l?String(r).replace(/\./g,"%2E"):String(r),I=i&&Wr(g)&&g.length===1?N+"[]":N;if(s&&Wr(g)&&g.length===0)return I+"[]";for(var P=0;P<R.length;++P){var $=R[P],X=typeof $=="object"&&$&&typeof $.value<"u"?$.value:g[$];if(!(a&&X===null)){var F=c&&l?String($).replace(/\./g,"%2E"):String($),O=Wr(g)?typeof n=="function"?n(I,F):I:I+(c?"."+F:"["+F+"]");y.set(e,w);var z=j1();z.set(_f,y),X1(b,t(X,O,n,i,s,o,a,l,n==="comma"&&v&&Wr(g)?null:u,h,f,c,d,p,m,v,_,z))}}return b},cI=function(e){if(!e)return Ze;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ze.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Sa.default;if(typeof e.format<"u"){if(!oI.call(Sa.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Sa.formatters[n],s=Ze.filter;(typeof e.filter=="function"||Wr(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in W1?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Ze.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ze.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ze.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ze.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ze.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ze.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ze.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ze.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ze.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ze.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ze.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ze.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ze.strictNullHandling}},fI=function(t,e){var r=t,n=cI(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Wr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=W1[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=j1(),h=0;h<i.length;++h){var f=i[h],c=r[f];n.skipNulls&&c===null||X1(o,hI(c,f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},ns=V1,ip=Object.prototype.hasOwnProperty,R_=Array.isArray,Ue={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ns.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},dI=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Y1=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},pI="utf8=%26%2310003%3B",mI="utf8=%E2%9C%93",gI=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===mI?u="utf-8":o[l]===pI&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],f=h.indexOf("]="),c=f===-1?h.indexOf("="):f+1,d,p;c===-1?(d=r.decoder(h,Ue.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,c),Ue.decoder,u,"key"),p=ns.maybeMap(Y1(h.slice(c+1),r,R_(n[d])?n[d].length:0),function(v){return r.decoder(v,Ue.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=dI(String(p))),h.indexOf("[]=")>-1&&(p=R_(p)?[p]:p);var m=ip.call(n,d);m&&r.duplicates==="combine"?n[d]=ns.combine(n[d],p):(!m||r.duplicates==="last")&&(n[d]=p)}return n},yI=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:Y1(e,r,i),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:ns.combine([],o);else{l=r.plainObjects?{__proto__:null}:{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,c=parseInt(f,10);!r.parseArrays&&f===""?l={0:o}:!isNaN(c)&&u!==f&&String(c)===f&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(l=[],l[c]=o):f!=="__proto__"&&(l[f]=o)}o=l}return o},_I=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,h=[];if(u){if(!n.plainObjects&&ip.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var f=0;n.depth>0&&(l=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&ip.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+s.slice(l.index)+"]")}return yI(h,r,n,i)}},vI=function(e){if(!e)return Ue;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Ue.charset:e.charset,n=typeof e.duplicates>"u"?Ue.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ue.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ue.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ue.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ue.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ue.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ue.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ue.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ue.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ue.decoder,delimiter:typeof e.delimiter=="string"||ns.isRegExp(e.delimiter)?e.delimiter:Ue.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ue.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ue.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ue.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ue.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ue.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ue.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},xI=function(t,e){var r=vI(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?gI(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=_I(a,n[a],r,typeof t=="string");i=ns.merge(i,l,r)}return r.allowSparse===!0?i:ns.compact(i)},wI=fI,EI=xI,TI=tg,SI={formats:TI,parse:EI,stringify:wI},bI=kA;function Or(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var CI=/^([a-z0-9.+-]+:)/i,AI=/:[0-9]*$/,PI=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,RI=["<",">",'"',"`"," ","\r",`
`,"	"],II=["{","}","|","\\","^","`"].concat(RI),sp=["'"].concat(II),I_=["%","/","?",";","#"].concat(sp),M_=["/","?","#"],MI=255,k_=/^[+a-z0-9A-Z_-]{0,63}$/,kI=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,DI={javascript:!0,"javascript:":!0},op={javascript:!0,"javascript:":!0},Js={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ap=SI;function ac(t,e,r){if(t&&typeof t=="object"&&t instanceof Or)return t;var n=new Or;return n.parse(t,e,r),n}Or.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=PI.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=ap.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=CI.exec(a);if(u){u=u[0];var h=u.toLowerCase();this.protocol=h,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&op[u])&&(a=a.substr(2),this.slashes=!0)}if(!op[u]&&(f||u&&!Js[u])){for(var c=-1,d=0;d<M_.length;d++){var p=a.indexOf(M_[d]);p!==-1&&(c===-1||p<c)&&(c=p)}var m,v;c===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",c),v!==-1&&(m=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(m)),c=-1;for(var d=0;d<I_.length;d++){var p=a.indexOf(I_[d]);p!==-1&&(c===-1||p<c)&&(c=p)}c===-1&&(c=a.length),this.host=a.slice(0,c),a=a.slice(c),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var y=this.hostname.split(/\./),d=0,g=y.length;d<g;d++){var x=y[d];if(x&&!x.match(k_)){for(var w="",S=0,E=x.length;S<E;S++)x.charCodeAt(S)>127?w+="x":w+=x[S];if(!w.match(k_)){var T=y.slice(0,d),b=y.slice(d+1),R=x.match(kI);R&&(T.push(R[1]),b.unshift(R[2])),b.length&&(a="/"+b.join(".")+a),this.hostname=T.join(".");break}}}this.hostname.length>MI?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=bI.toASCII(this.hostname));var k=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+k,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!DI[h])for(var d=0,g=sp.length;d<g;d++){var I=sp[d];if(a.indexOf(I)!==-1){var P=encodeURIComponent(I);P===I&&(P=escape(I)),a=a.split(I).join(P)}}var $=a.indexOf("#");$!==-1&&(this.hash=a.substr($),a=a.slice(0,$));var X=a.indexOf("?");if(X!==-1?(this.search=a.substr(X),this.query=a.substr(X+1),e&&(this.query=ap.parse(this.query)),a=a.slice(0,X)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Js[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var k=this.pathname||"",F=this.search||"";this.path=k+F}return this.href=this.format(),this};function OI(t){return typeof t=="string"&&(t=ac(t)),t instanceof Or?t.format():Or.prototype.format.call(t)}Or.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=ap.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Js[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function FI(t,e){return ac(t,!1,!0).resolve(e)}Or.prototype.resolve=function(t){return this.resolveObject(ac(t,!1,!0)).format()};Or.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Or;e.parse(t,!1,!0),t=e}for(var r=new Or,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Js[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Js[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var f=u[h];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!op[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var c=r.pathname||"",d=r.search||"";r.path=c+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=m||p||r.host&&t.pathname,_=v,y=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Js[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),v=v&&(g[0]===""||y[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=g;else if(g.length)y||(y=[]),y.pop(),y=y.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=y.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=y.slice(-1)[0],E=(r.host||t.host||y.length>1)&&(S==="."||S==="..")||S==="",T=0,b=y.length;b>=0;b--)S=y[b],S==="."?y.splice(b,1):S===".."?(y.splice(b,1),T++):T&&(y.splice(b,1),T--);if(!v&&!_)for(;T--;T)y.unshift("..");v&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),E&&y.join("/").substr(-1)!=="/"&&y.push("");var R=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){r.hostname=R?"":y.length?y.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return v=v||r.host&&y.length,v&&!R&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Or.prototype.parseHost=function(){var t=this.host,e=AI.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var NI=ac,BI=FI,LI=OI;const UI={parse:NI,format:LI,resolve:BI};function xr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Yo(t){return t.split("?")[0].split("#")[0]}function GI(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zI(t,e,r){return t.replace(new RegExp(GI(e),"g"),r)}function $I(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Et={toPosix(t){return zI(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){xr(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Yo(this.toPosix(e??V.ADAPTER.getBaseUrl())),i=Yo(this.toPosix(r??this.rootname(n)));return xr(t),t=this.toPosix(t),t.startsWith("/")?Et.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),xr(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=$I(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return xr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(xr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(xr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){xr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){xr(t),e&&xr(e),t=Yo(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){xr(t),t=Yo(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){xr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Yo(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,h=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},D_={};function he(t,e,r=3){if(D_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),D_[e]=!0}let vf;function K1(){return typeof vf>"u"&&(vf=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:V.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!V.ADAPTER.getWebGLRenderingContext())return!1;const n=V.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),vf}var HI={grad:.9,turn:360,rad:360/(2*Math.PI)},cn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},st=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},hr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},q1=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},O_=function(t){return{r:hr(t.r,0,255),g:hr(t.g,0,255),b:hr(t.b,0,255),a:hr(t.a)}},xf=function(t){return{r:st(t.r),g:st(t.g),b:st(t.b),a:st(t.a,3)}},VI=/^#([0-9a-f]{3,8})$/i,Yl=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Q1=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Z1=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},F_=function(t){return{h:q1(t.h),s:hr(t.s,0,100),l:hr(t.l,0,100),a:hr(t.a)}},N_=function(t){return{h:st(t.h),s:st(t.s),l:st(t.l),a:st(t.a,3)}},B_=function(t){return Z1((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},ba=function(t){return{h:(e=Q1(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},jI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,WI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,YI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lp={string:[[function(t){var e=VI.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?st(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?st(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=XI.exec(t)||YI.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:O_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=jI.exec(t)||WI.exec(t);if(!e)return null;var r,n,i=F_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(HI[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return B_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return cn(e)&&cn(r)&&cn(n)?O_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!cn(e)||!cn(r)||!cn(n))return null;var o=F_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return B_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!cn(e)||!cn(r)||!cn(n))return null;var o=function(a){return{h:q1(a.h),s:hr(a.s,0,100),v:hr(a.v,0,100),a:hr(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return Z1(o)},"hsv"]]},L_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},KI=function(t){return typeof t=="string"?L_(t.trim(),lp.string):typeof t=="object"&&t!==null?L_(t,lp.object):[null,void 0]},wf=function(t,e){var r=ba(t);return{h:r.h,s:hr(r.s+100*e,0,100),l:r.l,a:r.a}},Ef=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},U_=function(t,e){var r=ba(t);return{h:r.h,s:r.s,l:hr(r.l+100*e,0,100),a:r.a}},up=function(){function t(e){this.parsed=KI(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return st(Ef(this.rgba),2)},t.prototype.isDark=function(){return Ef(this.rgba)<.5},t.prototype.isLight=function(){return Ef(this.rgba)>=.5},t.prototype.toHex=function(){return e=xf(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Yl(st(255*s)):"","#"+Yl(r)+Yl(n)+Yl(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return xf(this.rgba)},t.prototype.toRgbString=function(){return e=xf(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return N_(ba(this.rgba))},t.prototype.toHslString=function(){return e=N_(ba(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=Q1(this.rgba),{h:st(e.h),s:st(e.s),v:st(e.v),a:st(e.a,3)};var e},t.prototype.invert=function(){return Hr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Hr(wf(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Hr(wf(this.rgba,-e))},t.prototype.grayscale=function(){return Hr(wf(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Hr(U_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Hr(U_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Hr({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):st(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=ba(this.rgba);return typeof e=="number"?Hr({h:e,s:r.s,l:r.l,a:r.a}):st(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Hr(e).toHex()},t}(),Hr=function(t){return t instanceof up?t:new up(t)},G_=[],qI=function(t){t.forEach(function(e){G_.indexOf(e)<0&&(e(up,lp),G_.push(e))})};function QI(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var h=this.toRgb(),f=1/0,c="black";if(!s.length)for(var d in r)s[d]=new t(r[d]).toRgb();for(var p in r){var m=(a=h,l=s[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<f&&(f=m,c=p)}return c}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}qI([QI]);const eo=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof eo)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=eo.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=eo.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Hr(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let ye=eo;ye.shared=new eo;ye.temp=new eo;ye.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function ZI(t){return he("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ye.shared.setValue(t).toHex()}function JI(t){return he("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ye.shared.setValue(t).toNumber()}function e2(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[te.NORMAL_NPM]=te.NORMAL,t[te.ADD_NPM]=te.ADD,t[te.SCREEN_NPM]=te.SCREEN,e[te.NORMAL]=te.NORMAL_NPM,e[te.ADD]=te.ADD_NPM,e[te.SCREEN]=te.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const J1=e2();function ew(t,e){return J1[e?1:0][t]}function t2(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function tw(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function _h(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function z_(t){return!(t&t-1)&&!!t}function $_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function to(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function qn(t){return t===0?0:t<0?-1:1}let r2=0;function is(){return++r2}const rw=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let hp=rw;hp.EMPTY=new rw(0,0,0,0);const H_={},Vr=Object.create(null),zn=Object.create(null);class n2{constructor(e,r,n){this._canvas=V.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||V.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function V_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function j_(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function i2(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,u=r-1;for(;a<r&&V_(s,e,a);)++a;if(a===r)return hp.EMPTY;for(;V_(s,e,u);)--u;for(;j_(s,e,o,a,u);)++o;for(;j_(s,e,l,a,u);)--l;return++l,++u,new hp(o,a,l,u)}function s2(t){const e=i2(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Kl;function o2(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Kl||(Kl=document.createElement("a")),Kl.href=t;const r=UI.parse(Kl.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function mi(t,e=1){var n;const r=(n=V.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var W=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(W||{});const cp=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},W_=(t,e)=>cp(t).priority??e,Z={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(cp).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(cp).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>W_(s,r)-W_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class fp{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const a2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function l2(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function u2(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=a2.replace(/%forloop%/gi,l2(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Tf=0,Sf=1,bf=2,Cf=3,Af=4,Pf=5;class Bn{constructor(){this.data=0,this.blendMode=te.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Tf)}set blend(e){!!(this.data&1<<Tf)!==e&&(this.data^=1<<Tf)}get offsets(){return!!(this.data&1<<Sf)}set offsets(e){!!(this.data&1<<Sf)!==e&&(this.data^=1<<Sf)}get culling(){return!!(this.data&1<<bf)}set culling(e){!!(this.data&1<<bf)!==e&&(this.data^=1<<bf)}get depthTest(){return!!(this.data&1<<Cf)}set depthTest(e){!!(this.data&1<<Cf)!==e&&(this.data^=1<<Cf)}get depthMask(){return!!(this.data&1<<Pf)}set depthMask(e){!!(this.data&1<<Pf)!==e&&(this.data^=1<<Pf)}get clockwiseFrontFace(){return!!(this.data&1<<Af)}set clockwiseFrontFace(e){!!(this.data&1<<Af)!==e&&(this.data^=1<<Af)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==te.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Bn;return e.depthTest=!1,e.blend=!0,e}}const dp=[];function nw(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=dp.length-1;n>=0;--n){const i=dp[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Fr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:h}=this;this._aliasCount++;for(let f=0,c=h.length;f<c;f++)h[f][u](e,r,n,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Fr.prototype,{dispatch:{value:Fr.prototype.emit},run:{value:Fr.prototype.emit}});class Ja{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Fr("setRealSize"),this.onUpdate=new Fr("update"),this.onError=new Fr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class wl extends Ja{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ur.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const h2={scaleMode:wn.NEAREST,format:U.RGBA,alphaMode:Ur.NPM},Ss=class extends yl{constructor(t=null,e=null){super(),e=Object.assign({},Ss.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:h,target:f,resolution:c,resourceOptions:d}=e;t&&!(t instanceof Ja)&&(t=nw(t,d),t.internal=!0),this.resolution=c||V.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=h,this.target=f,this.alphaMode=r,this.uid=is(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=z_(this.realWidth)&&z_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete zn[this.cacheId],delete Vr[this.cacheId],this.cacheId=null),this.dispose(),Ss.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=V.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${is()}`}i=t._pixiId}let s=zn[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ss(t,e),s.cacheId=i,Ss.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new wl(t,{width:e,height:r}),s=t instanceof Float32Array?J.FLOAT:J.UNSIGNED_BYTE;return new Ss(i,Object.assign({},h2,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),zn[e]&&zn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),zn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=zn[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete zn[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete zn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let se=Ss;se.defaultOptions={mipmap:sn.POW2,anisotropicLevel:0,scaleMode:wn.LINEAR,wrapMode:hi.CLAMP,alphaMode:Ur.UNPACK,target:Qs.TEXTURE_2D,format:U.RGBA,type:J.UNSIGNED_BYTE};se._globalBatch=0;class pp{constructor(){this.texArray=null,this.blend=0,this.type=Qr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let c2=0;class Ve{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=c2++,this.disposeRunner=new Fr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?en.ELEMENT_ARRAY_BUFFER:en.ARRAY_BUFFER}get index(){return this.type===en.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ve(e)}}class vh{constructor(e,r=0,n=!1,i=J.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new vh(e,r,n,i,s)}}const f2={Float32Array,Uint32Array,Int32Array,Uint8Array};function d2(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],h=t[l],f=tw(h);i[f]||(i[f]=new f2[f](s)),o=i[f];for(let c=0;c<h.length;c++){const d=(c/u|0)*n+a,p=c%u;o[d+p]=h[c]}a+=u}return new Float32Array(s)}const X_={5126:4,5123:2,5121:1};let p2=0;const m2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class gi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=p2++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Fr("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ve||(r instanceof Array&&(r=new Float32Array(r)),r=new Ve(r));const u=e.split("|");if(u.length>1){for(let f=0;f<u.length;f++)this.addAttribute(u[f],r,n,i,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new vh(h,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ve||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ve(e)),e.type=en.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Ve;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*X_[s.type]/4),s.buffer=0}for(n.data=d2(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new gi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ve(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new vh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=en.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new gi,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new m2[tw(o.buffers[a].data)](i[a]),r.buffers[a]=new Ve(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=en.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const c=o.attributes[f];(c.buffer|0)===h&&(l+=c.size*X_[c.type]/4)}for(let f=0;f<e.length;f++){const c=e[f].indexBuffer.data;for(let d=0;d<c.length;d++)r.indexBuffer.data[d+u]+=a;a+=e[f].buffers[h].data.length/l,u+=c.length}}return r}}class iw extends gi{constructor(e=!1){super(),this._buffer=new Ve(null,e,!1),this._indexBuffer=new Ve(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,J.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,J.FLOAT).addAttribute("aColor",this._buffer,4,!0,J.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,J.FLOAT).addIndex(this._indexBuffer)}}const xh=Math.PI*2,g2=180/Math.PI,y2=Math.PI/180;var ft=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ft||{});class de{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new de(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const ql=[new de,new de,new de,new de];class ae{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=ft.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ae(0,0,0,0)}clone(){return new ae(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const T=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=T)return!1;const R=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>R}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=ql[0].set(e.left,e.top),l=ql[1].set(e.left,e.bottom),u=ql[2].set(e.right,e.top),h=ql[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(h,h),Math.max(a.x,l.x,u.x,h.x)<=n||Math.min(a.x,l.x,u.x,h.x)>=i||Math.max(a.y,l.y,u.y,h.y)<=s||Math.min(a.y,l.y,u.y,h.y)>=o))return!1;const c=f*(l.y-a.y),d=f*(a.x-l.x),p=c*n+d*s,m=c*i+d*s,v=c*n+d*o,_=c*i+d*o;if(Math.max(p,m,v,_)<=c*a.x+d*a.y||Math.min(p,m,v,_)>=c*h.x+d*h.y)return!1;const y=f*(a.y-u.y),g=f*(u.x-a.x),x=y*n+g*s,w=y*i+g*s,S=y*n+g*o,E=y*i+g*o;return!(Math.max(x,w,S,E)<=y*a.x+g*a.y||Math.min(x,w,S,E)>=y*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class rg{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=ft.CIRC}clone(){return new rg(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new ae(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ng{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=ft.ELIP}clone(){return new ng(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new ae(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class ro{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=ft.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new ro(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(u-a)*((r-l)/(h-l))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class ig{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=ft.RREC}clone(){return new ig(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Pe{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new de;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new de;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(xh-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Pe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Pe}static get TEMP_MATRIX(){return new Pe}}const Di=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Oi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ni=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],mp=[],sw=[],Ql=Math.sign;function _2(){for(let t=0;t<16;t++){const e=[];mp.push(e);for(let r=0;r<16;r++){const n=Ql(Di[t]*Di[r]+Fi[t]*Oi[r]),i=Ql(Oi[t]*Di[r]+Ni[t]*Oi[r]),s=Ql(Di[t]*Fi[r]+Fi[t]*Ni[r]),o=Ql(Oi[t]*Fi[r]+Ni[t]*Ni[r]);for(let a=0;a<16;a++)if(Di[a]===n&&Oi[a]===i&&Fi[a]===s&&Ni[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Pe;e.set(Di[t],Oi[t],Fi[t],Ni[t],0,0),sw.push(e)}}_2();const Ie={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Di[t],uY:t=>Oi[t],vX:t=>Fi[t],vY:t=>Ni[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>mp[t][e],sub:(t,e)=>mp[t][Ie.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ie.S:Ie.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ie.E:Ie.W:e>0?t>0?Ie.SE:Ie.SW:t>0?Ie.NE:Ie.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=sw[Ie.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Qn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Qn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const ow=class{constructor(){this.worldTransform=new Pe,this.localTransform=new Pe,this.position=new Qn(this.onChange,this,0,0),this.scale=new Qn(this.onChange,this,1,1),this.pivot=new Qn(this.onChange,this,0,0),this.skew=new Qn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let sg=ow;sg.IDENTITY=new ow;var v2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,x2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Y_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Rf(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function aw(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Rf(2*e);case"bvec3":return Rf(3*e);case"bvec4":return Rf(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const no=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],w2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},E2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function T2(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<no.length;l++)if(no[l].test(s,o)){r.push(no[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?w2:E2)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const lw={};let xs=lw;function S2(){if(xs===lw||xs!=null&&xs.isContextLost()){const t=V.ADAPTER.createCanvas();let e;V.PREFER_ENV>=hs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),xs=e}return xs}let Zl;function b2(){if(!Zl){Zl=ur.MEDIUM;const t=S2();t&&t.getShaderPrecisionFormat&&(Zl=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?ur.HIGH:ur.MEDIUM)}return Zl}function K_(t,e){const r=t.getShaderSource(e).split(`
`).map((u,h)=>`${h}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function C2(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||K_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||K_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const A2={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function uw(t){return A2[t]}let Jl=null;const q_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function hw(t,e){if(!Jl){const r=Object.keys(q_);Jl={};for(let n=0;n<r.length;++n){const i=r[n];Jl[t[i]]=q_[i]}}return Jl[e]}function Q_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===ur.HIGH&&r!==ur.HIGH&&(n=ur.MEDIUM),`precision ${n} float;
${t}`}else if(r!==ur.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ko;function P2(){if(typeof Ko=="boolean")return Ko;try{Ko=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ko=!1}return Ko}let R2=0;const eu={},bs=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=R2++,this.vertexSrc=t||bs.defaultVertexSrc,this.fragmentSrc=e||bs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),eu[r]?(eu[r]++,r+=`-${eu[r]}`):eu[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=Q_(this.vertexSrc,bs.defaultVertexPrecision,ur.HIGH),this.fragmentSrc=Q_(this.fragmentSrc,bs.defaultFragmentPrecision,b2())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return x2}static get defaultFragmentSrc(){return v2}static from(t,e,r){const n=t+e;let i=H_[n];return i||(H_[n]=i=new bs(t,e,r)),i}};let Mr=bs;Mr.defaultVertexPrecision=ur.HIGH;Mr.defaultFragmentPrecision=En.apple.device?ur.HIGH:ur.MEDIUM;let I2=0;class Nr{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=I2++,this.static=!!r,this.ubo=!!n,e instanceof Ve?(this.buffer=e,this.buffer.type=en.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ve(new Float32Array(1)),this.buffer.type=en.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Nr(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Nr(e,r,n)}static uboFrom(e,r){return new Nr(e,r??!0,!0)}}class tn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Nr?this.uniformGroup=r:this.uniformGroup=new Nr(r):this.uniformGroup=new Nr({}),this.disposeRunner=new Fr("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Mr.from(e,r);return new tn(i,n)}}class M2{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Nr.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Mr(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Pe,default:this.defaultGroupCache[e]};return new tn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class gp{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function k2(){return!En.apple.device}function D2(t){let e=!0;const r=V.ADAPTER.getNavigator();if(En.tablet||En.phone){if(En.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(En.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class lc{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var O2=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,F2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Er=class extends lc{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=iw,this.vertexSize=6,this.state=Bn.for2d(),this.size=Er.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??D2(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??k2(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return he("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return F2}static get defaultFragmentTemplate(){return O2}setShaderGenerator({vertex:t=Er.defaultVertexSrc,fragment:e=Er.defaultFragmentTemplate}={}){this.shaderGenerator=new M2(t,e)}contextChange(){const t=this.renderer.gl;V.PREFER_ENV===hs.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Er.defaultMaxTextures),this.maxTextures=u2(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Er,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new pp);for(;e.length<n;)e.push(new gp);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Er._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++se._globalBatch,a=0,l=r[0],u=0;n.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,h),u=h,l=r[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;se._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Er._drawCallPool;let l=this._dcIndex,u=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let c=e;c<r;++c){const d=n[c],p=d._texture.baseTexture,m=J1[p.alphaMode?1:0][d.blendMode];n[c]=null,e<c&&f.blend!==m&&(f.size=h-f.start,e=c,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(d,i,s,u,h),u+=d.vertexData.length/2*o,h+=d.indices.length,f.blend=m}e<r&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Er.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Er._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:h}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Er.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=_h(Math.ceil(t/8)),r=$_(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new fp(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=_h(Math.ceil(t/12)),r=$_(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,c=Math.min(t.worldAlpha,1),d=ye.shared.setValue(t._tintRGB).toPremultiplied(c,t._texture.baseTexture.alphaMode>0);for(let p=0;p<h.length;p+=2)o[n++]=h[p],o[n++]=h[p+1],o[n++]=l[p],o[n++]=l[p+1],s[n++]=d,o[n++]=f;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};let Rr=Er;Rr.defaultBatchSize=4096;Rr.extension={name:"batch",type:W.RendererPlugin};Rr._drawCallPool=[];Rr._textureArrayPool=[];Z.add(Rr);var N2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,B2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ia=class extends tn{constructor(t,e,r){const n=Mr.from(t||ia.defaultVertexSrc,e||ia.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=ia.defaultResolution,this.multisample=ia.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Bn}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return B2}static get defaultFragmentSrc(){return N2}};let dt=ia;dt.defaultResolution=1;dt.defaultMultisample=Xe.NONE;class uc{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ye(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}uc.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};uc.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"background"};Z.add(uc);class cw{constructor(e){this.renderer=e,this.emptyRenderer=new lc(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const h=s[u],f=h._batchLocation;if(f>=0&&f<i&&r[f]===h){o[u]=f;continue}for(;l<i;){const c=r[l];if(c&&c._batchEnabled===n&&c._batchLocation===l){l++;continue}o[u]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}cw.extension={type:W.RendererSystem,name:"batch"};Z.add(cw);let Z_=0;class hc{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Z_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Z_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(V.PREFER_ENV>=hs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hc.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};hc.extension={type:W.RendererSystem,name:"context"};Z.add(hc);class L2 extends wl{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ur.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class yp{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Fr("disposeFramebuffer"),this.multisample=Xe.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new se(null,{scaleMode:wn.NEAREST,resolution:1,mipmap:sn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new se(new L2(null,{width:this.width,height:this.height}),{scaleMode:wn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:sn.OFF,format:U.DEPTH_COMPONENT,type:J.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class fw extends se{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Xe.NONE),super(null,e),this.mipmap=sn.OFF,this.valid=!0,this._clear=new ye([0,0,0,0]),this.framebuffer=new yp(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class yi extends Ja{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=o2(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ur.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class dw extends yi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;yi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??V.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ur.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class pw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=Ie.add(n,Ie.NW),this.x0=l+o*Ie.uX(n),this.y0=u+a*Ie.uY(n),n=Ie.add(n,2),this.x1=l+o*Ie.uX(n),this.y1=u+a*Ie.uY(n),n=Ie.add(n,2),this.x2=l+o*Ie.uX(n),this.y2=u+a*Ie.uY(n),n=Ie.add(n,2),this.x3=l+o*Ie.uX(n),this.y3=u+a*Ie.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const J_=new pw;function tu(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class q extends yl{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new ae(0,0,1,1)),e instanceof q&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=J_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new de(o.x,o.y):new de(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Vr[r.url]&&q.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,q.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new q(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===J_&&(this._uvs=new pw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=V.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof se){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${is()}`,se.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${is()}`}s=e._pixiId}let o=Vr[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof se)?(r.resolution||(r.resolution=mi(e)),o=new q(new se(e,r)),o.baseTexture.cacheId=s,se.addToCache(o.baseTexture,s),q.addToCache(o,s)):!o&&e instanceof se&&(o=new q(e),q.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=q.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new q(se.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new se(e,Object.assign({scaleMode:se.defaultOptions.scaleMode,resolution:mi(r)},i)),{resource:o}=s;o instanceof dw&&(o.url=r);const a=new q(s);return n||(n=r),se.addToCache(a.baseTexture,n),q.addToCache(a,n),n!==r&&(se.addToCache(a.baseTexture,r),q.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Vr[r]&&Vr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Vr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Vr[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Vr[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Vr[e.textureCacheIds[r]]===e&&delete Vr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,h=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return q._EMPTY||(q._EMPTY=new q(new se),tu(q._EMPTY),tu(q._EMPTY.baseTexture)),q._EMPTY}static get WHITE(){if(!q._WHITE){const e=V.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),q._WHITE=new q(se.from(e)),tu(q._WHITE),tu(q._WHITE.baseTexture)}return q._WHITE}}class fs extends q{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new fs(new fw(e))}}class mw{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Xe.NONE){const i=new fw(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new fs(i)}getOptimalTexture(e,r,n=1,i=Xe.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=_h(e),r=_h(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Xe.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}mw.SCREEN_KEY=-1;class U2 extends gi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class gw extends gi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ve(this.vertices),this.uvBuffer=new Ve(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class G2{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Xe.NONE,this.sourceFrame=new ae,this.destinationFrame=new ae,this.bindingSourceFrame=new ae,this.bindingDestinationFrame=new ae,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ru=[new de,new de,new de,new de],If=new Pe;class yw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new mw,this.statePool=[],this.quad=new U2,this.quadUv=new gw,this.tempRect=new ae,this.activeState={},this.globalUniforms=new Nr({outputFrame:new ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new G2,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,u=r[0].padding,h=r[0].autoFit,f=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,h=h&&m.autoFit,f=f||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const c=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(If.copyFrom(n.projection.transform).invert(),c),h?(s.sourceFrame.fit(c),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(c)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Xr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,h=this.getOptimalFilterTexture(u.width,u.height,r.resolution);h.filterFrame=u.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(u.width,u.height,r.resolution),h.filterFrame=u.filterFrame),n[f].apply(this,u,h,Xr.CLEAR,r);const c=u;u=h,h=c}n[f].apply(this,u,l.renderTexture,Xr.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Xr.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Xr.CLEAR||r===Xr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Qr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Qr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Pe.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Xe.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Xe.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=ru[0],i=ru[1],s=ru[2],o=ru[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),h=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=h-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?If.copyFrom(s):If.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}yw.extension={type:W.RendererSystem,name:"filter"};Z.add(yw);class z2{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Xe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const $2=new ae;class _w{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new yp(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;V.PREFER_ENV===hs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Yd.COLOR|Yd.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new z2(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Xe.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Xe.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new yp(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=$2,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ae}destroy(){this.renderer=null}}_w.extension={type:W.RendererSystem,name:"framebuffer"};Z.add(_w);const Mf={5126:4,5123:2,5121:1};class vw{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;V.PREFER_ENV===hs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let h=u[l];if(h)return u[a.id]=h,h;const f=e.buffers,c=e.attributes,d={},p={};for(const m in f)d[m]=0,p[m]=0;for(const m in c)!c[m].size&&a.attributeData[m]?c[m].size=a.attributeData[m].size:c[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),d[c[m].buffer]+=c[m].size*Mf[c[m].type];for(const m in c){const v=c[m],_=v.size;v.stride===void 0&&(d[v.buffer]===_*Mf[v.type]?v.stride=0:v.stride=d[v.buffer]),v.start===void 0&&(v.start=p[v.buffer],p[v.buffer]+=_*Mf[v.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let m=0;m<f.length;m++){const v=f[m];o.bind(v),n&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=h,u[l]=h,i.bindVertexArray(null),o.unbind(en.ARRAY_BUFFER),h}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const h=a[u],f=o[h.buffer],c=f._glBuffers[i];if(r.attributeData[u]){l!==c&&(s.bind(f),l=c);const d=r.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(d,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}vw.extension={type:W.RendererSystem,name:"geometry"};Z.add(vw);const e0=new Pe;class xw{constructor(e,r){this._texture=e,this.mapCoord=new Pe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(e0.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(e0));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var H2=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,V2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class j2 extends dt{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||V2,r||H2,n),this.maskSprite=i,this.maskMatrix=new Pe}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new xw(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class W2{constructor(e=null){this.type=Je.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=dt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Je.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class ww{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new W2;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Je.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Je.SCISSOR:this.renderer.scissor.push(n);break;case Je.STENCIL:this.renderer.stencil.push(n);break;case Je.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Je.COLOR:this.pushColorMask(n);break}n.type===Je.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Je.SCISSOR:this.renderer.scissor.pop(r);break;case Je.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Je.SPRITE:this.popSpriteMask(r);break;case Je.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Je.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Je.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Je.SCISSOR:e.type=Je.STENCIL:e.type=Je.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new j2]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=r;const u=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}ww.extension={type:W.RendererSystem,name:"mask"};Z.add(ww);class Ew{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const t0=new Pe,r0=[],Mu=class extends Ew{constructor(t){super(t),this.glConst=V.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,r0.pop()??new ae);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Mu.isMatrixRotated(e.worldTransform)||Mu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Mu.isMatrixRotated(i)||(i=i?t0.copyFrom(i):t0.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&r0.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let Tw=Mu;Tw.extension={type:W.RendererSystem,name:"scissor"};Z.add(Tw);class Sw extends Ew{constructor(e){super(e),this.glConst=V.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Sw.extension={type:W.RendererSystem,name:"stencil"};Z.add(Sw);class bw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return he("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return he("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return he("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}bw.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"_plugin"};Z.add(bw);class Cw{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Pe,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Cw.extension={type:W.RendererSystem,name:"projection"};Z.add(Cw);const X2=new sg;class Aw{constructor(e){this.renderer=e,this._tempMatrix=new Pe}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=fs.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=X2,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}Aw.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"textureGenerator"};Z.add(Aw);const Ai=new ae,qo=new ae;class Pw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ae,this.destinationFrame=new ae,this.viewportFrame=new ae}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Ai.width=e.frame.width,Ai.height=e.frame.height,r=Ai),n||(qo.x=e.frame.x,qo.y=e.frame.y,qo.width=r.width,qo.height=r.height,n=qo),o=s.framebuffer):(a=i.resolution,r||(Ai.width=i._view.screen.width,Ai.height=i._view.screen.height,r=Ai),n||(n=Ai,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=ye.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:h,height:f}=this.viewportFrame;l=Math.round(l),u=Math.round(u),h=Math.round(h),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,h,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Pw.extension={type:W.RendererSystem,name:"renderTexture"};Z.add(Pw);class Y2{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function K2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=hw(e,s.type),a={type:o,name:s.name,size:uw(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function q2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=hw(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:aw(l,s.size)}}return r}function Q2(t,e){var l;const r=Y_(t,t.VERTEX_SHADER,e.vertexSrc),n=Y_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||C2(t,i,r,n),e.attributeData=K2(i,t),e.uniformData=q2(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((h,f)=>h>f?1:-1);for(let h=0;h<u.length;h++)e.attributeData[u[h]].location=h,t.bindAttribLocation(i,h,u[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const h=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:aw(h.type,h.size)}}return new Y2(i,o)}function Z2(t,e,r,n,i){r.buffer.update(i)}const J2={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Rw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function eM(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=Rw[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function tM(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function rM(t,e){if(!t.autoManage)return{size:0,syncFunc:Z2};const r=tM(t.uniforms,e),{uboElements:n,size:i}=eM(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let h=!1;for(let f=0;f<no.length;f++){const c=no[f];if(c.codeUbo&&c.test(a.data,l)){s.push(`offset = ${a.offset/4};`,no[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=uw(a.data.type),c=Math.max(Rw[a.data.type]/16,1),d=f/c,p=(4-d%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*c}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const f=J2[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let nM=0;const nu={textureCount:0,uboCount:0};class Iw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=nM++}systemCheck(){if(!P2())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(nu.textureCount=0,nu.uboCount=0,this.syncUniformGroup(e.uniformGroup,nu)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=T2(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,nu,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=rM(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=Q2(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Iw.extension={type:W.RendererSystem,name:"shader"};Z.add(Iw);class cc{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}cc.defaultOptions={hello:!1};cc.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"startup"};Z.add(cc);function iM(t,e=[]){return e[te.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.ADD]=[t.ONE,t.ONE],e[te.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.NONE]=[0,0],e[te.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[te.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[te.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[te.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[te.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[te.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[te.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[te.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[te.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[te.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[te.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const sM=0,oM=1,aM=2,lM=3,uM=4,hM=5,_p=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=te.NONE,this._blendEq=!1,this.map=[],this.map[sM]=this.setBlend,this.map[oM]=this.setOffset,this.map[aM]=this.setCullFace,this.map[lM]=this.setDepthTest,this.map[uM]=this.setFrontFace,this.map[hM]=this.setDepthMask,this.checks=[],this.defaultState=new Bn,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=iM(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(_p.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(_p.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Mw=_p;Mw.extension={type:W.RendererSystem,name:"state"};Z.add(Mw);class cM extends yl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Fr(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ku=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ku.defaultMaxIdle,this.checkCountMax=ku.defaultCheckCountMax,this.mode=ku.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Ym.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Ir=ku;Ir.defaultMode=Ym.AUTO;Ir.defaultMaxIdle=60*60;Ir.defaultCheckCountMax=60*10;Ir.extension={type:W.RendererSystem,name:"textureGC"};Z.add(Ir);class kf{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=J.UNSIGNED_BYTE,this.internalFormat=U.RGBA,this.samplerType=0}}function fM(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[J.UNSIGNED_BYTE]:{[U.RGBA]:t.RGBA8,[U.RGB]:t.RGB8,[U.RG]:t.RG8,[U.RED]:t.R8,[U.RGBA_INTEGER]:t.RGBA8UI,[U.RGB_INTEGER]:t.RGB8UI,[U.RG_INTEGER]:t.RG8UI,[U.RED_INTEGER]:t.R8UI,[U.ALPHA]:t.ALPHA,[U.LUMINANCE]:t.LUMINANCE,[U.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[J.BYTE]:{[U.RGBA]:t.RGBA8_SNORM,[U.RGB]:t.RGB8_SNORM,[U.RG]:t.RG8_SNORM,[U.RED]:t.R8_SNORM,[U.RGBA_INTEGER]:t.RGBA8I,[U.RGB_INTEGER]:t.RGB8I,[U.RG_INTEGER]:t.RG8I,[U.RED_INTEGER]:t.R8I},[J.UNSIGNED_SHORT]:{[U.RGBA_INTEGER]:t.RGBA16UI,[U.RGB_INTEGER]:t.RGB16UI,[U.RG_INTEGER]:t.RG16UI,[U.RED_INTEGER]:t.R16UI,[U.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[J.SHORT]:{[U.RGBA_INTEGER]:t.RGBA16I,[U.RGB_INTEGER]:t.RGB16I,[U.RG_INTEGER]:t.RG16I,[U.RED_INTEGER]:t.R16I},[J.UNSIGNED_INT]:{[U.RGBA_INTEGER]:t.RGBA32UI,[U.RGB_INTEGER]:t.RGB32UI,[U.RG_INTEGER]:t.RG32UI,[U.RED_INTEGER]:t.R32UI,[U.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[J.INT]:{[U.RGBA_INTEGER]:t.RGBA32I,[U.RGB_INTEGER]:t.RGB32I,[U.RG_INTEGER]:t.RG32I,[U.RED_INTEGER]:t.R32I},[J.FLOAT]:{[U.RGBA]:t.RGBA32F,[U.RGB]:t.RGB32F,[U.RG]:t.RG32F,[U.RED]:t.R32F,[U.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[J.HALF_FLOAT]:{[U.RGBA]:t.RGBA16F,[U.RGB]:t.RGB16F,[U.RG]:t.RG16F,[U.RED]:t.R16F},[J.UNSIGNED_SHORT_5_6_5]:{[U.RGB]:t.RGB565},[J.UNSIGNED_SHORT_4_4_4_4]:{[U.RGBA]:t.RGBA4},[J.UNSIGNED_SHORT_5_5_5_1]:{[U.RGBA]:t.RGB5_A1},[J.UNSIGNED_INT_2_10_10_10_REV]:{[U.RGBA]:t.RGB10_A2,[U.RGBA_INTEGER]:t.RGB10_A2UI},[J.UNSIGNED_INT_10F_11F_11F_REV]:{[U.RGB]:t.R11F_G11F_B10F},[J.UNSIGNED_INT_5_9_9_9_REV]:{[U.RGB]:t.RGB9_E5},[J.UNSIGNED_INT_24_8]:{[U.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[J.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[U.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[J.UNSIGNED_BYTE]:{[U.RGBA]:t.RGBA,[U.RGB]:t.RGB,[U.ALPHA]:t.ALPHA,[U.LUMINANCE]:t.LUMINANCE,[U.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[J.UNSIGNED_SHORT_5_6_5]:{[U.RGB]:t.RGB},[J.UNSIGNED_SHORT_4_4_4_4]:{[U.RGBA]:t.RGBA},[J.UNSIGNED_SHORT_5_5_5_1]:{[U.RGBA]:t.RGBA}},e}class kw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new se,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=fM(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new kf(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new kf(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Kd.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new kf(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===J.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Kd.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&to(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===sn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=hi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==sn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===wn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===wn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===wn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===wn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}kw.extension={type:W.RendererSystem,name:"texture"};Z.add(kw);class Dw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Dw.extension={type:W.RendererSystem,name:"transformFeedback"};Z.add(Dw);class fc{constructor(e){this.renderer=e}init(e){this.screen=new ae(0,0,e.width,e.height),this.element=e.view||V.ADAPTER.createCanvas(),this.resolution=e.resolution||V.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}fc.defaultOptions={width:800,height:600,resolution:V.RESOLUTION,autoDensity:!1};fc.extension={type:[W.RendererSystem,W.CanvasRendererSystem],name:"_view"};Z.add(fc);V.PREFER_ENV=hs.WEBGL2;V.STRICT_TEXTURE_CACHE=!1;V.RENDER_OPTIONS={...hc.defaultOptions,...uc.defaultOptions,...fc.defaultOptions,...cc.defaultOptions};Object.defineProperties(V,{WRAP_MODE:{get(){return se.defaultOptions.wrapMode},set(t){he("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),se.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return se.defaultOptions.scaleMode},set(t){he("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),se.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return se.defaultOptions.mipmap},set(t){he("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),se.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return se.defaultOptions.anisotropicLevel},set(t){he("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),se.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return he("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),dt.defaultResolution},set(t){dt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return he("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),dt.defaultMultisample},set(t){dt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Rr.defaultMaxTextures},set(t){he("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Rr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Rr.defaultBatchSize},set(t){he("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Rr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Rr.canUploadSameBuffer},set(t){he("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Rr.canUploadSameBuffer=t}},GC_MODE:{get(){return Ir.defaultMode},set(t){he("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ir.defaultMode=t}},GC_MAX_IDLE:{get(){return Ir.defaultMaxIdle},set(t){he("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ir.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Ir.defaultCheckCountMax},set(t){he("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ir.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Mr.defaultVertexPrecision},set(t){he("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Mr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Mr.defaultFragmentPrecision},set(t){he("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Mr.defaultFragmentPrecision=t}}});var ss=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ss||{});class Df{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Ht=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Df(null,null,1/0),this.deltaMS=1/Ht.targetFPMS,this.elapsedMS=1/Ht.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=ss.NORMAL){return this._addListener(new Df(t,e,r))}addOnce(t,e,r=ss.NORMAL){return this._addListener(new Df(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ht.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Ht.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ht._shared){const t=Ht._shared=new Ht;t.autoStart=!0,t._protected=!0}return Ht._shared}static get system(){if(!Ht._system){const t=Ht._system=new Ht;t.autoStart=!0,t._protected=!0}return Ht._system}};let xt=Ht;xt.targetFPMS=.06;Object.defineProperties(V,{TARGET_FPMS:{get(){return xt.targetFPMS},set(t){he("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),xt.targetFPMS=t}}});class Ow{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ss.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?xt.shared:new xt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Ow.extension=W.Application;Z.add(Ow);const Fw=[];Z.handleByList(W.Renderer,Fw);function dM(t){for(const e of Fw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var pM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const gM=pM,Nw=mM;class Bw{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Xe.HIGH?this.multisample=Xe.HIGH:r>=Xe.MEDIUM?this.multisample=Xe.MEDIUM:r>=Xe.LOW?this.multisample=Xe.LOW:this.multisample=Xe.NONE}destroy(){}}Bw.extension={type:W.RendererSystem,name:"_multisample"};Z.add(Bw);class yM{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Lw{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new yM(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Lw.extension={type:W.RendererSystem,name:"buffer"};Z.add(Lw);class Uw{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Uw.extension={type:W.RendererSystem,name:"objectRenderer"};Z.add(Uw);const vp=class extends cM{constructor(t){super(),this.type=v1.WEBGL,t=Object.assign({},V.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Nr({projectionMatrix:new Pe},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:vp.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(he("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=vp.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:K1()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return he("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return he("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return he("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return he("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){he("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return he("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){he("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return he("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ko=vp;ko.extension={type:W.Renderer,priority:1};ko.__plugins={};ko.__systems={};Z.handleByMap(W.RendererPlugin,ko.__plugins);Z.handleByMap(W.RendererSystem,ko.__systems);Z.add(ko);class Gw extends Ja{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new se;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ja?this.addResourceAt(e[n],n):this.addResourceAt(nw(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class _M extends Gw{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Qs.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class vM extends yi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const sa=class extends Gw{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==sa.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<sa.SIDES;o++)this.items[o].target=Qs.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Qs.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Qs.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<sa.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===sa.SIDES}};let zw=sa;zw.SIDES=6;class $s extends yi{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=$s.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await V.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ur.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return $s._EMPTY=$s._EMPTY??V.ADAPTER.createCanvas(0,0),$s._EMPTY}}const Du=class extends yi{constructor(t,e){e=e||{},super(V.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Du.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;yi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${is()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Du.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Du.SVG_XML.test(t)}};let el=Du;el.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;el.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const xp=class extends yi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];yi.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||xp.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=xt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(xt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(xt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||xp.TYPES.includes(e)}};let og=xp;og.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];og.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};dp.push($s,dw,vM,og,el,wl,zw,_M);class wh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ae.EMPTY:(e=e||new ae(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,h=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,h=e.tx,f=e.ty;let c=this.minX,d=this.minY,p=this.maxX,m=this.maxY,v=o*r+l*n+h,_=a*r+u*n+f;c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*i+l*n+h,_=a*i+u*n+f,c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*r+l*s+h,_=a*r+u*s+f,c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*i+l*s+h,_=a*i+u*s+f,c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,this.minX=c,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],h=e[l+1];i=u<i?u:i,s=h<s?h:s,o=u>o?u:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,h=e.d,f=e.tx,c=e.ty;let d=this.minX,p=this.minY,m=this.maxX,v=this.maxY;for(let _=n;_<i;_+=2){const y=r[_],g=r[_+1],x=a*y+u*g+f,w=h*g+l*y+c;d=Math.min(d,x-s),m=Math.max(m,x+s),p=Math.min(p,w-o),v=Math.max(v,w+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=v}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Le extends yl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new sg,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new wh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Le.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new ae),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ae),e=this._localBoundsRect),this._localBounds||(this._localBounds=new wh);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new xM),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*g2}set angle(e){this.transform.rotation=e*y2}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class xM extends Le{constructor(){super(...arguments),this.sortDirty=null}}Le.prototype.displayObjectUpdateTransform=Le.prototype.updateTransform;const wM=new Pe;function EM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const wp=class extends Le{constructor(){super(),this.children=[],this.sortableChildren=wp.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);to(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,to(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,to(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(EM),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==wp.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=wM.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Je.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let $t=wp;$t.defaultSortableChildren=!1;$t.prototype.containerUpdateTransform=$t.prototype.updateTransform;Object.defineProperties(V,{SORTABLE_CHILDREN:{get(){return $t.defaultSortableChildren},set(t){he("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),$t.defaultSortableChildren=t}}});const Qo=new de,TM=new Uint16Array([0,1,2,0,2,3]);class ds extends $t{constructor(e){super(),this._anchor=new Qn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ye(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=te.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||q.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=TM,this.pluginName="batch",this.isSprite=!0,this._roundPixels=V.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=qn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=qn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,h=e.trim,f=e.orig,c=this._anchor;let d=0,p=0,m=0,v=0;if(h?(p=h.x-c._x*f.width,d=p+h.width,v=h.y-c._y*f.height,m=v+h.height):(p=-c._x*f.width,d=p+f.width,v=-c._y*f.height,m=v+f.height),u[0]=n*p+s*v+a,u[1]=o*v+i*p+l,u[2]=n*d+s*v+a,u[3]=o*v+i*d+l,u[4]=n*d+s*m+a,u[5]=o*m+i*d+l,u[6]=n*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const _=V.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,h=s.tx,f=s.ty,c=-i._x*n.width,d=c+n.width,p=-i._y*n.height,m=p+n.height;r[0]=o*c+l*p+h,r[1]=u*p+a*c+f,r[2]=o*d+l*p+h,r[3]=u*p+a*d+f,r[4]=o*d+l*m+h,r[5]=u*m+a*d+f,r[6]=o*c+l*m+h,r[7]=u*m+a*c+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new wh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ae),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Qo);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Qo.x>=i&&Qo.x<i+r&&(s=-n*this.anchor.y,Qo.y>=s&&Qo.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof q?e:q.from(e,r);return new ds(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=qn(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=qn(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||q.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const $w=new Pe;Le.prototype._cacheAsBitmap=!1;Le.prototype._cacheData=null;Le.prototype._cacheAsBitmapResolution=null;Le.prototype._cacheAsBitmapMultisample=null;class SM{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Le.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new SM),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Le.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Le.prototype._initCachedDisplayObject=function(e){var c,d;if((c=this._cacheData)!=null&&c.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;n.pad(p)}n.ceil(V.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=fs.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${is()}`;this._cacheData.textureCacheId=u,se.addToCache(l.baseTexture,u),q.addToCache(l,u);const h=this.transform.localTransform.copyTo($w).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const f=new ds(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(n.x/n.width),f.anchor.y=-(n.y/n.height),f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Le.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Le.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(V.RESOLUTION);const o=fs.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${is()}`;this._cacheData.textureCacheId=a,se.addToCache(o.baseTexture,a),q.addToCache(o,a);const l=$w;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const u=new ds(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Le.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Le.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Le.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,se.removeFromCache(this._cacheData.textureCacheId),q.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Le.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Le.prototype.name=null;$t.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Le.prototype.getGlobalPosition=function(e=new de,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var bM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class CM extends dt{constructor(e=1){super(gM,bM,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const AM={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},PM=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function RM(t){const e=AM[t],r=e.length;let n=PM,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const IM=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function MM(t,e){const r=Math.ceil(t/2);let n=IM,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Ep extends dt{constructor(e,r=8,n=4,i=dt.defaultResolution,s=5){const o=MM(s,e),a=RM(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Xr.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Xr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class kM extends dt{constructor(e=8,r=4,n=dt.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Ep(!0,e,r,n,i),this.blurYFilter=new Ep(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Xr.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var DM=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Tp extends dt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Nw,DM,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=ye.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,h=o*(1-n)+a*i,f=o*(1-n)+a*i,c=n+o*(1-n),d=o*(1-n)-a*i,p=o*(1-n)-a*i,m=o*(1-n)+a*i,v=n+o*(1-n),_=[l,u,h,0,0,f,c,d,0,0,p,m,v,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=ye.shared,[a,l,u]=o.setValue(n).toArray(),[h,f,c]=o.setValue(i).toArray(),d=[.3,.59,.11,0,0,a,l,u,e,0,h,f,c,r,0,a-h,l-f,u-c,0,0];this._loadMatrix(d,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Tp.prototype.grayscale=Tp.prototype.greyscale;var OM=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,FM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class NM extends dt{constructor(e,r){const n=new Pe;e.renderable=!1,super(FM,OM,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new de(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var BM=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,LM=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class UM extends dt{constructor(){super(LM,BM)}}var GM=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class zM extends dt{constructor(e=.5,r=Math.random()){super(Nw,GM,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const n0={AlphaFilter:CM,BlurFilter:kM,BlurFilterPass:Ep,ColorMatrixFilter:Tp,DisplacementFilter:NM,FXAAFilter:UM,NoiseFilter:zM};Object.entries(n0).forEach(([t,e])=>{Object.defineProperty(n0,t,{get(){return he("7.1.0",`filters.${t} has moved to ${t}`),e}})});class $M{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(xt.system.add(this.tickerUpdate,this,ss.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(xt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Wn=new $M;class El{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=El.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new de,this.page=new de,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Eh extends El{constructor(){super(...arguments),this.client=new de,this.movement=new de,this.offset=new de,this.global=new de,this.screen=new de}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,h,f,c,d,p,m){throw new Error("Method not implemented.")}}class Tr extends Eh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class yo extends Eh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}yo.DOM_DELTA_PIXEL=0;yo.DOM_DELTA_LINE=1;yo.DOM_DELTA_PAGE=2;const HM=2048,VM=new de,Of=new de;class jM{constructor(e){this.dispatch=new yl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Wn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,VM.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<HM&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wn.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let f=h.length-1;f>=0;f--){const c=h[f],d=this.hitTestMoveRecursive(c,this._isInteractive(r)?r:c.eventMode,n,i,s,o||s(e,n));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const p=e.isInteractive();(d.length>0||p)&&(p&&this._allInteractiveElements.push(e),d.push(e)),this._hitElements.length===0&&(this._hitElements=d),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wn.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const h=l[u],f=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const c=e.isInteractive();return(f.length>0||c)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Of),!e.hitArea.contains(Of.x,Of.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Tr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof Tr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const h=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,h,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&!r.composedPath().includes(c.target);)c.currentTarget=c.target,this.notifyTarget(c),n&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;this.freeEvent(c)}this.freeEvent(f)}if(s!==r.target){const h=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,h);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let c=s==null?void 0:s.parent;for(;c&&c!==this.rootTarget.parent&&c!==r.target;)c=c.parent;if(!c||c===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Tr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Tr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Tr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Tr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof yo)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Tr);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(yo);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Tr);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Tr&&r instanceof Tr&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Eh&&r instanceof Eh&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const WM=1,XM={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Sp=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new jM(null),Wn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Tr(null),this.rootWheelEvent=new yo(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Sp.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,Sp._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Wn.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Wn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Wn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Wn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=WM),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=XM[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let tl=Sp;tl.extension={name:"events",type:[W.RendererSystem,W.CanvasRendererSystem]};tl.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};Z.add(tl);function i0(t){return t==="dynamic"||t==="static"}const YM={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??i0(tl.defaultEventMode)},set interactive(t){he("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??tl.defaultEventMode},set eventMode(t){this._internalInteractive=i0(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof El))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Le.mixin(YM);const KM={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Le.mixin(KM);const qM=9,iu=100,QM=0,ZM=0,s0=2,o0=1,JM=-1e3,ek=-1e3,tk=2;class Hw{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(En.tablet||En.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${iu}px`,r.style.height=`${iu}px`,r.style.position="absolute",r.style.top=`${QM}px`,r.style.left=`${ZM}px`,r.style.zIndex=s0.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${o0}px`,e.style.height=`${o0}px`,e.style.position="absolute",e.style.top=`${JM}px`,e.style.left=`${ek}px`,e.style.zIndex=tk.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(En.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,h=s/a*l;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let c=0;c<this.children.length;c++){const d=this.children[c];if(d.renderId!==this.renderId)d._accessibleActive=!1,to(this.children,c,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,c--;else{f=d._accessibleDiv;let p=d.hitArea;const m=d.worldTransform;d.hitArea?(f.style.left=`${(m.tx+p.x*m.a)*u}px`,f.style.top=`${(m.ty+p.y*m.d)*h}px`,f.style.width=`${p.width*m.a*u}px`,f.style.height=`${p.height*m.d*h}px`):(p=d.getBounds(),this.capHitArea(p),f.style.left=`${p.x*u}px`,f.style.top=`${p.y*h}px`,f.style.width=`${p.width*u}px`,f.style.height=`${p.height*h}px`,f.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(f.title=d.accessibleTitle),f.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&f.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==f.title||d.tabIndex!==f.tabIndex)&&(f.title=d.accessibleTitle,f.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${iu}px`,r.style.height=`${iu}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=s0.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new El(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===qM&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Hw.extension={name:"accessibility",type:[W.RendererPlugin,W.CanvasRendererPlugin]};Z.add(Hw);const bp=class{constructor(t){this.stage=new $t,t=Object.assign({forceCanvas:!1},t),this.renderer=dM(t),bp._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=bp._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let ag=bp;ag._plugins=[];Z.handleByList(W.Application,ag._plugins);class Vw{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Vw.extension=W.Application;Z.add(Vw);const a0={loader:W.LoadParser,resolver:W.ResolveParser,cache:W.CacheParser,detection:W.DetectionParser};Z.handle(W.Asset,t=>{const e=t.ref;Object.entries(a0).filter(([r])=>!!e[r]).forEach(([r,n])=>Z.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(a0).filter(r=>!!e[r]).forEach(r=>Z.remove(e[r]))});class rk{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Tl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ps(t,e){const r=t.split("?")[0],n=Et.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Cn=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),Cp=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function jw(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?jw(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function nk(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),jw(t,i,0,r,n)}else n.push(t);return n}const Th=t=>!Array.isArray(t);class ik{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Cn(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof q){const a=r;n.forEach(l=>{a.baseTexture!==q.EMPTY.baseTexture&&se.addToCache(a.baseTexture,l),q.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Zo=new ik;class sk{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Th(e),o=Cn(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const h=Et.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,u)),i[u.src]=await this.promiseCache[h].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[h],delete i[u.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const n=Cn(e,i=>({src:i})).map(async i=>{var a,l;const s=Et.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var ln=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ln||{});const ok=".json",ak="application/json",lk={extension:{type:W.LoadParser,priority:ln.Low},name:"loadJson",test(t){return Tl(t,ak)||ps(t,ok)},async load(t){return await(await V.ADAPTER.fetch(t)).json()}};Z.add(lk);const uk=".txt",hk="text/plain",ck={name:"loadTxt",extension:{type:W.LoadParser,priority:ln.Low},test(t){return Tl(t,hk)||ps(t,uk)},async load(t){return await(await V.ADAPTER.fetch(t)).text()}};Z.add(ck);const fk=["normal","bold","100","200","300","400","500","600","700","800","900"],dk=[".ttf",".otf",".woff",".woff2"],pk=["font/ttf","font/otf","font/woff","font/woff2"],mk=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function gk(t){const e=Et.extname(t),i=Et.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(mk)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const yk={extension:{type:W.LoadParser,priority:ln.Low},name:"loadWebFont",test(t){return Tl(t,pk)||ps(t,dk)},async load(t,e){var n,i,s;const r=V.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??gk(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>fk.includes(h)))??["normal"],u=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],c=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:f});await c.load(),r.add(c),o.push(c)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>V.ADAPTER.getFontFaceSet().delete(e))}};Z.add(yk);let l0=0,Ff;const _k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",vk={code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${_k}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},xk={code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Nf;class wk{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([vk.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Ff===void 0&&(Ff=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Ff&&(Nf||(Nf=URL.createObjectURL(new Blob([xk.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Nf),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[l0]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:l0++,id:n})}}const u0=new wk;function dc(t,e,r){const n=new q(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const Ek=[".jpeg",".jpg",".png",".webp",".avif"],Tk=["image/jpeg","image/png","image/webp","image/avif"];async function Sk(t){const e=await V.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const pc={name:"loadTextures",extension:{type:W.LoadParser,priority:ln.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Tl(t,Tk)||ps(t,Ek)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await u0.isImageBitmapSupported()?n=await u0.loadImageBitmap(t):n=await Sk(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new se(n,{resolution:mi(t),...e.data});return i.resource.src=t,dc(i,r,t)},unload(t){t.destroy(!0)}};Z.add(pc);const bk=".svg",Ck="image/svg+xml",Ak={extension:{type:W.LoadParser,priority:ln.High},name:"loadSVG",test(t){return Tl(t,Ck)||ps(t,bk)},async testParse(t){return el.test(t)},async parse(t,e,r){var o;const n=new el(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new se(n,{resolution:mi(t),...e==null?void 0:e.data});return i.resource.src=t,dc(i,r,t)},async load(t,e){return(await V.ADAPTER.fetch(t)).text()},unload:pc.unload};Z.add(Ak);class Pk{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Cn(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=nk(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const h=this._parsers[u];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Et.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=Th(e);e=Cn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Th(e);e=Cn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const h=s.filter(f=>f[l]?f[l]===u:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Et.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class Rk{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Pk,this.loader=new sk,this.cache=Zo,this._backgroundLoader=new rk(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=Th(e),i=Cn(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},h=o.map(f=>{const c=i[f];return l+=Object.keys(c).length,this._mapLoadToResolve(c,u).then(d=>{s[f]=d})});return await Promise.all(h),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Zo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Zo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=u,Zo.set(h,u)}),o}async unload(e){this._initialized||await this.init();const r=Cn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Cn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Zo.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return pc.config.preferWorkers}set preferWorkers(e){he("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const su=new Rk;Z.handleByList(W.LoadParser,su.loader.parsers).handleByList(W.ResolveParser,su.resolver.parsers).handleByList(W.CacheParser,su.cache.parsers).handleByList(W.DetectionParser,su.detections);const Ik={extension:W.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof q),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Z.add(Ik);const Mk={extension:{type:W.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await V.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Z.add(Mk);const kk={extension:{type:W.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await V.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Z.add(kk);const h0=["png","jpg","jpeg"],Dk={extension:{type:W.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...h0],remove:async t=>t.filter(e=>!h0.includes(e))};Z.add(Dk);const Ok={extension:W.ResolveParser,test:pc.test,parse:t=>{var e;return{resolution:parseFloat(((e=V.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Z.add(Ok);var Vt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Vt||{});const Sh={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let fn,Cs;function c0(){Cs={s3tc:fn.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:fn.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:fn.getExtension("WEBGL_compressed_texture_etc"),etc1:fn.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:fn.getExtension("WEBGL_compressed_texture_pvrtc")||fn.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:fn.getExtension("WEBGL_compressed_texture_atc"),astc:fn.getExtension("WEBGL_compressed_texture_astc")}}const Fk={extension:{type:W.DetectionParser,priority:2},test:async()=>{const e=V.ADAPTER.createCanvas().getContext("webgl");return e?(fn=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Cs||c0();const e=[];for(const r in Cs)Cs[r]&&e.push(r);return[...e,...t]},remove:async t=>(Cs||c0(),t.filter(e=>!(e in Cs)))};Z.add(Fk);class Nk extends wl{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new fp(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new fp(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Xi extends Nk{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Xi._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Xi._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Xi._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,h=o,f=a,c=h+i-1&~(i-1),d=f+s-1&~(s-1),p=c*d*Sh[r];for(let m=0;m<n;m++)l[m]={levelID:m,levelWidth:n>1?h:c,levelHeight:n>1?f:d,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,h=h>>1||1,f=f>>1||1,c=h+i-1&~(i-1),d=f+s-1&~(s-1),p=c*d*Sh[r];return l}}const Bf=4,ou=124,Bk=32,f0=20,Lk=542327876,au={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Uk={FOURCC:2},lu={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},Gk=1,zk=2,$k=4,Hk=64,Vk=512,jk=131072,Wk=827611204,Xk=861165636,Yk=894720068,Kk=808540228,qk=4,Qk={[Wk]:Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Xk]:Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Yk]:Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT},Zk={70:Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Vt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Vt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Vt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Vt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function Jk(t){const e=new Uint32Array(t);if(e[0]!==Lk)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,ou/Uint32Array.BYTES_PER_ELEMENT),i=n[au.HEIGHT],s=n[au.WIDTH],o=n[au.MIPMAP_COUNT],a=new Uint32Array(t,au.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Bk/Uint32Array.BYTES_PER_ELEMENT),l=a[Gk];if(l&$k){const u=a[Uk.FOURCC];if(u!==Kk){const g=Qk[u],x=Bf+ou,w=new Uint8Array(t,x);return[new Xi(w,{format:g,width:s,height:i,levels:o})]}const h=Bf+ou,f=new Uint32Array(e.buffer,h,f0/Uint32Array.BYTES_PER_ELEMENT),c=f[lu.DXGI_FORMAT],d=f[lu.RESOURCE_DIMENSION],p=f[lu.MISC_FLAG],m=f[lu.ARRAY_SIZE],v=Zk[c];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${c}`);if(p===qk)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const _=new Array,y=Bf+ou+f0;if(m===1)_.push(new Uint8Array(t,y));else{const g=Sh[v];let x=0,w=s,S=i;for(let T=0;T<o;T++){const b=Math.max(1,w+3&-4),R=Math.max(1,S+3&-4),k=b*R*g;x+=k,w=w>>>1,S=S>>>1}let E=y;for(let T=0;T<m;T++)_.push(new Uint8Array(t,E,x)),E+=x}return _.map(g=>new Xi(g,{format:v,width:s,height:i,levels:o}))}throw l&Hk?new Error("DDSParser does not support uncompressed texture data."):l&Vk?new Error("DDSParser does not supported YUV uncompressed texture data."):l&jk?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&zk?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const d0=[171,75,84,88,32,49,49,187,13,10,26,10],eD=67305985,wr={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Ap=64,p0={[J.UNSIGNED_BYTE]:1,[J.UNSIGNED_SHORT]:2,[J.INT]:4,[J.UNSIGNED_INT]:4,[J.FLOAT]:4,[J.HALF_FLOAT]:8},tD={[U.RGBA]:4,[U.RGB]:3,[U.RG]:2,[U.RED]:1,[U.LUMINANCE]:1,[U.LUMINANCE_ALPHA]:2,[U.ALPHA]:1},rD={[J.UNSIGNED_SHORT_4_4_4_4]:2,[J.UNSIGNED_SHORT_5_5_5_1]:2,[J.UNSIGNED_SHORT_5_6_5]:2};function nD(t,e,r=!1){const n=new DataView(e);if(!iD(t,n))return null;const i=n.getUint32(wr.ENDIANNESS,!0)===eD,s=n.getUint32(wr.GL_TYPE,i),o=n.getUint32(wr.GL_FORMAT,i),a=n.getUint32(wr.GL_INTERNAL_FORMAT,i),l=n.getUint32(wr.PIXEL_WIDTH,i),u=n.getUint32(wr.PIXEL_HEIGHT,i)||1,h=n.getUint32(wr.PIXEL_DEPTH,i)||1,f=n.getUint32(wr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,c=n.getUint32(wr.NUMBER_OF_FACES,i),d=n.getUint32(wr.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(wr.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||h!==1)throw new Error("Only 2D textures are supported");if(c!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const m=4,v=4,_=l+3&-4,y=u+3&-4,g=new Array(f);let x=l*u;s===0&&(x=_*y);let w;if(s!==0?p0[s]?w=p0[s]*tD[o]:w=rD[s]:w=Sh[a],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?oD(n,p,i):null;let T=x*w,b=l,R=u,k=_,N=y,I=Ap+p;for(let P=0;P<d;P++){const $=n.getUint32(I,i);let X=I+4;for(let F=0;F<f;F++){let O=g[F];O||(O=g[F]=new Array(d)),O[P]={levelID:P,levelWidth:d>1||s!==0?b:k,levelHeight:d>1||s!==0?R:N,levelBuffer:new Uint8Array(e,X,T)},X+=T}I+=$+4,I=I%4!==0?I+4-I%4:I,b=b>>1||1,R=R>>1||1,k=b+m-1&-4,N=R+v-1&-4,T=k*N*w}return s!==0?{uncompressed:g.map(P=>{let $=P[0].levelBuffer,X=!1;return s===J.FLOAT?$=new Float32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4):s===J.UNSIGNED_INT?(X=!0,$=new Uint32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)):s===J.INT&&(X=!0,$=new Int32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)),{resource:new wl($,{width:P[0].levelWidth,height:P[0].levelHeight}),type:s,format:X?sD(o):o}}),kvData:S}:{compressed:g.map(P=>new Xi(null,{format:a,width:l,height:u,levels:d,levelBuffers:P})),kvData:S}}function iD(t,e){for(let r=0;r<d0.length;r++)if(e.getUint8(r)!==d0[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function sD(t){switch(t){case U.RGBA:return U.RGBA_INTEGER;case U.RGB:return U.RGB_INTEGER;case U.RG:return U.RG_INTEGER;case U.RED:return U.RED_INTEGER;default:return t}}function oD(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(Ap+i,r),o=Ap+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,h),i+=4+s+a}return n}const aD={extension:{type:W.LoadParser,priority:ln.High},name:"loadDDS",test(t){return ps(t,".dds")},async load(t,e,r){const i=await(await V.ADAPTER.fetch(t)).arrayBuffer(),o=Jk(i).map(a=>{const l=new se(a,{mipmap:sn.OFF,alphaMode:Ur.NO_PREMULTIPLIED_ALPHA,resolution:mi(t),...e.data});return dc(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Z.add(aD);const lD={extension:{type:W.LoadParser,priority:ln.High},name:"loadKTX",test(t){return ps(t,".ktx")},async load(t,e,r){const i=await(await V.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=nD(t,i),l=s??o,u={mipmap:sn.OFF,alphaMode:Ur.NO_PREMULTIPLIED_ALPHA,resolution:mi(t),...e.data},h=l.map(f=>{l===o&&Object.assign(u,{type:f.type,format:f.format});const c=new se(f,u);return c.ktxKeyValueData=a,dc(c,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Z.add(lD);const uD={extension:W.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=V.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=V.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Z.add(uD);const hD=new ae,cD=4,oa=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&oa._flipY(r,n,i),oa._unpremultiplyAlpha(r);const o=new n2(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&oa._flipY(r,n,i),oa._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof fs?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const f=s.framebuffer.glFramebuffers[r.CONTEXT_UID];f.blitFramebuffer&&r.framebuffer.bind(f.blitFramebuffer)}}else n=r.resolution,e||(e=hD,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),l=Math.round(e.height*n),u=new Uint8Array(cD*a*l),h=r.gl;return h.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,l,h.RGBA,h.UNSIGNED_BYTE,u),o&&(s==null||s.destroy(!0)),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,l=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,l,l+n),t.set(s,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let Ww=oa;Ww.extension={name:"extract",type:W.RendererSystem};Z.add(Ww);const bh={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===ft.CIRC){const p=t.shape;r=p.x,n=p.y,o=a=p.radius,i=s=0}else if(t.type===ft.ELIP){const p=t.shape;r=p.x,n=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,v=p.height/2;r=p.x+m,n=p.y+v,o=a=Math.max(0,Math.min(p.radius,Math.min(m,v))),i=m-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let h=0,f=l*4+(i?2:0)+2,c=f,d=u;{const p=i+o,m=s,v=r+p,_=r-p,y=n+m;if(e[h++]=v,e[h++]=y,e[--f]=y,e[--f]=_,s){const g=n-m;e[c++]=_,e[c++]=g,e[--d]=g,e[--d]=v}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),v=i+Math.cos(m)*o,_=s+Math.sin(m)*a,y=r+v,g=r-v,x=n+_,w=n-_;e[h++]=y,e[h++]=x,e[--f]=x,e[--f]=g,e[c++]=g,e[c++]=w,e[--d]=w,e[--d]=y}{const p=i,m=s+a,v=r+p,_=r-p,y=n+m,g=n-m;e[h++]=v,e[h++]=y,e[--d]=g,e[--d]=v,i&&(e[h++]=_,e[h++]=y,e[--d]=g,e[--d]=_)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==ft.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function m0(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const Xw={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){m0(r,!1);const o=[];for(let u=0;u<n.length;u++){const h=n[u];m0(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=MA(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},fD={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},dD={build(t){bh.build(t)},triangulate(t,e){bh.triangulate(t,e)}};var Cr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Cr||{}),$i=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))($i||{});const _o={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class g0{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,h=a-e,f=i-r,c=n-e,d=Math.abs(u*c-h*f);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=u*u+h*h,m=f*f+c*c,v=u*f+h*c,_=s*Math.sqrt(p)/d,y=s*Math.sqrt(m)/d,g=_*v/p,x=y*v/m,w=_*c+y*h,S=_*f+y*u,E=h*(y+g),T=u*(y+g),b=c*(_+x),R=f*(_+x),k=Math.atan2(T-S,E-w),N=Math.atan2(R-S,b-w);return{cx:w+e,cy:S+r,radius:s,startAngle:k,endAngle:N,anticlockwise:h*f>c*u}}static arc(e,r,n,i,s,o,a,l,u){const h=a-o,f=_o._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/xh)*40),c=h/(f*2),d=c*2,p=Math.cos(c),m=Math.sin(c),v=f-1,_=v%1/v;for(let y=0;y<=v;++y){const g=y+_*y,x=c+o+d*g,w=Math.cos(x),S=-Math.sin(x);u.push((p*w+m*S)*s+n,(p*-S+m*w)*s+i)}}}class pD{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class lg{static curveLength(e,r,n,i,s,o,a,l){let h=0,f=0,c=0,d=0,p=0,m=0,v=0,_=0,y=0,g=0,x=0,w=e,S=r;for(let E=1;E<=10;++E)f=E/10,c=f*f,d=c*f,p=1-f,m=p*p,v=m*p,_=v*e+3*m*f*n+3*p*c*s+d*a,y=v*r+3*m*f*i+3*p*c*o+d*l,g=w-_,x=S-y,w=_,S=y,h+=Math.sqrt(g*g+x*x);return h}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const h=_o._segmentsCount(lg.curveLength(l,u,e,r,n,i,s,o));let f=0,c=0,d=0,p=0,m=0;a.push(l,u);for(let v=1,_=0;v<=h;++v)_=v/h,f=1-_,c=f*f,d=c*f,p=_*_,m=p*_,a.push(d*l+3*c*_*e+3*f*p*n+m*s,d*u+3*c*_*r+3*f*p*i+m*o)}}function y0(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,h=t+r*s,f=e+n*s;let c,d;o?(c=n,d=-r):(c=-n,d=r);const p=l+c,m=u+d,v=h+c,_=f+d;return a.push(p,m,v,_),2}function Pi(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let h=Math.atan2(l,u),f=Math.atan2(i-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let c=h;const d=f-h,p=Math.abs(d),m=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(m)/Math.PI>>0)+1,_=d/v;if(c+=_,a){o.push(t,e,r,n);for(let y=1,g=c;y<v;y++,g+=_)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let y=1,g=c;y<v;y++,g+=_)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(i,s,t,e)}return v*2}function mD(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new de(n[0],n[1]),a=new de(n[n.length-2],n[n.length-1]),l=r.type!==ft.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const F=(o.x+a.x)*.5,O=(a.y+o.y)*.5;n.unshift(F,O),n.push(F,O)}const h=e.points,f=n.length/2;let c=n.length;const d=h.length/2,p=s.width/2,m=p*p,v=s.miterLimit*s.miterLimit;let _=n[0],y=n[1],g=n[2],x=n[3],w=0,S=0,E=-(y-x),T=_-g,b=0,R=0,k=Math.sqrt(E*E+T*T);E/=k,T/=k,E*=p,T*=p;const N=s.alignment,I=(1-N)*2,P=N*2;l||(s.cap===$i.ROUND?c+=Pi(_-E*(I-P)*.5,y-T*(I-P)*.5,_-E*I,y-T*I,_+E*P,y+T*P,h,!0)+2:s.cap===$i.SQUARE&&(c+=y0(_,y,E,T,I,P,!0,h))),h.push(_-E*I,y-T*I,_+E*P,y+T*P);for(let F=1;F<f-1;++F){_=n[(F-1)*2],y=n[(F-1)*2+1],g=n[F*2],x=n[F*2+1],w=n[(F+1)*2],S=n[(F+1)*2+1],E=-(y-x),T=_-g,k=Math.sqrt(E*E+T*T),E/=k,T/=k,E*=p,T*=p,b=-(x-S),R=g-w,k=Math.sqrt(b*b+R*R),b/=k,R/=k,b*=p,R*=p;const O=g-_,z=y-x,A=g-w,H=S-x,K=O*A+z*H,oe=z*A-H*O,ne=oe<0;if(Math.abs(oe)<.001*Math.abs(K)){h.push(g-E*I,x-T*I,g+E*P,x+T*P),K>=0&&(s.join===Cr.ROUND?c+=Pi(g,x,g-E*I,x-T*I,g-b*I,x-R*I,h,!1)+4:c+=2,h.push(g-b*P,x-R*P,g+b*I,x+R*I));continue}const pe=(-E+_)*(-T+x)-(-E+g)*(-T+y),me=(-b+w)*(-R+x)-(-b+g)*(-R+S),xe=(O*me-A*pe)/oe,qe=(H*pe-z*me)/oe,gt=(xe-g)*(xe-g)+(qe-x)*(qe-x),We=g+(xe-g)*I,we=x+(qe-x)*I,Re=g-(xe-g)*P,$e=x-(qe-x)*P,rr=Math.min(O*O+z*z,A*A+H*H),C=ne?I:P,M=rr+C*C*m,B=gt<=M;let G=s.join;if(G===Cr.MITER&&gt/m>v&&(G=Cr.BEVEL),B)switch(G){case Cr.MITER:{h.push(We,we,Re,$e);break}case Cr.BEVEL:{ne?h.push(We,we,g+E*P,x+T*P,We,we,g+b*P,x+R*P):h.push(g-E*I,x-T*I,Re,$e,g-b*I,x-R*I,Re,$e),c+=2;break}case Cr.ROUND:{ne?(h.push(We,we,g+E*P,x+T*P),c+=Pi(g,x,g+E*P,x+T*P,g+b*P,x+R*P,h,!0)+4,h.push(We,we,g+b*P,x+R*P)):(h.push(g-E*I,x-T*I,Re,$e),c+=Pi(g,x,g-E*I,x-T*I,g-b*I,x-R*I,h,!1)+4,h.push(g-b*I,x-R*I,Re,$e));break}}else{switch(h.push(g-E*I,x-T*I,g+E*P,x+T*P),G){case Cr.MITER:{ne?h.push(Re,$e,Re,$e):h.push(We,we,We,we),c+=2;break}case Cr.ROUND:{ne?c+=Pi(g,x,g+E*P,x+T*P,g+b*P,x+R*P,h,!0)+2:c+=Pi(g,x,g-E*I,x-T*I,g-b*I,x-R*I,h,!1)+2;break}}h.push(g-b*I,x-R*I,g+b*P,x+R*P),c+=2}}_=n[(f-2)*2],y=n[(f-2)*2+1],g=n[(f-1)*2],x=n[(f-1)*2+1],E=-(y-x),T=_-g,k=Math.sqrt(E*E+T*T),E/=k,T/=k,E*=p,T*=p,h.push(g-E*I,x-T*I,g+E*P,x+T*P),l||(s.cap===$i.ROUND?c+=Pi(g-E*(I-P)*.5,x-T*(I-P)*.5,g-E*I,x-T*I,g+E*P,x+T*P,h,!1)+2:s.cap===$i.SQUARE&&(c+=y0(g,x,E,T,I,P,!1,h)));const $=e.indices,X=_o.epsilon*_o.epsilon;for(let F=d;F<c+d-2;++F)_=h[F*2],y=h[F*2+1],g=h[(F+1)*2],x=h[(F+1)*2+1],w=h[(F+2)*2],S=h[(F+2)*2+1],!(Math.abs(_*(x-S)+g*(S-y)+w*(y-x))<X)&&$.push(F,F+1,F+2)}function gD(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==ft.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let h=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,u)}function _0(t,e){t.lineStyle.native?gD(t,e):mD(t,e)}class ug{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,h=2*i-2*r,f=4*(a*a+l*l),c=4*(a*u+l*h),d=u*u+h*h,p=2*Math.sqrt(f+c+d),m=Math.sqrt(f),v=2*f*m,_=2*Math.sqrt(d),y=c/m;return(v*p+m*c*(p-_)+(4*d*f-c*c)*Math.log((2*m+y+p)/(y+_)))/(4*v)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=_o._segmentsCount(ug.curveLength(o,a,e,r,n,i));let u=0,h=0;for(let f=1;f<=l;++f){const c=f/l;u=o+(e-o)*c,h=a+(r-a)*c,s.push(u+(e+(n-e)*c-u)*c,h+(r+(i-r)*c-h)*c)}}}const Lf={[ft.POLY]:Xw,[ft.CIRC]:bh,[ft.ELIP]:bh,[ft.RECT]:fD,[ft.RREC]:dD},v0=[],uu=[];class Ch{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Ch(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ws=new de,Yw=class extends iw{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new wh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),uu.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),v0.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Ch(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Ch(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,ws):ws.copyFrom(t),n.shape.contains(ws.x,ws.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(ws.x,ws.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,h=l.lineStyle;Lf[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||h.visible)&&this.processHoles(l.holes);for(let c=0;c<2;c++){const d=c===0?u:h;if(!d.visible)continue;const p=d.texture.baseTexture,m=this.indices.length,v=this.points.length/2;p.wrapMode=hi.REPEAT,c===0?this.processFill(l):this.processLine(l);const _=this.points.length/2-v;_!==0&&(r&&!this._compareStyles(n,d)&&(r.end(m,v),r=null),r||(r=v0.pop()||new pD,r.begin(d,m,v),this.batches.push(r),n=d),this.addUvs(this.points,t,d.texture,v,_,d.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<Yw.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++se._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),uu.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=uu.pop();n||(n=new pp,n.texArray=new gp),n.texArray.count=0,n.start=0,n.size=0,n.type=Qr.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Qr.TRIANGLES,u=0;this.drawCalls.push(n);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],c=8,d=f.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?Qr.LINES:Qr.TRIANGLES,s=null,i=c,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===c&&(t++,i=0,n.size>0&&(n=uu.pop(),n||(n=new pp,n.texArray=new gp),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=hi.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=f.size,u+=f.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,f.attribSize,f.attribStart),this.addTextureIds(r,o,f.attribSize,f.attribStart)}se._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Xw.triangulate(t,this):Lf[t.type].triangulate(t,this)}processLine(t){_0(t,this);for(let e=0;e<t.holes.length;e++)_0(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Lf[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=ye.shared.setValue(e).toLittleEndianNumber(),o=ye.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,l=r.frame;for(;o<i;){let h=t[(n+o)*2],f=t[(n+o)*2+1];if(s){const c=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=c}o++,e.push(h/l.width,f/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let h=a.x/a.width,f=a.y/a.height,c=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));h-=c,f-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+f)*u}};let Kw=Yw;Kw.BATCHABLE_SIZE=100;class mc{constructor(){this.color=16777215,this.alpha=1,this.texture=q.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new mc;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=q.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class hg extends mc{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=$i.BUTT,this.join=Cr.MITER,this.miterLimit=10}clone(){const e=new hg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Uf={},Ou=class extends $t{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new mc,this._lineStyle=new hg,this._matrix=null,this._holeMode=!1,this.state=Bn.for2d(),this._geometry=t||new Kw,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ye(16777215),this.blendMode=te.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Ou(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:q.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:$i.BUTT,join:Cr.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ro,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ro,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),ug.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),lg.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=g0.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:h,endAngle:f,anticlockwise:c}=o;this.arc(a,l,u,h,f,c)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=xh:s&&n<=i&&(n+=xh),i-n===0)return this;const a=t+Math.cos(n)*r,l=e+Math.sin(n)*r,u=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),c=Math.abs(h[h.length-1]-l);f<u&&c<u||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return g0.arc(a,l,t,e,r,n,i,s,h),this}beginFill(t=0,e){return this.beginTextureFill({texture:q.WHITE,color:t,alpha:e})}normalizeColor(t){const e=ye.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:q.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new ae(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new ig(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new rg(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new ng(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new ro(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ft.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:ye.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,ye.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Uf[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Pe,default:Nr.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;Uf[r]=new tn(o,s)}e=Uf[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Ou._TEMP_POINT),this._geometry.containsPoint(Ou._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=ye.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const c=l[f],d=l[f+1];u[h++]=r*c+i*d+o,u[h++]=s*d+n*c+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let _n=Ou;_n.curves=_o;_n._TEMP_POINT=new de;class yD{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Gf=new de,x0=new ro,qw=class extends $t{constructor(t,e,r,n=Qr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Bn.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=V.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Qr.TRIANGLES&&e.length<qw.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,h=i.ty,f=this.vertexData;for(let c=0;c<f.length/2;c++){const d=r[c*2],p=r[c*2+1];f[c*2]=s*d+a*p+u,f[c*2+1]=o*d+l*p+h}if(this._roundPixels){const c=V.RESOLUTION;for(let d=0;d<f.length;++d)f[d]=Math.round(f[d]*c)/c}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new yD(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Gf);const e=this.geometry.getBuffer("aVertexPosition").data,r=x0.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,l=n[o+1]*2,u=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[u],r[5]=e[u+1],x0.contains(Gf.x,Gf.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Pp=qw;Pp.BATCHABLE_SIZE=100;class _D extends gi{constructor(e,r,n){super();const i=new Ve(e),s=new Ve(r,!0),o=new Ve(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,J.FLOAT).addAttribute("aTextureCoord",s,2,!1,J.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var vD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,xD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class w0 extends tn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Pe.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Mr.from(xD,vD),n),this._colorDirty=!1,this.uvMatrix=new xw(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ye(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;ye.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class E0{constructor(e,r,n){this.geometry=new gi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||J.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ve(t2(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ve(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ve(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===J.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===J.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===J.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===J.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var wD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,ED=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Qw extends lc{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Pe,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:J.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=tn.from(ED,wD,{}),this.state=Bn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=ew(e.blendMode,u),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=ye.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let c=!1;for(let d=0,p=0;d<o;d+=i,p+=1){let m=o-d;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[p];v.uploadDynamic(r,d,m);const _=e._bufferUpdateIDs[p]||0;c=c||v._updateID<_,c&&(v._updateID=e._updateID,v.uploadStatic(r,d,m)),s.geometry.bind(v.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new E0(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new E0(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,h=0;for(let f=0;f<n;++f){const c=e[r+f],d=c._texture,p=c.scale.x,m=c.scale.y,v=d.trim,_=d.orig;v?(l=v.x-c.anchor.x*_.width,a=l+v.width,h=v.y-c.anchor.y*_.height,u=h+v.height):(a=_.width*(1-c.anchor.x),l=_.width*-c.anchor.x,u=_.height*(1-c.anchor.y),h=_.height*-c.anchor.y),i[o]=l*p,i[o+1]=h*m,i[o+s]=a*p,i[o+s+1]=h*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=ye.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Qw.extension={name:"particle",type:W.RendererPlugin};Z.add(Qw);var gc=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(gc||{});const hu={willReadFrequently:!0},Q=class{static get experimentalLetterSpacingSupported(){let t=Q._experimentalLetterSpacingSupported;if(t!==void 0){const e=V.ADAPTER.getCanvasRenderingContext2D().prototype;t=Q._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,n=Q._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=Q.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",hu);o.font=i;const l=(r?Q.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=Q._measureText(l[p],e.letterSpacing,o);u[p]=m,h=Math.max(h,m)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const c=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(c,s.fontSize+e.strokeThickness*2)+(l.length-1)*(c+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new Q(t,e,f,d,l,u,c+e.leading,h,s)}static _measureText(t,e,r){let n=!1;Q.experimentalLetterSpacingSupported&&(Q.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(Q.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=Q._canvas){const n=r.getContext("2d",hu);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,h=Q.collapseSpaces(u),f=Q.collapseNewlines(u);let c=!h;const d=e.wordWrapWidth+l,p=Q.tokenize(t);for(let m=0;m<p.length;m++){let v=p[m];if(Q.isNewline(v)){if(!f){o+=Q.addLine(s),c=!h,s="",i=0;continue}v=" "}if(h){const y=Q.isBreakingSpace(v),g=Q.isBreakingSpace(s[s.length-1]);if(y&&g)continue}const _=Q.getFromCache(v,l,a,n);if(_>d)if(s!==""&&(o+=Q.addLine(s),s="",i=0),Q.canBreakWords(v,e.breakWords)){const y=Q.wordWrapSplit(v);for(let g=0;g<y.length;g++){let x=y[g],w=x,S=1;for(;y[g+S];){const T=y[g+S];if(!Q.canBreakChars(w,T,v,g,e.breakWords))x+=T;else break;w=T,S++}g+=S-1;const E=Q.getFromCache(x,l,a,n);E+i>d&&(o+=Q.addLine(s),c=!1,s="",i=0),s+=x,i+=E}}else{s.length>0&&(o+=Q.addLine(s),s="",i=0);const y=m===p.length-1;o+=Q.addLine(v,!y),c=!1,s="",i=0}else _+i>d&&(c=!1,o+=Q.addLine(s),s="",i=0),(s.length>0||!Q.isBreakingSpace(v)||c)&&(s+=v,i+=_)}return o+=Q.addLine(s,!1),o}static addLine(t,e=!0){return t=Q.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=Q._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!Q.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Q._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Q._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(Q.isBreakingSpace(i,s)||Q.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return Q.graphemeSegmenter(t)}static measureFont(t){if(Q._fonts[t])return Q._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=Q._canvas,n=Q._context;n.font=t;const i=Q.METRICS_STRING+Q.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(Q.BASELINE_SYMBOL).width);const a=Math.ceil(Q.HEIGHT_MULTIPLIER*o);if(o=o*Q.BASELINE_MULTIPLIER|0,s===0||a===0)return Q._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const l=n.getImageData(0,0,s,a).data,u=l.length,h=s*4;let f=0,c=0,d=!1;for(f=0;f<o;++f){for(let p=0;p<h;p+=4)if(l[c+p]!==255){d=!0;break}if(!d)c+=h;else break}for(e.ascent=o-f,c=u-h,d=!1,f=a;f>o;--f){for(let p=0;p<h;p+=4)if(l[c+p]!==255){d=!0;break}if(!d)c-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,Q._fonts[t]=e,e}static clearMetrics(t=""){t?delete Q._fonts[t]:Q._fonts={}}static get _canvas(){if(!Q.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",hu);if(r!=null&&r.measureText)return Q.__canvas=e,e;t=V.ADAPTER.createCanvas()}catch{t=V.ADAPTER.createCanvas()}t.width=t.height=10,Q.__canvas=t}return Q.__canvas}static get _context(){return Q.__context||(Q.__context=Q._canvas.getContext("2d",hu)),Q.__context}};let ht=Q;ht.METRICS_STRING="|q";ht.BASELINE_SYMBOL="M";ht.BASELINE_MULTIPLIER=1.4;ht.HEIGHT_MULTIPLIER=2;ht.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();ht.experimentalLetterSpacing=!1;ht._fonts={};ht._newlines=[10,13];ht._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const TD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],aa=class{constructor(t){this.styleID=0,this.reset(),$f(this,t,t)}clone(){const t={};return $f(t,this,aa.defaultStyle),new aa(t)}reset(){$f(this,aa.defaultStyle,aa.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=zf(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=zf(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){SD(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=zf(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!TD.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let kn=aa;kn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:gc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function zf(t){const e=ye.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function SD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function $f(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const bD={texture:!0,children:!1,baseTexture:!0},Rp=class extends ds{constructor(t,e,r){let n=!1;r||(r=V.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=q.from(r);i.orig=new ae,i.trim=new ae,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Rp.defaultResolution??V.RESOLUTION,this._autoResolution=Rp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return ht.experimentalLetterSpacing}static set experimentalLetterSpacing(t){he("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ht.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=ht.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let f,c;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const m=e.dropShadow&&p===0,v=m?Math.ceil(Math.max(1,s)+e.padding*2):0,_=v*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,x=e.dropShadowBlur*this._resolution,w=e.dropShadowDistance*this._resolution;r.shadowColor=ye.shared.setValue(g).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=x,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*w,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*w+_}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let y=(a-h.fontSize)/2;a-h.fontSize<0&&(y=0);for(let g=0;g<o.length;g++)f=e.strokeThickness/2,c=e.strokeThickness/2+g*a+h.ascent+y,e.align==="right"?f+=u-l[g]:e.align==="center"&&(f+=(u-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],f+e.padding,c+e.padding-v,!0),e.fill&&this.drawLetterSpacing(o[g],f+e.padding,c+e.padding-v)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(ht.experimentalLetterSpacingSupported&&(ht.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=ht.graphemeSegmenter(t);let u=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const c=l[f];n?this.context.strokeText(c,a,r):this.context.fillText(c,a,r);let d="";for(let p=f+1;p<l.length;++p)d+=l[p];h=this.context.measureText(d).width,a+=u-h+s,u=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=s2(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=n.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=u.length+1;for(let c=1;c<f;++c)h.push(c/f)}if(u.unshift(n[0]),h.unshift(0),u.push(n[n.length-1]),h.push(1),t.fillGradientType===gc.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=r.fontProperties.fontSize+t.strokeThickness;for(let c=0;c<e.length;c++){const d=r.lineHeight*(c-1)+f,p=r.lineHeight*c;let m=p;c>0&&d>p&&(m=(p+d)/2);const v=p+f,_=r.lineHeight*(c+1);let y=v;c+1<e.length&&_<v&&(y=(v+_)/2);const g=(y-m)/l;for(let x=0;x<u.length;x++){let w=0;typeof h[x]=="number"?w=h[x]:w=x/u.length;let S=Math.min(1,Math.max(0,m/l+w*g));S=Number(S.toFixed(5)),i.addColorStop(S,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=u.length+1;let c=1;for(let d=0;d<u.length;d++){let p;typeof h[d]=="number"?p=h[d]:p=c/f,i.addColorStop(p,u[d]),c++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},bD,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=qn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=qn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof kn?this._style=t:this._style=new kn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let rl=Rp;rl.defaultAutoResolution=!0;class CD{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function AD(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof q){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function PD(t,e){if(t.baseTexture instanceof se){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function RD(t,e){if(t._texture&&t._texture instanceof q){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ID(t,e){return e instanceof rl?(e.updateText(!0),!0):!1}function MD(t,e){if(e instanceof kn){const r=e.toFontString();return ht.measureFont(r),!0}return!1}function kD(t,e){if(t instanceof rl){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function DD(t,e){return t instanceof kn?(e.includes(t)||e.push(t),!0):!1}const Zw=class{constructor(t){this.limiter=new CD(Zw.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(kD),this.registerFindHook(DD),this.registerFindHook(AD),this.registerFindHook(PD),this.registerFindHook(RD),this.registerUploadHook(ID),this.registerUploadHook(MD)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,xt.system.addOnce(this.tick,this,ss.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)xt.system.addOnce(this.tick,this,ss.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof $t)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&xt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Ah=Zw;Ah.uploadsPerFrame=4;Object.defineProperties(V,{UPLOADS_PER_FRAME:{get(){return Ah.uploadsPerFrame},set(t){he("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Ah.uploadsPerFrame=t}}});function Jw(t,e){return e instanceof se?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function OD(t,e){if(!(e instanceof _n))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Jw(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function FD(t,e){return t instanceof _n?(e.push(t),!0):!1}class eE extends Ah{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(FD),this.registerUploadHook(Jw),this.registerUploadHook(OD)}}eE.extension={name:"prepare",type:W.RendererSystem};Z.add(eE);var ND=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,BD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,LD=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,T0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,UD=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const cu=new Pe;class tE extends lc{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new gw,this.state=Bn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=tn.from(T0,UD,r),this.shader=e.context.webGLVersion>1?tn.from(BD,ND,r):tn.from(T0,LD,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let c=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;c&&(l._glTextures[r.CONTEXT_UID]?c=l.wrapMode!==hi.CLAMP:l.wrapMode===hi.CLAMP&&(l.wrapMode=hi.REPEAT));const d=c?this.simpleShader:this.shader,p=a.width,m=a.height,v=e._width,_=e._height;cu.set(h.a*p/v,h.b*p/_,h.c*m/v,h.d*m/_,h.tx/v,h.ty/_),cu.invert(),c?cu.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=cu.toArray(!0),d.uniforms.uColor=ye.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(n),this.state.blendMode=ew(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}tE.extension={name:"tilingSprite",type:W.RendererPlugin};Z.add(tE);const la=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof q?t:null,this.baseTexture=t instanceof se?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=mi(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=la.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=la.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new ae(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new ae(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new q(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor,i.borders),q.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*la.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*la.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Ip=la;Ip.BATCH_SIZE=1e3;const GD=["jpg","png","jpeg","avif","webp"];function rE(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Et.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=rE([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const zD={extension:W.Asset,cache:{test:t=>t instanceof Ip,getCacheableAssets:(t,e)=>rE(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&GD.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=V.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:W.LoadParser,priority:ln.Normal},async testParse(t,e){return Et.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,h;let n=Et.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=Cp(i,e.src);const o=(await r.load([i]))[i],a=new Ip(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const f=[];for(const d of l){if(typeof d!="string")continue;let p=n+d;(h=e.data)!=null&&h.ignoreMultiPack||(p=Cp(p,e.src),f.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const c=await Promise.all(f);a.linkedSheets=c,c.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};Z.add(zD);class Ph{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Fu{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const h=a[u].split("="),f=h[0],c=h[1].replace(/"/gm,""),d=parseFloat(c),p=isNaN(d)?c:d;l[f]=p}n[o].push(l)}const i=new Ph;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Mp{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Ph,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const h=o[u];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class kp{static test(e){return typeof e=="string"&&e.includes("<font>")?Mp.test(V.ADAPTER.parseXML(e)):!1}static parse(e){return Mp.parse(V.ADAPTER.parseXML(e))}}const Hf=[Fu,Mp,kp];function $D(t){for(let e=0;e<Hf.length;e++)if(Hf[e].test(t))return Hf[e];return null}function HD(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-l-u*2,f=t.height/n-l-u*2,c=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=c.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(c.unshift(o[0]),d.unshift(0),c.push(o[o.length-1]),d.push(1),r.fillGradientType===gc.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,u,h/2,f+u);let p=0;const v=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let _=0;_<i.length;_++){const y=s.lineHeight*_;for(let g=0;g<c.length;g++){let x=0;typeof d[g]=="number"?x=d[g]:x=g/c.length;const w=y/f+x*v;let S=Math.max(p,w);S=Math.min(S,1),a.addColorStop(S,c[g]),p=S}}}else{a=e.createLinearGradient(u,f/2,h+u,f/2);const p=c.length+1;let m=1;for(let v=0;v<c.length;v++){let _;typeof d[v]=="number"?_=d[v]:_=m/p,a.addColorStop(_,c[v]),m++}}return a}function VD(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=HD(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,c=o.dropShadowBlur*s,d=o.dropShadowDistance*s;e.shadowColor=ye.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=c,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Nu(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function nE(t){return Array.from?Array.from(t):t.split("")}function jD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...nE(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Sr=class{constructor(t,e,r){var u;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=mi(s.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:c}=t.page[h];l[f]=e instanceof Array?e[h]:e[c],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Ur.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=sn.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:c}=t.char[h];let{x:d,y:p,width:m,height:v,xoffset:_,yoffset:y,xadvance:g}=t.char[h];d/=a,p/=a,m/=a,v/=a,_/=a,y/=a,g/=a;const x=new ae(d+l[c].frame.x/a,p+l[c].frame.y/a,m,v);this.chars[f]={xOffset:_,yOffset:y,xAdvance:g,kerning:{},texture:new q(l[c].baseTexture,x),page:c}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:c,amount:d}=t.kerning[h];f/=a,c/=a,d/=a,this.chars[c]&&(this.chars[c].kerning[f]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof Ph)n=t;else{const s=$D(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof q&&(e=[e]);const i=new Sr(n,e,r);return Sr.available[i.font]=i,i}static uninstall(t){const e=Sr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Sr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Sr.defaultOptions,r),u=jD(n),h=e instanceof kn?e:new kn(e),f=o,c=new Ph;c.info[0]={face:h.fontFamily,size:h.fontSize},c.common[0]={lineHeight:h.fontSize};let d=0,p=0,m,v,_,y=0;const g=[];for(let w=0;w<u.length;w++){m||(m=V.ADAPTER.createCanvas(),m.width=o,m.height=a,v=m.getContext("2d"),_=new se(m,{resolution:s,...l}),g.push(new q(_)),c.page.push({id:g.length-1,file:""}));const S=u[w],E=ht.measureText(S,h,!1,m),T=E.width,b=Math.ceil(E.height),R=Math.ceil((h.fontStyle==="italic"?2:1)*T);if(p>=a-b*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${S}')`);--w,m=null,v=null,_=null,p=0,d=0,y=0;continue}if(y=Math.max(b+E.fontProperties.descent,y),R*s+d>=f){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${S}')`);--w,p+=y*s,p=Math.ceil(p),d=0,y=0;continue}VD(m,v,E,d,p,s,h);const k=Nu(E.text);c.char.push({id:k,page:g.length-1,x:d/s,y:p/s,width:R,height:b,xoffset:0,yoffset:0,xadvance:T-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),d+=(R+2*i)*s,d=Math.ceil(d)}for(let w=0,S=u.length;w<S;w++){const E=u[w];for(let T=0;T<S;T++){const b=u[T],R=v.measureText(E).width,k=v.measureText(b).width,I=v.measureText(E+b).width-(R+k);I&&c.kerning.push({first:Nu(E),second:Nu(b),amount:I})}}const x=new Sr(c,g,!0);return Sr.available[t]!==void 0&&Sr.uninstall(t),Sr.available[t]=x,x}};let kt=Sr;kt.ALPHA=[["a","z"],["A","Z"]," "];kt.NUMERIC=[["0","9"]];kt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];kt.ASCII=[[" ","~"]];kt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Sr.ALPHANUMERIC};kt.available={};var WD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,XD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const S0=[],b0=[],C0=[],iE=class extends $t{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},iE.styleDefaults,e);if(!kt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new ye(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Qn(()=>{this.dirty=!0},this,0,0),this._roundPixels=V.ROUND_PIXELS,this.dirty=!0,this._resolution=V.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var R;const t=kt.available[this._fontName],e=this.fontSize,r=e/t.size,n=new de,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=nE(a),u=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?S0:b0;let f=null,c=0,d=0,p=0,m=-1,v=0,_=0,y=0,g=0;for(let k=0;k<l.length;k++){const N=l[k],I=Nu(N);if(/(?:\s)/.test(N)&&(m=k,v=c,g++),N==="\r"||N===`
`){s.push(c),o.push(-1),d=Math.max(d,c),++p,++_,n.x=0,n.y+=t.lineHeight,f=null,g=0;continue}const P=t.chars[I];if(!P)continue;f&&P.kerning[f]&&(n.x+=P.kerning[f]);const $=C0.pop()||{texture:q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new de};$.texture=P.texture,$.line=p,$.charCode=I,$.position.x=Math.round(n.x+P.xOffset+this._letterSpacing/2),$.position.y=Math.round(n.y+P.yOffset),$.prevSpaces=g,i.push($),c=$.position.x+Math.max(P.xAdvance-P.xOffset,P.texture.orig.width),n.x+=P.xAdvance+this._letterSpacing,y=Math.max(y,P.yOffset+P.texture.height),f=I,m!==-1&&u>0&&n.x>u&&(++_,to(i,1+m-_,1+k-m),k=m,m=-1,s.push(v),o.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,v),p++,n.x=0,n.y+=t.lineHeight,f=null,g=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(c=v),s.push(c),d=Math.max(d,c),o.push(-1));const w=[];for(let k=0;k<=p;k++){let N=0;this._align==="right"?N=d-s[k]:this._align==="center"?N=(d-s[k])/2:this._align==="justify"&&(N=o[k]<0?0:(d-s[k])/o[k]),w.push(N)}const S=i.length,E={},T=[],b=this._activePagesMeshData;h.push(...b);for(let k=0;k<S;k++){const N=i[k].texture,I=N.baseTexture.uid;if(!E[I]){let P=h.pop();if(!P){const X=new _D;let F,O;t.distanceFieldType==="none"?(F=new w0(q.EMPTY),O=te.NORMAL):(F=new w0(q.EMPTY,{program:Mr.from(XD,WD),uniforms:{uFWidth:0}}),O=te.NORMAL_NPM);const z=new Pp(X,F);z.blendMode=O,P={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:z,vertices:null,uvs:null,indices:null}}P.index=0,P.indexCount=0,P.vertexCount=0,P.uvsCount=0,P.total=0;const{_textureCache:$}=this;$[I]=$[I]||new q(N.baseTexture),P.mesh.texture=$[I],P.mesh.tint=this._tintColor.value,T.push(P),E[I]=P}E[I].total++}for(let k=0;k<b.length;k++)T.includes(b[k])||this.removeChild(b[k].mesh);for(let k=0;k<T.length;k++)T[k].mesh.parent!==this&&this.addChild(T[k].mesh);this._activePagesMeshData=T;for(const k in E){const N=E[k],I=N.total;if(!(((R=N.indices)==null?void 0:R.length)>6*I)||N.vertices.length<Pp.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*I),N.uvs=new Float32Array(4*2*I),N.indices=new Uint16Array(6*I);else{const P=N.total,$=N.vertices;for(let X=P*4*2;X<$.length;X++)$[X]=0}N.mesh.size=6*I}for(let k=0;k<S;k++){const N=i[k];let I=N.position.x+w[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(I=Math.round(I));const P=I*r,$=N.position.y*r,X=N.texture,F=E[X.baseTexture.uid],O=X.frame,z=X._uvs,A=F.index++;F.indices[A*6+0]=0+A*4,F.indices[A*6+1]=1+A*4,F.indices[A*6+2]=2+A*4,F.indices[A*6+3]=0+A*4,F.indices[A*6+4]=2+A*4,F.indices[A*6+5]=3+A*4,F.vertices[A*8+0]=P,F.vertices[A*8+1]=$,F.vertices[A*8+2]=P+O.width*r,F.vertices[A*8+3]=$,F.vertices[A*8+4]=P+O.width*r,F.vertices[A*8+5]=$+O.height*r,F.vertices[A*8+6]=P,F.vertices[A*8+7]=$+O.height*r,F.uvs[A*8+0]=z.x0,F.uvs[A*8+1]=z.y0,F.uvs[A*8+2]=z.x1,F.uvs[A*8+3]=z.y1,F.uvs[A*8+4]=z.x2,F.uvs[A*8+5]=z.y2,F.uvs[A*8+6]=z.x3,F.uvs[A*8+7]=z.y3}this._textWidth=d*r,this._textHeight=(n.y+t.lineHeight)*r;for(const k in E){const N=E[k];if(this.anchor.x!==0||this.anchor.y!==0){let X=0;const F=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let z=0;z<N.total;z++)N.vertices[X++]-=F,N.vertices[X++]-=O,N.vertices[X++]-=F,N.vertices[X++]-=O,N.vertices[X++]-=F,N.vertices[X++]-=O,N.vertices[X++]-=F,N.vertices[X++]-=O}this._maxLineHeight=y*r;const I=N.mesh.geometry.getBuffer("aVertexPosition"),P=N.mesh.geometry.getBuffer("aTextureCoord"),$=N.mesh.geometry.getIndex();I.data=N.vertices,P.data=N.uvs,$.data=N.indices,I.update(),P.update(),$.update()}for(let k=0;k<i.length;k++)C0.push(i[k]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=kt.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(u))/2,f=this.fontSize/n,c=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=h*e*f*c}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=kt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!kt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??kt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=kt.available[this._fontName].distanceFieldType==="none"?S0:b0;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=q.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let YD=iE;YD.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const KD=[".xml",".fnt"],qD={extension:{type:W.LoadParser,priority:ln.Normal},name:"loadBitmapFont",test(t){return KD.includes(Et.extname(t).toLowerCase())},async testParse(t){return Fu.test(t)||kp.test(t)},async parse(t,e,r){const n=Fu.test(t)?Fu.parse(t):kp.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const h=s[u].file;let f=Et.join(Et.dirname(i),h);f=Cp(f,i),o.push(f)}const a=await r.load(o),l=o.map(u=>a[u]);return kt.install(n,l,!0)},async load(t,e){return(await V.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Z.add(qD);const As=class extends kn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new As(Object.keys(As.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete As.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=As;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return V.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:Et.basename(t,Et.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=JI(t)),typeof t=="number"?ZI(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,As.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=V.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Ca=As;Ca.availableFonts={};Ca.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Ps=class extends ds{constructor(t="",e={}){super(q.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=q.from(r,{scaleMode:V.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new ae,n.trim=new ae,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),l=document.createElementNS(s,"div"),u=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=Ps.defaultMaxWidth,this.maxHeight=Ps.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=r,this._loadImage=new Image,this._autoResolution=Ps.defaultAutoResolution,this._resolution=Ps.defaultResolution??V.RESOLUTION,this.text=t,this.style=e}measureText(t){var a,l;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(a=this._style)==null?void 0:a.toCSS(n)}),this._styleElement.textContent=(l=this._style)==null?void 0:l.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Ps.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=qn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=qn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Ca?(this.ownsStyle=!1,this._style=t):t instanceof kn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ca.from(t)):(this.ownsStyle=!0,this._style=new Ca(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let yc=Ps;yc.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};yc.defaultMaxWidth=2024;yc.defaultMaxHeight=2024;yc.defaultAutoResolution=!0;function mn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var qt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},vo={duration:.5,overwrite:!1,delay:0},cg,Tt,Ye,cr=1e8,ve=1/cr,Dp=Math.PI*2,QD=Dp/4,ZD=0,oE=Math.sqrt,JD=Math.cos,eO=Math.sin,at=function(e){return typeof e=="string"},ze=function(e){return typeof e=="function"},Dn=function(e){return typeof e=="number"},fg=function(e){return typeof e>"u"},on=function(e){return typeof e=="object"},Ut=function(e){return e!==!1},aE=function(){return typeof window<"u"},fu=function(e){return ze(e)||at(e)},lE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},St=Array.isArray,Op=/(?:-?\.?\d|\.)+/gi,uE=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Hs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Vf=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,hE=/[+-]=-?[.\d]+/,cE=/[^,'"\[\]\s]+/gi,tO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ke,sr,Fp,dg,Zt={},Rh={},fE,dE=function(e){return(Rh=os(e,Zt))&&Jt},pg=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Ih=function(e,r){return!r&&console.warn(e)},pE=function(e,r){return e&&(Zt[e]=r)&&Rh&&(Rh[e]=r)||Zt},nl=function(){return 0},rO={suppressEvents:!0,isStart:!0,kill:!1},Bu={suppressEvents:!0,kill:!1},nO={suppressEvents:!0},mg={},ci=[],Np={},mE,Wt={},jf={},A0=30,Lu=[],gg="",yg=function(e){var r=e[0],n,i;if(on(r)||ze(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=Lu.length;i--&&!Lu[i].targetTest(r););n=Lu[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new BE(e[i],n)))||e.splice(i,1);return e},Yi=function(e){return e._gsap||yg(fr(e))[0]._gsap},gE=function(e,r,n){return(n=e[r])&&ze(n)?e[r]():fg(n)&&e.getAttribute&&e.getAttribute(r)||n},Gt=function(e,r){return(e=e.split(",")).forEach(r)||e},He=function(e){return Math.round(e*1e5)/1e5||0},ct=function(e){return Math.round(e*1e7)/1e7||0},io=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},iO=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},Mh=function(){var e=ci.length,r=ci.slice(0),n,i;for(Np={},ci.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},yE=function(e,r,n,i){ci.length&&!Tt&&Mh(),e.render(r,n,Tt&&r<0&&(e._initted||e._startAt)),ci.length&&!Tt&&Mh()},_E=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(cE).length<2?r:at(e)?e.trim():e},vE=function(e){return e},yr=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},sO=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},os=function(e,r){for(var n in r)e[n]=r[n];return e},P0=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=on(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},kh=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},Aa=function(e){var r=e.parent||ke,n=e.keyframes?sO(St(e.keyframes)):yr;if(Ut(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},oO=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},xE=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},_c=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},_i=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Ki=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},aO=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Bp=function(e,r,n,i){return e._startAt&&(Tt?e._startAt.revert(Bu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},lO=function t(e){return!e||e._ts&&t(e.parent)},R0=function(e){return e._repeat?xo(e._tTime,e=e.duration()+e._rDelay)*e:0},xo=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},Dh=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},vc=function(e){return e._end=ct(e._start+(e._tDur/Math.abs(e._ts||e._rts||ve)||0))},xc=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ct(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),vc(e),n._dirty||Ki(n,e)),e},wE=function(e,r){var n;if((r._time||r._initted&&!r._dur)&&(n=Dh(e.rawTime(),r),(!r._dur||Sl(0,r.totalDuration(),n)-r._tTime>ve)&&r.render(n,!0)),Ki(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-ve}},qr=function(e,r,n,i){return r.parent&&_i(r),r._start=ct((Dn(n)?n:n||e!==ke?ir(e,n,r):e._time)+r._delay),r._end=ct(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),xE(e,r,"_first","_last",e._sort?"_start":0),Lp(r)||(e._recent=r),i||wE(e,r),e._ts<0&&xc(e,e._tTime),e},EE=function(e,r){return(Zt.ScrollTrigger||pg("scrollTrigger",r))&&Zt.ScrollTrigger.create(r,e)},TE=function(e,r,n,i,s){if(vg(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!Tt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&mE!==Xt.frame)return ci.push(e),e._lazy=[s,i],1},uO=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Lp=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},hO=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&uO(e)&&!(!e._initted&&Lp(e))||(e._ts<0||e._dp._ts<0)&&!Lp(e))?0:1,a=e._rDelay,l=0,u,h,f;if(a&&e._repeat&&(l=Sl(0,e._tDur,r),h=xo(l,a),e._yoyo&&h&1&&(o=1-o),h!==xo(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Tt||i||e._zTime===ve||!r&&e._zTime){if(!e._initted&&TE(e,r,i,n,l))return;for(f=e._zTime,e._zTime=r||(n?ve:0),n||(n=r&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;r<0&&Bp(e,r,n,!0),e._onUpdate&&!n&&dr(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&dr(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&_i(e,1),!n&&!Tt&&(dr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},cO=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},wo=function(e,r,n,i){var s=e._repeat,o=ct(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:ct(o*(s+1)+e._rDelay*s):o,a>0&&!i&&xc(e,e._tTime=e._tDur*a),e.parent&&vc(e),n||Ki(e.parent,e),e},I0=function(e){return e instanceof Ot?Ki(e):wo(e,e._dur)},fO={_start:0,endTime:nl,totalDuration:nl},ir=function t(e,r,n){var i=e.labels,s=e._recent||fO,o=e.duration()>=cr?s.endTime(!1):e._dur,a,l,u;return at(r)&&(isNaN(r)||r in i)?(l=r.charAt(0),u=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),u&&n&&(l=l/100*(St(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+l:o+l)):r==null?o:+r},Pa=function(e,r,n){var i=Dn(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,l;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ut(l.vars.inherit)&&l.parent;o.immediateRender=Ut(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new tt(r[0],o,r[s+1])},Si=function(e,r){return e||e===0?r(e):r},Sl=function(e,r,n){return n<e?e:n>r?r:n},wt=function(e,r){return!at(e)||!(r=tO.exec(e))?"":r[1]},dO=function(e,r,n){return Si(n,function(i){return Sl(e,r,i)})},Up=[].slice,SE=function(e,r){return e&&on(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&on(e[0]))&&!e.nodeType&&e!==sr},pO=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return at(i)&&!r||SE(i,1)?(s=n).push.apply(s,fr(i)):n.push(i)})||n},fr=function(e,r,n){return Ye&&!r&&Ye.selector?Ye.selector(e):at(e)&&!n&&(Fp||!Eo())?Up.call((r||dg).querySelectorAll(e),0):St(e)?pO(e,n):SE(e)?Up.call(e,0):e?[e]:[]},Gp=function(e){return e=fr(e)[0]||Ih("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return fr(r,n.querySelectorAll?n:n===e?Ih("Invalid scope")||dg.createElement("div"):e)}},bE=function(e){return e.sort(function(){return .5-Math.random()})},CE=function(e){if(ze(e))return e;var r=on(e)?e:{each:e},n=qi(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=r.axis,h=i,f=i;return at(i)?h=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(h=i[0],f=i[1]),function(c,d,p){var m=(p||r).length,v=o[m],_,y,g,x,w,S,E,T,b;if(!v){if(b=r.grid==="auto"?0:(r.grid||[1,cr])[1],!b){for(E=-cr;E<(E=p[b++].getBoundingClientRect().left)&&b<m;);b--}for(v=o[m]=[],_=l?Math.min(b,m)*h-.5:i%b,y=b===cr?0:l?m*f/b-.5:i/b|0,E=0,T=cr,S=0;S<m;S++)g=S%b-_,x=y-(S/b|0),v[S]=w=u?Math.abs(u==="y"?x:g):oE(g*g+x*x),w>E&&(E=w),w<T&&(T=w);i==="random"&&bE(v),v.max=E-T,v.min=T,v.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(b>m?m-1:u?u==="y"?m/b:b:Math.max(b,m/b))||0)*(i==="edges"?-1:1),v.b=m<0?s-m:s,v.u=wt(r.amount||r.each)||0,n=n&&m<0?OE(n):n}return m=(v[c]-v.min)/v.max||0,ct(v.b+(n?n(m):m)*v.v)+v.u}},zp=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=ct(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(Dn(n)?0:wt(n))}},AE=function(e,r){var n=St(e),i,s;return!n&&on(e)&&(i=n=e.radius||cr,e.values?(e=fr(e.values),(s=!Dn(e[0]))&&(i*=i)):e=zp(e.increment)),Si(r,n?ze(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=cr,h=0,f=e.length,c,d;f--;)s?(c=e[f].x-a,d=e[f].y-l,c=c*c+d*d):c=Math.abs(e[f]-a),c<u&&(u=c,h=f);return h=!i||u<=i?e[h]:o,s||h===o||Dn(o)?h:h+wt(o)}:zp(e))},PE=function(e,r,n,i){return Si(St(e)?!r:n===!0?!!(n=0):!i,function(){return St(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},mO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},gO=function(e,r){return function(n){return e(parseFloat(n))+(r||wt(n))}},yO=function(e,r,n){return IE(e,r,0,1,n)},RE=function(e,r,n){return Si(n,function(i){return e[~~r(i)]})},_O=function t(e,r,n){var i=r-e;return St(e)?RE(e,t(0,e.length),r):Si(n,function(s){return(i+(s-e)%i)%i+e})},vO=function t(e,r,n){var i=r-e,s=i*2;return St(e)?RE(e,t(0,e.length-1),r):Si(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},il=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?cE:Op),n+=e.substr(r,i-r)+PE(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},IE=function(e,r,n,i,s){var o=r-e,a=i-n;return Si(s,function(l){return n+((l-e)/o*a||0)})},xO=function t(e,r,n,i){var s=isNaN(e+r)?0:function(d){return(1-d)*e+d*r};if(!s){var o=at(e),a={},l,u,h,f,c;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(St(e)&&!St(r)){for(h=[],f=e.length,c=f-2,u=1;u<f;u++)h.push(t(e[u-1],e[u]));f--,s=function(p){p*=f;var m=Math.min(c,~~p);return h[m](p-m)},n=r}else i||(e=os(St(e)?[]:{},e));if(!h){for(l in r)_g.call(a,e,l,"get",r[l]);s=function(p){return Eg(p,a)||(o?e.p:e)}}}return Si(n,s)},M0=function(e,r,n){var i=e.labels,s=cr,o,a,l;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},dr=function(e,r,n){var i=e.vars,s=i[r],o=Ye,a=e._ctx,l,u,h;if(s)return l=i[r+"Params"],u=i.callbackScope||e,n&&ci.length&&Mh(),a&&(Ye=a),h=l?s.apply(u,l):s.call(u),Ye=o,h},ua=function(e){return _i(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Tt),e.progress()<1&&dr(e,"onInterrupt"),e},Vs,wO=function(e){e=!e.name&&e.default||e;var r=e.name,n=ze(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:nl,render:Eg,add:_g,kill:BO,modifier:NO,rawVars:0},o={targetTest:0,get:0,getSetter:wg,aliases:{},register:0};if(Eo(),e!==i){if(Wt[r])return;yr(i,yr(kh(e,s),o)),os(i.prototype,os(s,kh(e,o))),Wt[i.prop=r]=i,e.targetTest&&(Lu.push(i),mg[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}pE(r,i),e.register&&e.register(Jt,i,zt)},_e=255,ha={aqua:[0,_e,_e],lime:[0,_e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_e],navy:[0,0,128],white:[_e,_e,_e],olive:[128,128,0],yellow:[_e,_e,0],orange:[_e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_e,0,0],pink:[_e,192,203],cyan:[0,_e,_e],transparent:[_e,_e,_e,0]},Wf=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*_e+.5|0},ME=function(e,r,n){var i=e?Dn(e)?[e>>16,e>>8&_e,e&_e]:0:ha.black,s,o,a,l,u,h,f,c,d,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ha[e])i=ha[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&_e,i&_e,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&_e,e&_e]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(Op),!r)l=+i[0]%360/360,u=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(u+1):h+u-h*u,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=Wf(l+1/3,s,o),i[1]=Wf(l,s,o),i[2]=Wf(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(uE),n&&i.length<4&&(i[3]=1),i}else i=e.match(Op)||ha.transparent;i=i.map(Number)}return r&&!p&&(s=i[0]/_e,o=i[1]/_e,a=i[2]/_e,f=Math.max(s,o,a),c=Math.min(s,o,a),h=(f+c)/2,f===c?l=u=0:(d=f-c,u=h>.5?d/(2-f-c):d/(f+c),l=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},kE=function(e){var r=[],n=[],i=-1;return e.split(fi).forEach(function(s){var o=s.match(Hs)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},k0=function(e,r,n){var i="",s=(e+i).match(fi),o=r?"hsla(":"rgba(",a=0,l,u,h,f;if(!s)return e;if(s=s.map(function(c){return(c=ME(c,r,1))&&o+(r?c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:c.join(","))+")"}),n&&(h=kE(e),l=n.c,l.join(i)!==h.c.join(i)))for(u=e.replace(fi,"1").split(Hs),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!u)for(u=e.split(fi),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},fi=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ha)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),EO=/hsl[a]?\(/,DE=function(e){var r=e.join(" "),n;if(fi.lastIndex=0,fi.test(r))return n=EO.test(r),e[1]=k0(e[1],n),e[0]=k0(e[0],n,kE(e[1])),!0},sl,Xt=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],l,u,h,f,c,d,p=function m(v){var _=t()-i,y=v===!0,g,x,w,S;if(_>e&&(n+=_-r),i+=_,w=i-n,g=w-o,(g>0||y)&&(S=++f.frame,c=w-f.time*1e3,f.time=w=w/1e3,o+=g+(g>=s?4:s-g),x=1),y||(l=u(m)),x)for(d=0;d<a.length;d++)a[d](w,c,S,v)};return f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(v){return c/(1e3/(v||60))},wake:function(){fE&&(!Fp&&aE()&&(sr=Fp=window,dg=sr.document||{},Zt.gsap=Jt,(sr.gsapVersions||(sr.gsapVersions=[])).push(Jt.version),dE(Rh||sr.GreenSockGlobals||!sr.gsap&&sr||{}),h=sr.requestAnimationFrame),l&&f.sleep(),u=h||function(v){return setTimeout(v,o-f.time*1e3+1|0)},sl=1,p(2))},sleep:function(){(h?sr.cancelAnimationFrame:clearTimeout)(l),sl=0,u=nl},lagSmoothing:function(v,_){e=v||1/0,r=Math.min(_||33,e)},fps:function(v){s=1e3/(v||240),o=f.time*1e3+s},add:function(v,_,y){var g=_?function(x,w,S,E){v(x,w,S,E),f.remove(g)}:v;return f.remove(v),a[y?"unshift":"push"](g),Eo(),g},remove:function(v,_){~(_=a.indexOf(v))&&a.splice(_,1)&&d>=_&&d--},_listeners:a},f}(),Eo=function(){return!sl&&Xt.wake()},ce={},TO=/^[\d.\-M][\d.\-,\s]/,SO=/["']/g,bO=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,l,u;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),r[i]=isNaN(u)?u.replace(SO,"").trim():+u,i=l.substr(a+1).trim();return r},CO=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},AO=function(e){var r=(e+"").split("("),n=ce[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[bO(r[1])]:CO(e).split(",").map(_E)):ce._CE&&TO.test(e)?ce._CE("",e):n},OE=function(e){return function(r){return 1-e(1-r)}},FE=function t(e,r){for(var n=e._first,i;n;)n instanceof Ot?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},qi=function(e,r){return e&&(ze(e)?e:ce[e]||AO(e))||r},ms=function(e,r,n,i){n===void 0&&(n=function(l){return 1-r(1-l)}),i===void 0&&(i=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return Gt(e,function(a){ce[a]=Zt[a]=s,ce[o=a.toLowerCase()]=n;for(var l in s)ce[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ce[a+"."+l]=s[l]}),s},NE=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},Xf=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/Dp*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*eO((h-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:NE(a);return s=Dp/s,l.config=function(u,h){return t(e,u,h)},l},Yf=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:NE(n);return i.config=function(s){return t(e,s)},i};Gt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;ms(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});ce.Linear.easeNone=ce.none=ce.Linear.easeIn;ms("Elastic",Xf("in"),Xf("out"),Xf());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};ms("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ms("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});ms("Circ",function(t){return-(oE(1-t*t)-1)});ms("Sine",function(t){return t===1?1:-JD(t*QD)+1});ms("Back",Yf("in"),Yf("out"),Yf());ce.SteppedEase=ce.steps=Zt.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-ve;return function(a){return((i*Sl(0,o,a)|0)+s)*n}}};vo.ease=ce["quad.out"];Gt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return gg+=t+","+t+"Params,"});var BE=function(e,r){this.id=ZD++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:gE,this.set=r?r.getSetter:wg},To=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,wo(this,+r.duration,1,1),this.data=r.data,Ye&&(this._ctx=Ye,Ye.data.push(this)),sl||Xt.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,wo(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(Eo(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(xc(this,n),!s._dp||s.parent||wE(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&qr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ve||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),yE(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+R0(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+R0(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?xo(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-ve?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Dh(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-ve?0:this._rts,this.totalTime(Sl(-this._delay,this._tDur,i),!0),vc(this),aO(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Eo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ve&&(this._tTime-=ve)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&qr(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Ut(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dh(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=nO);var i=Tt;return Tt=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Tt=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,I0(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,I0(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(ir(this,n),Ut(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Ut(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-ve:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ve,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-ve)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=ze(n)?n:vE,a=function(){var u=i.then;i.then=null,ze(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){ua(this)},t}();yr(To.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ve,_prom:0,_ps:!1,_rts:1});var Ot=function(t){sE(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Ut(n.sortChildren),ke&&qr(n.parent||ke,mn(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&EE(mn(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return Pa(0,arguments,this),this},r.from=function(i,s,o){return Pa(1,arguments,this),this},r.fromTo=function(i,s,o,a){return Pa(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,Aa(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new tt(i,s,ir(this,o),1),this},r.call=function(i,s,o){return qr(this,tt.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,l,u,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new tt(i,o,ir(this,l)),this},r.staggerFrom=function(i,s,o,a,l,u,h){return o.runBackwards=1,Aa(o).immediateRender=Ut(o.immediateRender),this.staggerTo(i,s,o,a,l,u,h)},r.staggerFromTo=function(i,s,o,a,l,u,h,f){return a.startAt=o,Aa(a).immediateRender=Ut(a.immediateRender),this.staggerTo(i,s,a,l,u,h,f)},r.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=i<=0?0:ct(i),f=this._zTime<0!=i<0&&(this._initted||!u),c,d,p,m,v,_,y,g,x,w,S,E;if(this!==ke&&h>l&&i>=0&&(h=l),h!==this._tTime||o||f){if(a!==this._time&&u&&(h+=this._time-a,i+=this._time-a),c=h,x=this._start,g=this._ts,_=!g,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(S=this._yoyo,v=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(c=ct(h%v),h===l?(m=this._repeat,c=u):(m=~~(h/v),m&&m===h/v&&(c=u,m--),c>u&&(c=u)),w=xo(this._tTime,v),!a&&this._tTime&&w!==m&&(w=m),S&&m&1&&(c=u-c,E=1),m!==w&&!this._lock){var T=S&&w&1,b=T===(S&&m&1);if(m<w&&(T=!T),a=T?0:u,this._lock=1,this.render(a||(E?0:ct(m*v)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&dr(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,b&&(this._lock=2,a=T?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;FE(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=cO(this,ct(a),ct(c)),y&&(h-=c-(c=y._start))),this._tTime=h,this._time=c,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&c&&!s&&(dr(this,"onStart"),this._tTime!==h))return this;if(c>=a&&i>=0)for(d=this._first;d;){if(p=d._next,(d._act||c>=d._start)&&d._ts&&y!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(c-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(c-d._start)*d._ts,s,o),c!==this._time||!this._ts&&!_){y=0,p&&(h+=this._zTime=-ve);break}}d=p}else{d=this._last;for(var R=i<0?i:c;d;){if(p=d._prev,(d._act||R<=d._end)&&d._ts&&y!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(R-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(R-d._start)*d._ts,s,o||Tt&&(d._initted||d._startAt)),c!==this._time||!this._ts&&!_){y=0,p&&(h+=this._zTime=R?-ve:ve);break}}d=p}}if(y&&!s&&(this.pause(),y.render(c>=a?0:-ve)._zTime=c>=a?1:-1,this._ts))return this._start=x,vc(this),this.render(i,s,o);this._onUpdate&&!s&&dr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(x===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&_i(this,1),!s&&!(i<0&&!a)&&(h||a||!l)&&(dr(this,h===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(Dn(s)||(s=ir(this,s,i)),!(i instanceof To)){if(St(i))return i.forEach(function(a){return o.add(a,s)}),this;if(at(i))return this.addLabel(i,s);if(ze(i))i=tt.delayedCall(0,i);else return this}return this!==i?qr(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-cr);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof tt?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return at(i)?this.removeLabel(i):ze(i)?this.killTweensOf(i):(_c(this,i),i===this._recent&&(this._recent=this._last),Ki(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ct(Xt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=ir(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=tt.delayedCall(0,s||nl,o);return a.data="isPause",this._hasPause=1,qr(this,a,ir(this,i))},r.removePause=function(i){var s=this._first;for(i=ir(this,i);s;)s._start===i&&s.data==="isPause"&&_i(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Zn!==a[l]&&a[l].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=fr(i),l=this._first,u=Dn(s),h;l;)l instanceof tt?iO(l._targets,a)&&(u?(!Zn||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=ir(o,i),l=s,u=l.startAt,h=l.onStart,f=l.onStartParams,c=l.immediateRender,d,p=tt.to(o,yr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||ve,onStart:function(){if(o.pause(),!d){var v=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());p._dur!==v&&wo(p,v,0,1).render(p._time,!0,!0),d=1}h&&h.apply(p,f||[])}},s));return c?p.render(0):p},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,yr({startAt:{time:ir(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),M0(this,ir(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),M0(this,ir(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ve)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Ki(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ki(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,l=cr,u,h,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,qr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;wo(o,o===ke&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(ke._ts&&(yE(ke,Dh(i,ke)),mE=Xt.frame),Xt.frame>=A0){A0+=qt.autoSleep||120;var s=ke._first;if((!s||!s._ts)&&qt.autoSleep&&Xt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Xt.sleep()}}},e}(To);yr(Ot.prototype,{_lock:0,_hasPause:0,_forcing:0});var PO=function(e,r,n,i,s,o,a){var l=new zt(this._pt,e,r,0,1,HE,null,s),u=0,h=0,f,c,d,p,m,v,_,y;for(l.b=n,l.e=i,n+="",i+="",(_=~i.indexOf("random("))&&(i=il(i)),o&&(y=[n,i],o(y,e,r),n=y[0],i=y[1]),c=n.match(Vf)||[];f=Vf.exec(i);)p=f[0],m=i.substring(u,f.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==c[h++]&&(v=parseFloat(c[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:v,c:p.charAt(1)==="="?io(v,p)-v:parseFloat(p)-v,m:d&&d<4?Math.round:0},u=Vf.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(hE.test(i)||_)&&(l.e=0),this._pt=l,l},_g=function(e,r,n,i,s,o,a,l,u,h){ze(i)&&(i=i(s||0,e,o));var f=e[r],c=n!=="get"?n:ze(f)?u?e[r.indexOf("set")||!ze(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():f,d=ze(f)?u?DO:zE:xg,p;if(at(i)&&(~i.indexOf("random(")&&(i=il(i)),i.charAt(1)==="="&&(p=io(c,i)+(wt(c)||0),(p||p===0)&&(i=p))),!h||c!==i||$p)return!isNaN(c*i)&&i!==""?(p=new zt(this._pt,e,r,+c||0,i-(c||0),typeof f=="boolean"?FO:$E,0,d),u&&(p.fp=u),a&&p.modifier(a,this,e),this._pt=p):(!f&&!(r in e)&&pg(r,i),PO.call(this,e,r,c,i,d,l||qt.stringFilter,u))},RO=function(e,r,n,i,s){if(ze(e)&&(e=Ra(e,s,r,n,i)),!on(e)||e.style&&e.nodeType||St(e)||lE(e))return at(e)?Ra(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=Ra(e[a],s,r,n,i);return o},LE=function(e,r,n,i,s,o){var a,l,u,h;if(Wt[e]&&(a=new Wt[e]).init(s,a.rawVars?r[e]:RO(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=l=new zt(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Vs))for(u=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)u[a._props[h]]=l;return a},Zn,$p,vg=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,h=i.onUpdateParams,f=i.callbackScope,c=i.runBackwards,d=i.yoyoEase,p=i.keyframes,m=i.autoRevert,v=e._dur,_=e._startAt,y=e._targets,g=e.parent,x=g&&g.data==="nested"?g.vars.targets:y,w=e._overwrite==="auto"&&!cg,S=e.timeline,E,T,b,R,k,N,I,P,$,X,F,O,z;if(S&&(!p||!s)&&(s="none"),e._ease=qi(s,vo.ease),e._yEase=d?OE(qi(d===!0?s:d,vo.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!S&&!!i.runBackwards,!S||p&&!i.stagger){if(P=y[0]?Yi(y[0]).harness:0,O=P&&i[P.prop],E=kh(i,mg),_&&(_._zTime<0&&_.progress(1),r<0&&c&&a&&!m?_.render(-1,!0):_.revert(c&&v?Bu:rO),_._lazy=0),o){if(_i(e._startAt=tt.set(y,yr({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!_&&Ut(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:h,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Tt||!a&&!m)&&e._startAt.revert(Bu),a&&v&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(c&&v&&!_){if(r&&(a=!1),b=yr({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Ut(l),immediateRender:a,stagger:0,parent:g},E),O&&(b[P.prop]=O),_i(e._startAt=tt.set(y,b)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Tt?e._startAt.revert(Bu):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,ve,ve);else if(!r)return}for(e._pt=e._ptCache=0,l=v&&Ut(l)||l&&!v,T=0;T<y.length;T++){if(k=y[T],I=k._gsap||yg(y)[T]._gsap,e._ptLookup[T]=X={},Np[I.id]&&ci.length&&Mh(),F=x===y?T:x.indexOf(k),P&&($=new P).init(k,O||E,e,F,x)!==!1&&(e._pt=R=new zt(e._pt,k,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(A){X[A]=R}),$.priority&&(N=1)),!P||O)for(b in E)Wt[b]&&($=LE(b,E,e,F,k,x))?$.priority&&(N=1):X[b]=R=_g.call(e,k,b,"get",E[b],F,x,0,i.stringFilter);e._op&&e._op[T]&&e.kill(k,e._op[T]),w&&e._pt&&(Zn=e,ke.killTweensOf(k,X,e.globalTime(r)),z=!e.parent,Zn=0),e._pt&&l&&(Np[I.id]=1)}N&&VE(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!z,p&&r<=0&&S.render(cr,!0,!0)},IO=function(e,r,n,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],u,h,f,c;if(!l)for(l=e._ptCache[r]=[],f=e._ptLookup,c=e._targets.length;c--;){if(u=f[c][r],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==r&&u.fp!==r;)u=u._next;if(!u)return $p=1,e.vars[r]="+=0",vg(e,a),$p=0,1;l.push(u)}for(c=l.length;c--;)h=l[c],u=h._pt||h,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=n-u.s,h.e&&(h.e=He(n)+wt(h.e)),h.b&&(h.b=u.s+wt(h.b))},MO=function(e,r){var n=e[0]?Yi(e[0]).harness:0,i=n&&n.aliases,s,o,a,l;if(!i)return r;s=os({},r);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},kO=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(St(r))a=n[e]||(n[e]=[]),r.forEach(function(l,u){return a.push({t:u/(r.length-1)*100,v:l,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},Ra=function(e,r,n,i,s){return ze(e)?e.call(r,n,i,s):at(e)&&~e.indexOf("random(")?il(e):e},UE=gg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",GE={};Gt(UE+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return GE[t]=1});var tt=function(t){sE(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Aa(i))||this;var l=a.vars,u=l.duration,h=l.delay,f=l.immediateRender,c=l.stagger,d=l.overwrite,p=l.keyframes,m=l.defaults,v=l.scrollTrigger,_=l.yoyoEase,y=i.parent||ke,g=(St(n)||lE(n)?Dn(n[0]):"length"in i)?[n]:fr(n),x,w,S,E,T,b,R,k;if(a._targets=g.length?yg(g):Ih("GSAP target "+n+" not found. https://greensock.com",!qt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||c||fu(u)||fu(h)){if(i=a.vars,x=a.timeline=new Ot({data:"nested",defaults:m||{},targets:y&&y.data==="nested"?y.vars.targets:g}),x.kill(),x.parent=x._dp=mn(a),x._start=0,c||fu(u)||fu(h)){if(E=g.length,R=c&&CE(c),on(c))for(T in c)~UE.indexOf(T)&&(k||(k={}),k[T]=c[T]);for(w=0;w<E;w++)S=kh(i,GE),S.stagger=0,_&&(S.yoyoEase=_),k&&os(S,k),b=g[w],S.duration=+Ra(u,mn(a),w,b,g),S.delay=(+Ra(h,mn(a),w,b,g)||0)-a._delay,!c&&E===1&&S.delay&&(a._delay=h=S.delay,a._start+=h,S.delay=0),x.to(b,S,R?R(w,b,g):0),x._ease=ce.none;x.duration()?u=h=0:a.timeline=0}else if(p){Aa(yr(x.vars.defaults,{ease:"none"})),x._ease=qi(p.ease||i.ease||"none");var N=0,I,P,$;if(St(p))p.forEach(function(X){return x.to(g,X,">")}),x.duration();else{S={};for(T in p)T==="ease"||T==="easeEach"||kO(T,p[T],S,p.easeEach);for(T in S)for(I=S[T].sort(function(X,F){return X.t-F.t}),N=0,w=0;w<I.length;w++)P=I[w],$={ease:P.e,duration:(P.t-(w?I[w-1].t:0))/100*u},$[T]=P.v,x.to(g,$,N),N+=$.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||a.duration(u=x.duration())}else a.timeline=0;return d===!0&&!cg&&(Zn=mn(a),ke.killTweensOf(g),Zn=0),qr(y,mn(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!p&&a._start===ct(y._time)&&Ut(f)&&lO(mn(a))&&y.data!=="nested")&&(a._tTime=-ve,a.render(Math.max(0,-h)||0)),v&&EE(mn(a),v),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,h=i<0,f=i>l-ve&&!h?l:i<ve?0:i,c,d,p,m,v,_,y,g,x;if(!u)hO(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(c=f,g=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+i,s,o);if(c=ct(f%m),f===l?(p=this._repeat,c=u):(p=~~(f/m),p&&p===f/m&&(c=u,p--),c>u&&(c=u)),_=this._yoyo&&p&1,_&&(x=this._yEase,c=u-c),v=xo(this._tTime,m),c===a&&!o&&this._initted)return this._tTime=f,this;p!==v&&(g&&this._yEase&&FE(g,_),this.vars.repeatRefresh&&!_&&!this._lock&&(this._lock=o=1,this.render(ct(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(TE(this,h?i:c,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(x||this._ease)(c/u),this._from&&(this.ratio=y=1-y),c&&!a&&!s&&(dr(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(y,d.d),d=d._next;g&&g.render(i<0?i:!c&&_?-ve:g._dur*g._ease(c/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&Bp(this,i,s,o),dr(this,"onUpdate")),this._repeat&&p!==v&&this.vars.onRepeat&&!s&&this.parent&&dr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(h&&!this._onUpdate&&Bp(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&_i(this,1),!s&&!(h&&!a)&&(f||a||_)&&(dr(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a){sl||Xt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||vg(this,l),u=this._ease(l/this._dur),IO(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(xc(this,0),this.parent||xE(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?ua(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Zn&&Zn.vars.overwrite!==!0)._first||ua(this),this.parent&&o!==this.timeline.totalDuration()&&wo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?fr(i):a,u=this._ptLookup,h=this._pt,f,c,d,p,m,v,_;if((!s||s==="all")&&oO(a,l))return s==="all"&&(this._pt=0),ua(this);for(f=this._op=this._op||[],s!=="all"&&(at(s)&&(m={},Gt(s,function(y){return m[y]=1}),s=m),s=MO(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){c=u[_],s==="all"?(f[_]=s,p=c,d={}):(d=f[_]=f[_]||{},p=s);for(m in p)v=c&&c[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&_c(this,v,"_pt"),delete c[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&h&&ua(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Pa(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Pa(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return ke.killTweensOf(i,s,o)},e}(To);yr(tt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Gt("staggerTo,staggerFrom,staggerFromTo",function(t){tt[t]=function(){var e=new Ot,r=Up.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var xg=function(e,r,n){return e[r]=n},zE=function(e,r,n){return e[r](n)},DO=function(e,r,n,i){return e[r](i.fp,n)},OO=function(e,r,n){return e.setAttribute(r,n)},wg=function(e,r){return ze(e[r])?zE:fg(e[r])&&e.setAttribute?OO:xg},$E=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},FO=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},HE=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},Eg=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},NO=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},BO=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?_c(this,r,"_pt"):r.dep||(n=1),r=i;return!n},LO=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},VE=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},zt=function(){function t(r,n,i,s,o,a,l,u,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||$E,this.d=l||this,this.set=u||xg,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=LO,this.m=n,this.mt=s,this.tween=i},t}();Gt(gg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return mg[t]=1});Zt.TweenMax=Zt.TweenLite=tt;Zt.TimelineLite=Zt.TimelineMax=Ot;ke=new Ot({sortChildren:!1,defaults:vo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});qt.stringFilter=DE;var So=[],Uu={},UO=[],D0=0,Kf=function(e){return(Uu[e]||UO).map(function(r){return r()})},Hp=function(){var e=Date.now(),r=[];e-D0>2&&(Kf("matchMediaInit"),So.forEach(function(n){var i=n.queries,s=n.conditions,o,a,l,u;for(a in i)o=sr.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(n.revert(),l&&r.push(n))}),Kf("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),D0=e,Kf("matchMedia"))},jE=function(){function t(r,n){this.selector=n&&Gp(n),this.data=[],this._r=[],this.isReverted=!1,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){ze(n)&&(s=i,i=n,n=ze);var o=this,a=function(){var u=Ye,h=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=Gp(s)),Ye=o,f=i.apply(o,arguments),ze(f)&&o._r.push(f),Ye=u,o.selector=h,o.isReverted=!1,f};return o.last=a,n===ze?a(o):n?o[n]=a:a},e.ignore=function(n){var i=Ye;Ye=null,n(this),Ye=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof tt&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof To)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=So.indexOf(this);~a&&So.splice(a,1)}},e.revert=function(n){this.kill(n||{})},t}(),GO=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,i,s){on(n)||(n={matches:n});var o=new jE(0,s||this.scope),a=o.conditions={},l,u,h;this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(u in n)u==="all"?h=1:(l=sr.matchMedia(n[u]),l&&(So.indexOf(o)<0&&So.push(o),(a[u]=l.matches)&&(h=1),l.addListener?l.addListener(Hp):l.addEventListener("change",Hp)));return h&&i(o),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),Oh={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return wO(i)})},timeline:function(e){return new Ot(e)},getTweensOf:function(e,r){return ke.getTweensOf(e,r)},getProperty:function(e,r,n,i){at(e)&&(e=fr(e)[0]);var s=Yi(e||{}).get,o=n?vE:_E;return n==="native"&&(n=""),e&&(r?o((Wt[r]&&Wt[r].get||s)(e,r,n,i)):function(a,l,u){return o((Wt[a]&&Wt[a].get||s)(e,a,l,u))})},quickSetter:function(e,r,n){if(e=fr(e),e.length>1){var i=e.map(function(h){return Jt.quickSetter(h,r,n)}),s=i.length;return function(h){for(var f=s;f--;)i[f](h)}}e=e[0]||{};var o=Wt[r],a=Yi(e),l=a.harness&&(a.harness.aliases||{})[r]||r,u=o?function(h){var f=new o;Vs._pt=0,f.init(e,n?h+n:h,Vs,0,[e]),f.render(1,f),Vs._pt&&Eg(1,Vs)}:a.set(e,l);return o?u:function(h){return u(e,l,n?h+n:h,a,1)}},quickTo:function(e,r,n){var i,s=Jt.to(e,os((i={},i[r]="+=0.1",i.paused=!0,i),n||{})),o=function(l,u,h){return s.resetTo(r,l,u,h)};return o.tween=s,o},isTweening:function(e){return ke.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=qi(e.ease,vo.ease)),P0(vo,e||{})},config:function(e){return P0(qt,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Wt[a]&&!Zt[a]&&Ih(r+" effect requires "+a+" plugin.")}),jf[r]=function(a,l,u){return n(fr(a),yr(l||{},s),u)},o&&(Ot.prototype[r]=function(a,l,u){return this.add(jf[r](a,on(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,r){ce[e]=qi(r)},parseEase:function(e,r){return arguments.length?qi(e,r):ce},getById:function(e){return ke.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Ot(e),i,s;for(n.smoothChildTiming=Ut(e.smoothChildTiming),ke.remove(n),n._dp=0,n._time=n._tTime=ke._time,i=ke._first;i;)s=i._next,(r||!(!i._dur&&i instanceof tt&&i.vars.onComplete===i._targets[0]))&&qr(n,i,i._start-i._delay),i=s;return qr(ke,n,0),n},context:function(e,r){return e?new jE(e,r):Ye},matchMedia:function(e){return new GO(e)},matchMediaRefresh:function(){return So.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||Hp()},addEventListener:function(e,r){var n=Uu[e]||(Uu[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=Uu[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:_O,wrapYoyo:vO,distribute:CE,random:PE,snap:AE,normalize:yO,getUnit:wt,clamp:dO,splitColor:ME,toArray:fr,selector:Gp,mapRange:IE,pipe:mO,unitize:gO,interpolate:xO,shuffle:bE},install:dE,effects:jf,ticker:Xt,updateRoot:Ot.updateRoot,plugins:Wt,globalTimeline:ke,core:{PropTween:zt,globals:pE,Tween:tt,Timeline:Ot,Animation:To,getCache:Yi,_removeLinkedListItem:_c,reverting:function(){return Tt},context:function(e){return e&&Ye&&(Ye.data.push(e),e._ctx=Ye),Ye},suppressOverwrites:function(e){return cg=e}}};Gt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Oh[t]=tt[t]});Xt.add(Ot.updateRoot);Vs=Oh.to({},{duration:0});var zO=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},$O=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=zO(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},qf=function(e,r){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(at(s)&&(l={},Gt(s,function(h){return l[h]=1}),s=l),r){l={};for(u in s)l[u]=r(s[u]);s=l}$O(a,s)}}}},Jt=Oh.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,l;this.tween=n;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)Tt?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},qf("roundProps",zp),qf("modifiers"),qf("snap",AE))||Oh;tt.version=Ot.version=Jt.version="3.11.4";fE=1;aE()&&Eo();ce.Power0;ce.Power1;ce.Power2;ce.Power3;ce.Power4;ce.Linear;ce.Quad;ce.Cubic;ce.Quart;ce.Quint;ce.Strong;ce.Elastic;ce.Back;ce.SteppedEase;ce.Bounce;ce.Sine;ce.Expo;ce.Circ;/*!
 * CSSPlugin 3.11.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var O0,Jn,so,Tg,Hi,F0,Sg,HO=function(){return typeof window<"u"},On={},Bi=180/Math.PI,oo=Math.PI/180,Es=Math.atan2,N0=1e8,bg=/([A-Z])/g,VO=/(left|right|width|margin|padding|x)/i,jO=/[\s,\(]\S/,Tn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vp=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},WO=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},XO=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},YO=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},WE=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},XE=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},KO=function(e,r,n){return e.style[r]=n},qO=function(e,r,n){return e.style.setProperty(r,n)},QO=function(e,r,n){return e._gsap[r]=n},ZO=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},JO=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},e3=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},Oe="transform",Br=Oe+"Origin",t3=function(e,r){var n=this,i=this.target,s=i.style;if(e in On){if(this.tfm=this.tfm||{},e!=="transform"&&(e=Tn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=yn(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:yn(i,e)),this.props.indexOf(Oe)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Br,r,"")),e=Oe}(s||r)&&this.props.push(e,r,s[e])},YE=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},r3=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].replace(bg,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=Sg(),s&&!s.isStart&&!n[Oe]&&(YE(n),i.uncache=1)}},KE=function(e,r){var n={target:e,props:[],revert:r3,save:t3};return r&&r.split(",").forEach(function(i){return n.save(i)}),n},qE,jp=function(e,r){var n=Jn.createElementNS?Jn.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Jn.createElement(e);return n.style?n:Jn.createElement(e)},rn=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(bg,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,bo(r)||r,1)||""},B0="O,Moz,ms,Ms,Webkit".split(","),bo=function(e,r,n){var i=r||Hi,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(B0[o]+e in s););return o<0?null:(o===3?"ms":o>=0?B0[o]:"")+e},Wp=function(){HO()&&window.document&&(O0=window,Jn=O0.document,so=Jn.documentElement,Hi=jp("div")||{style:{}},jp("div"),Oe=bo(Oe),Br=Oe+"Origin",Hi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",qE=!!bo("perspective"),Sg=Jt.core.reverting,Tg=1)},Qf=function t(e){var r=jp("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(so.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),so.removeChild(r),this.style.cssText=s,o},L0=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},QE=function(e){var r;try{r=e.getBBox()}catch{r=Qf.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===Qf||(r=Qf.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+L0(e,["x","cx","x1"])||0,y:+L0(e,["y","cy","y1"])||0,width:0,height:0}:r},ZE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&QE(e))},ol=function(e,r){if(r){var n=e.style;r in On&&r!==Br&&(r=Oe),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(bg,"-$1").toLowerCase())):n.removeAttribute(r)}},ei=function(e,r,n,i,s,o){var a=new zt(e._pt,r,n,0,1,o?XE:WE);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},U0={deg:1,rad:1,turn:1},n3={grid:1,flex:1},vi=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Hi.style,l=VO.test(r),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),f=100,c=i==="px",d=i==="%",p,m,v,_;return i===o||!s||U0[i]||U0[o]?s:(o!=="px"&&!c&&(s=t(e,r,n,"px")),_=e.getCTM&&ZE(e),(d||o==="%")&&(On[r]||~r.indexOf("adius"))?(p=_?e.getBBox()[l?"width":"height"]:e[h],He(d?s/p*f:s/100*p)):(a[l?"width":"height"]=f+(c?o:i),m=~r.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,_&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Jn||!m.appendChild)&&(m=Jn.body),v=m._gsap,v&&d&&v.width&&l&&v.time===Xt.time&&!v.uncache?He(s/v.width*f):((d||o==="%")&&!n3[rn(m,"display")]&&(a.position=rn(e,"position")),m===e&&(a.position="static"),m.appendChild(Hi),p=Hi[h],m.removeChild(Hi),a.position="absolute",l&&d&&(v=Yi(m),v.time=Xt.time,v.width=m[h]),He(c?p*s/f:p&&s?f/p*s:0))))},yn=function(e,r,n,i){var s;return Tg||Wp(),r in Tn&&r!=="transform"&&(r=Tn[r],~r.indexOf(",")&&(r=r.split(",")[0])),On[r]&&r!=="transform"?(s=ll(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:Nh(rn(e,Br))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Fh[r]&&Fh[r](e,r,n)||rn(e,r)||gE(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?vi(e,r,s,n)+n:s},i3=function(e,r,n,i){if(!n||n==="none"){var s=bo(r,e,1),o=s&&rn(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=rn(e,"borderTopColor"))}var a=new zt(this._pt,e.style,r,0,1,HE),l=0,u=0,h,f,c,d,p,m,v,_,y,g,x,w;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[r]=i,i=rn(e,r)||i,e.style[r]=n),h=[n,i],DE(h),n=h[0],i=h[1],c=n.match(Hs)||[],w=i.match(Hs)||[],w.length){for(;f=Hs.exec(i);)v=f[0],y=i.substring(l,f.index),p?p=(p+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(p=1),v!==(m=c[u++]||"")&&(d=parseFloat(m)||0,x=m.substr((d+"").length),v.charAt(1)==="="&&(v=io(d,v)+x),_=parseFloat(v),g=v.substr((_+"").length),l=Hs.lastIndex-g.length,g||(g=g||qt.units[r]||x,l===i.length&&(i+=g,a.e+=g)),x!==g&&(d=vi(e,r,m,g)||0),a._pt={_next:a._pt,p:y||u===1?y:",",s:d,c:_-d,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=r==="display"&&i==="none"?XE:WE;return hE.test(i)&&(a.e=0),this._pt=a,a},G0={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},s3=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=G0[n]||n,r[1]=G0[i]||i,r.join(" ")},o3=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],On[a]&&(l=1,a=a==="transformOrigin"?Br:Oe),ol(n,a);l&&(ol(n,Oe),o&&(o.svg&&n.removeAttribute("transform"),ll(n,1),o.uncache=1,YE(i)))}},Fh={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new zt(e._pt,r,n,0,0,o3);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},al=[1,0,0,1,0,0],JE={},eT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},z0=function(e){var r=rn(e,Oe);return eT(r)?al:r.substr(7).match(uE).map(He)},Cg=function(e,r){var n=e._gsap||Yi(e),i=e.style,s=z0(e),o,a,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?al:s):(s===al&&!e.offsetParent&&e!==so&&!n.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,so.appendChild(e)),s=z0(e),l?i.display=l:ol(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):so.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Xp=function(e,r,n,i,s,o){var a=e._gsap,l=s||Cg(e,!0),u=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,c=a.yOffset||0,d=l[0],p=l[1],m=l[2],v=l[3],_=l[4],y=l[5],g=r.split(" "),x=parseFloat(g[0])||0,w=parseFloat(g[1])||0,S,E,T,b;n?l!==al&&(E=d*v-p*m)&&(T=x*(v/E)+w*(-m/E)+(m*y-v*_)/E,b=x*(-p/E)+w*(d/E)-(d*y-p*_)/E,x=T,w=b):(S=QE(e),x=S.x+(~g[0].indexOf("%")?x/100*S.width:x),w=S.y+(~(g[1]||g[0]).indexOf("%")?w/100*S.height:w)),i||i!==!1&&a.smooth?(_=x-u,y=w-h,a.xOffset=f+(_*d+y*m)-_,a.yOffset=c+(_*p+y*v)-y):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=w,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[Br]="0px 0px",o&&(ei(o,a,"xOrigin",u,x),ei(o,a,"yOrigin",h,w),ei(o,a,"xOffset",f,a.xOffset),ei(o,a,"yOffset",c,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},ll=function(e,r){var n=e._gsap||new BE(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=rn(e,Br)||"0",h,f,c,d,p,m,v,_,y,g,x,w,S,E,T,b,R,k,N,I,P,$,X,F,O,z,A,H,K,oe,ne,pe;return h=f=c=m=v=_=y=g=x=0,d=p=1,n.svg=!!(e.getCTM&&ZE(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Oe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Oe]!=="none"?l[Oe]:"")),i.scale=i.rotate=i.translate="none"),E=Cg(e,n.svg),n.svg&&(n.uncache?(O=e.getBBox(),u=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",F=""):F=!r&&e.getAttribute("data-svg-origin"),Xp(e,F||u,!!F||n.originIsAbsolute,n.smooth!==!1,E)),w=n.xOrigin||0,S=n.yOrigin||0,E!==al&&(k=E[0],N=E[1],I=E[2],P=E[3],h=$=E[4],f=X=E[5],E.length===6?(d=Math.sqrt(k*k+N*N),p=Math.sqrt(P*P+I*I),m=k||N?Es(N,k)*Bi:0,y=I||P?Es(I,P)*Bi+m:0,y&&(p*=Math.abs(Math.cos(y*oo))),n.svg&&(h-=w-(w*k+S*I),f-=S-(w*N+S*P))):(pe=E[6],oe=E[7],A=E[8],H=E[9],K=E[10],ne=E[11],h=E[12],f=E[13],c=E[14],T=Es(pe,K),v=T*Bi,T&&(b=Math.cos(-T),R=Math.sin(-T),F=$*b+A*R,O=X*b+H*R,z=pe*b+K*R,A=$*-R+A*b,H=X*-R+H*b,K=pe*-R+K*b,ne=oe*-R+ne*b,$=F,X=O,pe=z),T=Es(-I,K),_=T*Bi,T&&(b=Math.cos(-T),R=Math.sin(-T),F=k*b-A*R,O=N*b-H*R,z=I*b-K*R,ne=P*R+ne*b,k=F,N=O,I=z),T=Es(N,k),m=T*Bi,T&&(b=Math.cos(T),R=Math.sin(T),F=k*b+N*R,O=$*b+X*R,N=N*b-k*R,X=X*b-$*R,k=F,$=O),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,_=180-_),d=He(Math.sqrt(k*k+N*N+I*I)),p=He(Math.sqrt(X*X+pe*pe)),T=Es($,X),y=Math.abs(T)>2e-4?T*Bi:0,x=ne?1/(ne<0?-ne:ne):0),n.svg&&(F=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!eT(rn(e,Oe)),F&&e.setAttribute("transform",F))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(d*=-1,y+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,y+=y<=0?180:-180)),r=r||n.uncache,n.x=h-((n.xPercent=h&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=c+o,n.scaleX=He(d),n.scaleY=He(p),n.rotation=He(m)+a,n.rotationX=He(v)+a,n.rotationY=He(_)+a,n.skewX=y+a,n.skewY=g+a,n.transformPerspective=x+o,(n.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[Br]=Nh(u)),n.xOffset=n.yOffset=0,n.force3D=qt.force3D,n.renderTransform=n.svg?l3:qE?tT:a3,n.uncache=0,n},Nh=function(e){return(e=e.split(" "))[0]+" "+e[1]},Zf=function(e,r,n){var i=wt(r);return He(parseFloat(r)+parseFloat(vi(e,"x",n+"px",i)))+i},a3=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,tT(e,r)},Ri="0deg",Jo="0px",Ii=") ",tT=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,u=n.rotation,h=n.rotationY,f=n.rotationX,c=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,v=n.transformPerspective,_=n.force3D,y=n.target,g=n.zOrigin,x="",w=_==="auto"&&e&&e!==1||_===!0;if(g&&(f!==Ri||h!==Ri)){var S=parseFloat(h)*oo,E=Math.sin(S),T=Math.cos(S),b;S=parseFloat(f)*oo,b=Math.cos(S),o=Zf(y,o,E*b*-g),a=Zf(y,a,-Math.sin(S)*-g),l=Zf(y,l,T*b*-g+g)}v!==Jo&&(x+="perspective("+v+Ii),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(w||o!==Jo||a!==Jo||l!==Jo)&&(x+=l!==Jo||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Ii),u!==Ri&&(x+="rotate("+u+Ii),h!==Ri&&(x+="rotateY("+h+Ii),f!==Ri&&(x+="rotateX("+f+Ii),(c!==Ri||d!==Ri)&&(x+="skew("+c+", "+d+Ii),(p!==1||m!==1)&&(x+="scale("+p+", "+m+Ii),y.style[Oe]=x||"translate(0, 0)"},l3=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,u=n.skewX,h=n.skewY,f=n.scaleX,c=n.scaleY,d=n.target,p=n.xOrigin,m=n.yOrigin,v=n.xOffset,_=n.yOffset,y=n.forceCSS,g=parseFloat(o),x=parseFloat(a),w,S,E,T,b;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=oo,u*=oo,w=Math.cos(l)*f,S=Math.sin(l)*f,E=Math.sin(l-u)*-c,T=Math.cos(l-u)*c,u&&(h*=oo,b=Math.tan(u-h),b=Math.sqrt(1+b*b),E*=b,T*=b,h&&(b=Math.tan(h),b=Math.sqrt(1+b*b),w*=b,S*=b)),w=He(w),S=He(S),E=He(E),T=He(T)):(w=f,T=c,S=E=0),(g&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(g=vi(d,"x",o,"px"),x=vi(d,"y",a,"px")),(p||m||v||_)&&(g=He(g+p-(p*w+m*E)+v),x=He(x+m-(p*S+m*T)+_)),(i||s)&&(b=d.getBBox(),g=He(g+i/100*b.width),x=He(x+s/100*b.height)),b="matrix("+w+","+S+","+E+","+T+","+g+","+x+")",d.setAttribute("transform",b),y&&(d.style[Oe]=b)},u3=function(e,r,n,i,s){var o=360,a=at(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Bi:1),u=l-i,h=i+u+"deg",f,c;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*N0)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*N0)%o-~~(u/o)*o)),e._pt=c=new zt(e._pt,r,n,i,u,WO),c.e=h,c.u="deg",e._props.push(n),c},$0=function(e,r){for(var n in r)e[n]=r[n];return e},h3=function(e,r,n){var i=$0({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,u,h,f,c,d,p;i.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[Oe]=r,a=ll(n,1),ol(n,Oe),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Oe],o[Oe]=r,a=ll(n,1),o[Oe]=u);for(l in On)u=i[l],h=a[l],u!==h&&s.indexOf(l)<0&&(d=wt(u),p=wt(h),f=d!==p?vi(n,l,u,p):parseFloat(u),c=parseFloat(h),e._pt=new zt(e._pt,a,l,f,c-f,Vp),e._pt.u=p||0,e._props.push(l));$0(a,i)};Gt("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Fh[e>1?"border"+t:t]=function(a,l,u,h,f){var c,d;if(arguments.length<4)return c=o.map(function(p){return yn(a,p,u)}),d=c.join(" "),d.split(c[0]).length===5?c[0]:d;c=(h+"").split(" "),d={},o.forEach(function(p,m){return d[p]=c[m]=c[m]||c[(m-1)/2|0]}),a.init(l,d,f)}});var rT={name:"css",register:Wp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,l=n.vars.startAt,u,h,f,c,d,p,m,v,_,y,g,x,w,S,E,T;Tg||Wp(),this.styles=this.styles||KE(e),T=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(h=r[m],!(Wt[m]&&LE(m,r,n,i,e,s)))){if(d=typeof h,p=Fh[m],d==="function"&&(h=h.call(n,i,e,s),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=il(h)),p)p(this,e,m,h,n)&&(E=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",fi.lastIndex=0,fi.test(u)||(v=wt(u),_=wt(h)),_?v!==_&&(u=vi(e,m,u,_)+_):v&&(h+=v),this.add(a,"setProperty",u,h,i,s,0,0,m),o.push(m),T.push(m,0,a[m]);else if(d!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(n,i,e,s):l[m],at(u)&&~u.indexOf("random(")&&(u=il(u)),wt(u+"")||(u+=qt.units[m]||wt(yn(e,m))||""),(u+"").charAt(1)==="="&&(u=yn(e,m))):u=yn(e,m),c=parseFloat(u),y=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),y&&(h=h.substr(2)),f=parseFloat(h),m in Tn&&(m==="autoAlpha"&&(c===1&&yn(e,"visibility")==="hidden"&&f&&(c=0),T.push("visibility",0,a.visibility),ei(this,a,"visibility",c?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=Tn[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in On,g){if(this.styles.save(m),x||(w=e._gsap,w.renderTransform&&!r.parseTransform||ll(e,r.parseTransform),S=r.smoothOrigin!==!1&&w.smooth,x=this._pt=new zt(this._pt,a,Oe,0,1,w.renderTransform,w,0,-1),x.dep=1),m==="scale")this._pt=new zt(this._pt,w,"scaleY",w.scaleY,(y?io(w.scaleY,y+f):f)-w.scaleY||0,Vp),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){T.push(Br,0,a[Br]),h=s3(h),w.svg?Xp(e,h,0,S,0,this):(_=parseFloat(h.split(" ")[2])||0,_!==w.zOrigin&&ei(this,w,"zOrigin",w.zOrigin,_),ei(this,a,m,Nh(u),Nh(h)));continue}else if(m==="svgOrigin"){Xp(e,h,1,S,0,this);continue}else if(m in JE){u3(this,w,m,c,y?io(c,y+h):h);continue}else if(m==="smoothOrigin"){ei(this,w,"smooth",w.smooth,h);continue}else if(m==="force3D"){w[m]=h;continue}else if(m==="transform"){h3(this,h,e);continue}}else m in a||(m=bo(m)||m);if(g||(f||f===0)&&(c||c===0)&&!jO.test(h)&&m in a)v=(u+"").substr((c+"").length),f||(f=0),_=wt(h)||(m in qt.units?qt.units[m]:v),v!==_&&(c=vi(e,m,u,_)),this._pt=new zt(this._pt,g?w:a,m,c,(y?io(c,y+f):f)-c,!g&&(_==="px"||m==="zIndex")&&r.autoRound!==!1?YO:Vp),this._pt.u=_||0,v!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=XO);else if(m in a)i3.call(this,e,m,u,y?y+h:h);else if(m in e)this.add(e,m,u||e[m],y?y+h:h,i,s);else if(m!=="parseTransform"){pg(m,h);continue}g||(m in a?T.push(m,0,a[m]):T.push(m,1,u||e[m])),o.push(m)}}E&&VE(this)},render:function(e,r){if(r.tween._time||!Sg())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:yn,aliases:Tn,getSetter:function(e,r,n){var i=Tn[r];return i&&i.indexOf(",")<0&&(r=i),r in On&&r!==Br&&(e._gsap.x||yn(e,"x"))?n&&F0===n?r==="scale"?ZO:QO:(F0=n||{})&&(r==="scale"?JO:e3):e.style&&!fg(e.style[r])?KO:~r.indexOf("-")?qO:wg(e,r)},core:{_removeProperty:ol,_getMatrix:Cg}};Jt.utils.checkPrefix=bo;Jt.core.getStyleSaver=KE;(function(t,e,r,n){var i=Gt(t+","+e+","+r,function(s){On[s]=1});Gt(e,function(s){qt.units[s]="deg",JE[s]=1}),Tn[i[13]]=t+","+e,Gt(n,function(s){var o=s.split(":");Tn[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Gt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){qt.units[t]="px"});Jt.registerPlugin(rT);var Qe=Jt.registerPlugin(rT)||Jt;Qe.core.Tween;const c3=()=>{const[t,e]=D.useState(0),[r,n]=D.useState(0),i=D.useRef(null),s=D.useRef(null),o=D.useRef(null),a=D.useRef([]),l=D.useRef(null),u=D.useRef(null),h=D.useRef(null),f=D.useRef(null),c=D.useRef(!1),d={rows:7,cols:7,gemSize:0,gemPadding:10,gemRadius:15,resources:{gems:{sparkle:{color:16763904,light:16771899,svg:"/GemsIcon/blue-gem.svg"},diamond:{color:58879,light:8716287,svg:"/GemsIcon/green-gem.svg"},crystal:{color:11225020,light:13538264,svg:"/GemsIcon/red-gem.svg"},star:{color:16748800,light:16761963,svg:"/GemsIcon/purple-gem.svg"},lightning:{color:16771584,light:16777101,svg:"/GemsIcon/revolte-gem.svg"},heart:{color:16717636,light:16736623,svg:"/GemsIcon/yellow-gem.svg"}}}},p=Object.keys(d.resources.gems),m=D.useRef({});D.useEffect(()=>((async()=>{try{if(!K1())throw new Error("Your device does not support WebGL. Please update your browser.");const M=new ag({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,backgroundAlpha:0,transparent:!0,antialias:!0,resolution:Math.min(2,window.devicePixelRatio||1),autoDensity:!0,powerPreference:"high-performance"});document.getElementById("game-board").appendChild(M.view),i.current=M,a.current=Array(d.rows).fill().map(()=>Array(d.cols).fill(null)),await v(),g(),E(),rr(),window.addEventListener("resize",y)}catch(M){console.error("Game initialization error:",M),$e(M.message)}})(),()=>{window.removeEventListener("resize",y),i.current&&(i.current.destroy(!0),i.current=null)}),[]);const v=async()=>{const C={};for(const M of p)try{C[M]=await q.fromURL(d.resources.gems[M].svg)}catch(B){console.warn(`Failed to load texture for ${M}, using fallback:`,B),C[M]=_(M)}m.current=C},_=C=>{const M=new _n;return M.beginFill(d.resources.gems[C].color),M.drawCircle(0,0,30),M.endFill(),i.current.renderer.generateTexture(M)},y=()=>{clearTimeout(h.current),h.current=setTimeout(()=>{g()},100)},g=()=>{var Se,_r;const C=window.innerWidth,M=window.innerHeight,B=Math.min(C*.9,M*.8),G=Math.floor((B-(d.cols+1)*d.gemPadding)/d.cols),j=Math.floor((B-(d.rows+1)*d.gemPadding)/d.rows);d.gemSize=Math.max(Math.min(G,j,80),30),d.gemPadding=Math.floor(d.gemSize*.15),d.gemRadius=Math.floor(d.gemSize*.2);const re=20,ie=d.cols*(d.gemSize+d.gemPadding)-d.gemPadding,Te=d.rows*(d.gemSize+d.gemPadding)-d.gemPadding;(Se=i.current)!=null&&Se.renderer&&(i.current.renderer.resize(ie+re*2,Te+re*2),(_r=s.current)==null||_r.position.set(re,re),x())},x=()=>{if(!s.current){E();return}Qe.to(s.current,{alpha:0,duration:.2,onComplete:()=>{w(),E(),Qe.to(s.current,{alpha:1,duration:.3})}})},w=()=>{s.current&&(i.current.stage.removeChild(s.current),s.current.destroy({children:!0}),s.current=null)},S=()=>{const C=new $t;C.position.set((d.gemPadding+2.5)*2,(d.gemPadding+2.5)*2),i.current.stage.addChild(C),s.current=C},E=()=>{w(),S(),T(),b(),we(),k()},T=()=>{const C=d.gemSize+d.gemPadding,M=d.cols*C-d.gemPadding,B=d.rows*C-d.gemPadding,G=new _n;G.beginFill(1712698).drawRoundedRect(-15,-15,M+30,B+30,20).endFill(),G.lineStyle(3,4877482,.7).drawRoundedRect(-10,-10,M+20,B+20,15),G.lineStyle(1,3820154,.3);for(let re=0;re<d.rows;re++)for(let ie=0;ie<d.cols;ie++)G.drawRoundedRect(ie*C,re*C,d.gemSize,d.gemSize,d.gemRadius);const j=new _n;j.beginFill(4877482,.1).drawRoundedRect(-20,-20,M+40,B+40,25).endFill(),j.blur=5,s.current.addChild(j),s.current.addChild(G)},b=()=>{const C=d.gemSize+d.gemPadding;for(let M=0;M<d.rows;M++)for(let B=0;B<d.cols;B++){a.current[M][B]&&a.current[M][B].parent&&a.current[M][B].parent.removeChild(a.current[M][B]);const G=R(B,M),j=N(G,B,M);j.position.set(B*C+d.gemSize/2,M*C+d.gemSize/2),s.current.addChild(j),a.current[M][B]=j}},R=(C,M,B=50)=>{var re,ie,Te,Se;let G,j=0;do{if(G=p[Math.floor(Math.random()*p.length)],j++,j>=B)break;if(!(C>=2&&((re=a.current[M][C-1])==null?void 0:re.data.type)===G&&((ie=a.current[M][C-2])==null?void 0:ie.data.type)===G)&&!(M>=2&&((Te=a.current[M-1][C])==null?void 0:Te.data.type)===G&&((Se=a.current[M-2][C])==null?void 0:Se.data.type)===G))break}while(!0);return G},k=()=>{if(!o.current){const C=new rl("",{fontFamily:"Arial",fontSize:36,fill:16777215,fontWeight:"bold",dropShadow:!0,dropShadowColor:4877482,dropShadowBlur:10});C.anchor.set(.5),C.position.set(i.current.screen.width/2,50),C.alpha=0,i.current.stage.addChild(C),o.current=C}},N=(C,M,B)=>{var re;if(!((re=m.current)!=null&&re[C]))return console.error(`Texture for type "${C}" not found!`),null;const G=new $t;G.interactive=G.buttonMode=!0,G.data={type:C,x:M,y:B};const j=new ds(m.current[C]);return j.anchor.set(.5),j.width=j.height=d.gemSize,G.addChild(j),G.on("pointerdown",I),G.on("pointerover",()=>P(G)),G.on("pointerout",()=>$(G)),G},I=C=>{C.stopPropagation(),X(C.currentTarget)},P=C=>{C!==l.current&&C.scale.set(1.1)},$=C=>{C!==l.current&&C.scale.set(1)},X=(C,M)=>{if(!C){l.current&&F();return}l.current?l.current===C?F():A(l.current,C)?H(l.current,C):(F(),l.current=C,z(C),O()):(l.current=C,z(C),O())},F=()=>{l.current&&(Qe.killTweensOf(l.current.scale),Qe.to(l.current.scale,{x:1,y:1,duration:.2}),l.current=null,u.current=null)},O=()=>{l.current&&Qe.to(l.current.scale,{x:1.2,y:1.2,duration:.3,yoyo:!0,repeat:-1,ease:"sine.inOut"})},z=C=>{if(!(C!=null&&C.parent))return;const M=new _n().beginFill(16777215,.5).drawCircle(0,0,d.gemSize/2).endFill();M.position.copyFrom(C.position),C.parent.addChild(M),Qe.to(M,{width:d.gemSize*2,height:d.gemSize*2,alpha:0,duration:.5,onComplete:()=>{M.parent&&M.parent.removeChild(M)}})},A=(C,M)=>{if(!C||!M)return!1;const B=Math.abs(C.data.x-M.data.x),G=Math.abs(C.data.y-M.data.y);return B===1&&G===0||B===0&&G===1},H=(C,M)=>{var Se;if(!C||!M)return;Qe.killTweensOf((Se=l.current)==null?void 0:Se.scale),l.current=null,u.current=null;const B={gem1:{x:C.data.x,y:C.data.y},gem2:{x:M.data.x,y:M.data.y}};[a.current[C.data.y][C.data.x],a.current[M.data.y][M.data.x]]=[M,C],[C.data.x,M.data.x]=[M.data.x,C.data.x],[C.data.y,M.data.y]=[M.data.y,C.data.y];const G=d.gemSize+d.gemPadding,j=C.data.x*G+d.gemSize/2,re=C.data.y*G+d.gemSize/2,ie=M.data.x*G+d.gemSize/2,Te=M.data.y*G+d.gemSize/2;Qe.to(C.position,{x:j,y:re,duration:.3,onComplete:()=>{oe()?ne():K(C,M,B)}}),Qe.to(M.position,{x:ie,y:Te,duration:.3})},K=(C,M,B)=>{if(!C||!M)return;[a.current[C.data.y][C.data.x],a.current[M.data.y][M.data.x]]=[M,C],C.data.x=B.gem1.x,C.data.y=B.gem1.y,M.data.x=B.gem2.x,M.data.y=B.gem2.y;const G=d.gemSize+d.gemPadding,j=B.gem1.x*G+d.gemSize/2,re=B.gem1.y*G+d.gemSize/2,ie=B.gem2.x*G+d.gemSize/2,Te=B.gem2.y*G+d.gemSize/2;Qe.to(C.position,{x:j,y:re,duration:.3}),Qe.to(M.position,{x:ie,y:Te,duration:.3})},oe=()=>{var C,M,B,G,j,re,ie,Te,Se,_r,Do,Oo;for(let nr=0;nr<d.rows;nr++)for(let Mt=0;Mt<d.cols-2;Mt++){const Ln=(B=(M=(C=a.current[nr])==null?void 0:C[Mt])==null?void 0:M.data)==null?void 0:B.type;if(!Ln)continue;let Un=1;for(let Gr=1;Mt+Gr<d.cols&&((re=(j=(G=a.current[nr])==null?void 0:G[Mt+Gr])==null?void 0:j.data)==null?void 0:re.type)===Ln;Gr++)if(Un++,Un>=3)return!0}for(let nr=0;nr<d.cols;nr++)for(let Mt=0;Mt<d.rows-2;Mt++){const Ln=(Se=(Te=(ie=a.current[Mt])==null?void 0:ie[nr])==null?void 0:Te.data)==null?void 0:Se.type;if(!Ln)continue;let Un=1;for(let Gr=1;Mt+Gr<d.rows&&((Oo=(Do=(_r=a.current[Mt+Gr])==null?void 0:_r[nr])==null?void 0:Do.data)==null?void 0:Oo.type)===Ln;Gr++)if(Un++,Un>=3)return!0}return!1},ne=()=>{var M,B,G,j,re,ie,Te,Se,_r,Do,Oo,nr,Mt,Ln,Un,Gr;const C=new Set;for(let lt=0;lt<d.rows;lt++)for(let Ct=0;Ct<d.cols-2;Ct++){const Fo=(M=a.current[lt])==null?void 0:M[Ct],No=(B=a.current[lt])==null?void 0:B[Ct+1],Bo=(G=a.current[lt])==null?void 0:G[Ct+2];if(!Fo||!No||!Bo)continue;const bi=(j=Fo.data)==null?void 0:j.type;if(bi===((re=No.data)==null?void 0:re.type)&&bi===((ie=Bo.data)==null?void 0:ie.type)){let un=Ct+3;for(;un<d.cols&&((Se=(Te=a.current[lt][un])==null?void 0:Te.data)==null?void 0:Se.type)===bi;)un++;for(let Ci=Ct;Ci<un;Ci++)C.add(a.current[lt][Ci])}}for(let lt=0;lt<d.cols;lt++)for(let Ct=0;Ct<d.rows-2;Ct++){const Fo=(_r=a.current[Ct])==null?void 0:_r[lt],No=(Do=a.current[Ct+1])==null?void 0:Do[lt],Bo=(Oo=a.current[Ct+2])==null?void 0:Oo[lt];if(!Fo||!No||!Bo)continue;const bi=(nr=Fo.data)==null?void 0:nr.type;if(bi===((Mt=No.data)==null?void 0:Mt.type)&&bi===((Ln=Bo.data)==null?void 0:Ln.type)){let un=Ct+3;for(;un<d.rows&&((Gr=(Un=a.current[un][lt])==null?void 0:Un.data)==null?void 0:Gr.type)===bi;)un++;for(let Ci=Ct;Ci<un;Ci++)C.add(a.current[Ci][lt])}}C.size>0?(n(lt=>lt+1),pe([...C])):(n(0),!gt()&&!c.current&&(c.current=!0,Re(),c.current=!1))},pe=C=>{const M=C.filter(B=>B&&B.parent);if(M.length===0){requestAnimationFrame(()=>xe());return}clearTimeout(f.current),r>1&&(o.current.text=`COMBO x${r}!`,Qe.to(o.current,{alpha:1,scale:{x:1.5,y:1.5},duration:.2,yoyo:!0,repeat:1,onComplete:()=>Qe.killTweensOf(o.current)}),e(B=>B+10*(r-1))),f.current=setTimeout(()=>{n(0),Qe.to(o.current,{alpha:0,duration:.5,onComplete:()=>Qe.killTweensOf(o.current)})},2e3),M.forEach(B=>{const{x:G,y:j}=B.data;a.current[j]&&a.current[j][G]!==void 0&&(a.current[j][G]=null),me(B),B.parent&&B.parent.removeChild(B),B.destroy&&B.destroy()}),setTimeout(()=>xe(),300)},me=C=>{if(C!=null&&C.parent)for(let M=0;M<8;M++){const B=new _n().beginFill(d.resources.gems[C.data.type].light).drawCircle(0,0,2).endFill();B.position.copyFrom(C.position),C.parent.addChild(B);const G=Math.random()*Math.PI*2,j=1+Math.random()*2,re=ie=>{B.x+=Math.cos(G)*j*ie,B.y+=Math.sin(G)*j*ie,B.alpha-=.03*ie,B.alpha<=0&&(B.parent&&B.parent.removeChild(B),i.current.ticker.remove(re))};i.current.ticker.add(re)}},xe=()=>{const C=Array(d.cols).fill().map(()=>({emptyCount:0,gemsToMove:[]}));for(let j=0;j<d.cols;j++)for(let re=d.rows-1;re>=0;re--)a.current[re][j]?C[j].emptyCount>0&&C[j].gemsToMove.push({gem:a.current[re][j],newY:re+C[j].emptyCount}):C[j].emptyCount++;const M=[],B=d.gemSize+d.gemPadding;C.forEach((j,re)=>{j.gemsToMove.forEach(({gem:ie,newY:Te})=>{a.current[Te][re]=ie,a.current[ie.data.y][re]=null,ie.data.y=Te;const Se=Te*B+d.gemSize/2;M.push(new Promise(_r=>{Qe.to(ie.position,{y:Se,duration:.3+(Te-ie.data.y)*.05,ease:"power1.out",onComplete:_r})}))})});const G=[];C.forEach((j,re)=>{if(j.emptyCount>0)for(let ie=0;ie<j.emptyCount;ie++){const Te=ie;G.push(new Promise(Se=>{setTimeout(()=>{qe(re,Te,!0),Se()},ie*100)}))}}),Promise.all([...M,...G]).then(()=>{setTimeout(()=>{ne(),gt()||Re()},200)})},qe=(C,M,B)=>{if(C<0||C>=d.cols||M<0||M>=d.rows)return console.error(`Invalid coordinates: (${C}, ${M})`),null;const G=p[Math.floor(Math.random()*p.length)],j=N(G,C,M);if(!j)return null;if(a.current[M][C]&&a.current[M][C].parent){const Se=a.current[M][C];Se.parent.removeChild(Se),Se.destroy&&Se.destroy()}const re=d.gemSize+d.gemPadding,ie=C*re+d.gemSize/2,Te=M*re+d.gemSize/2;if(B){const Se=-d.gemSize*2;j.position.set(ie,Se),Qe.to(j.position,{x:ie,y:Te,duration:.5+M*.05,ease:"bounce.out",onComplete:()=>{j.position.set(ie,Te)}})}else j.position.set(ie,Te);return s.current.addChild(j),a.current[M][C]=j,j},gt=()=>{for(let C=0;C<d.rows;C++)for(let M=0;M<d.cols;M++)if(M<d.cols-1&&We(M,C,M+1,C)||C<d.rows-1&&We(M,C,M,C+1))return!0;return!1},We=(C,M,B,G)=>{[a.current[M][C],a.current[G][B]]=[a.current[G][B],a.current[M][C]];const j=oe();return[a.current[M][C],a.current[G][B]]=[a.current[G][B],a.current[M][C]],j},we=()=>{let C;do{C=!1;const M=new Set;for(let B=0;B<d.rows;B++)for(let G=0;G<d.cols-2;G++){const j=a.current[B][G],re=a.current[B][G+1],ie=a.current[B][G+2];j&&re&&ie&&j.data.type===re.data.type&&j.data.type===ie.data.type&&(M.add(j).add(re).add(ie),C=!0)}for(let B=0;B<d.cols;B++)for(let G=0;G<d.rows-2;G++){const j=a.current[G][B],re=a.current[G+1][B],ie=a.current[G+2][B];j&&re&&ie&&j.data.type===re.data.type&&j.data.type===ie.data.type&&(M.add(j).add(re).add(ie),C=!0)}M.forEach(B=>{const{x:G,y:j}=B.data;a.current[j][G]=null,B.parent&&B.parent.removeChild(B),setTimeout(()=>{qe(G,j,!1)},50)})}while(C)},Re=()=>{const C=new rl(`No valid moves!
Creating new board`,{fontFamily:"Arial",fontSize:36,fill:16777215,align:"center",stroke:16711680,strokeThickness:4});C.anchor.set(.5).position.set(i.current.screen.width/2,i.current.screen.height/2),i.current.stage.addChild(C),Qe.to(C,{alpha:0,duration:2,delay:1,onComplete:()=>{C.parent&&C.parent.removeChild(C),E()}})},$e=C=>{const M=document.getElementById("game-board")||document.body;M.innerHTML=`
      <div style="
        color: white;
        background: #1a1a2e;
        padding: 20px;
        border-radius: 10px;
        font-family: Arial;
        text-align: center;
        max-width: 500px;
        margin: 20px auto;
      ">
        <h3 style="color: #ff4757">Game Error</h3>
        <p>${C}</p>
        <button style="
          background: #ff4757;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 5px;
          margin-top: 15px;
          cursor: pointer;
        " onclick="window.location.reload()">
          Try Again
        </button>
        <p style="margin-top: 20px; font-size: 0.8em; opacity: 0.7;">
          If the error persists, try another browser
        </p>
      </div>
    `},rr=()=>{const C=document.getElementById("restart-btn");C&&C.addEventListener("click",()=>{e(0),n(0),E()})};return ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"app-game-container",children:ee.jsx("div",{id:"game-board",className:"app-game-board"})}),ee.jsxs("div",{className:"app-game-btns",children:[ee.jsx(Ya,{to:"/",className:"app-game-btn app-game-home",children:" "}),ee.jsx("button",{id:"restart-btn",className:"app-game-btn app-game-restart",children:"Restart"})]})]})},f3=()=>ee.jsx(ee.Fragment,{children:ee.jsx("h4",{children:"Seetings Page"})}),d3="/CosmoGem/assets/logo-game-DfZjE2jY.jpeg",p3="data:image/svg+xml,%3c!--%20icon666.com%20-%20MILLIONS%20OF%20FREE%20VECTOR%20ICONS%20--%3e%3csvg%20id='Capa_1'%20enable-background='new%200%200%20512%20512'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='256'%20x2='256'%20y1='489'%20y2='187.993'%3e%3cstop%20offset='0'%20stop-color='%2300b59c'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%239cffac'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='SVGID_2_'%20gradientUnits='userSpaceOnUse'%20x1='256'%20x2='256'%20y1='368.003'%20y2='23'%3e%3cstop%20offset='0'%20stop-color='%23c3ffe8'%3e%3c/stop%3e%3cstop%20offset='.9973'%20stop-color='%23f0fff4'%3e%3c/stop%3e%3c/linearGradient%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='m111.742%20339.143c-5.566-2.344-12.041-1.055-16.348%203.252l-61%2060c-2.812%202.812-4.394%206.621-4.394%2010.605v61c0%208.291%206.709%2015%2015%2015h61c8.291%200%2015-6.709%2015-15v-121c0-6.064-3.662-11.543-9.258-13.857zm114.258-61.143h-60c-8.291%200-15%206.709-15%2015v181c0%208.291%206.709%2015%2015%2015h60c8.291%200%2015-6.709%2015-15v-181c0-8.291-6.709-15-15-15zm121%200h-61c-8.291%200-15%206.709-15%2015v181c0%208.291%206.709%2015%2015%2015h61c8.291%200%2015-6.709%2015-15v-181c0-8.291-6.709-15-15-15zm125.742-88.857c-5.566-2.344-12.041-1.025-16.348%203.252l-60%2060c-2.812%202.812-4.394%206.621-4.394%2010.605v211c0%208.291%206.709%2015%2015%2015h60c8.291%200%2015-6.709%2015-15v-271c0-6.064-3.662-11.543-9.258-13.857z'%20fill='url(%23SVGID_1_)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='m497%2023h-90c-6.064%200-11.543%203.647-13.857%209.258s-1.025%2012.056%203.252%2016.348l14.561%2014.575-95.069%2094.819h-204.789c-3.984%200-7.822%201.582-10.635%204.409l-96.098%2095.405c-2.783%202.813-4.365%206.622-4.365%2010.591v84.595c0%206.064%203.662%2011.543%209.258%2013.857%205.454%202.294%2011.988%201.108%2016.348-3.252l116.605-115.605h204.789c3.984%200%207.793-1.582%2010.605-4.395l116.895-116.894%2011.895%2011.895c4.336%204.307%2010.781%205.596%2016.348%203.252%205.595-2.315%209.257-7.794%209.257-13.858v-90c0-8.291-6.709-15-15-15z'%20fill='url(%23SVGID_2_)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",m3=()=>ee.jsx(ee.Fragment,{children:ee.jsx("div",{className:"header",children:ee.jsxs("div",{className:"header-wrapper",children:[ee.jsxs("div",{className:"header-logo",children:[ee.jsx("img",{src:d3,width:40,height:40,alt:"",className:"header-logo-icon"}),ee.jsx("h4",{className:"header-logo-text",children:"Admin accaunt"})]}),ee.jsx("div",{className:"header-stage",children:ee.jsx("img",{src:p3,alt:"stage",width:20,height:20})})]})})}),g3=()=>ee.jsx(ee.Fragment,{children:ee.jsxs("div",{className:"app",children:[ee.jsx("div",{className:"app-overlay"}),ee.jsx(m3,{}),ee.jsxs(xC,{children:[ee.jsx(bu,{path:"/",element:ee.jsx(hA,{})}),ee.jsx(bu,{path:"/game",element:ee.jsx(c3,{})}),ee.jsx(bu,{path:"/settings",element:ee.jsx(f3,{})})]})]})});Jf.createRoot(document.getElementById("root")).render(ee.jsx(ti.StrictMode,{children:ee.jsx(HC,{basename:"/CosmoGem",children:ee.jsx(g3,{})})}));
