(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var S0={exports:{}},_h={},T0={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),LE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),GE=Symbol.for("react.strict_mode"),zE=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),HE=Symbol.for("react.context"),jE=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),WE=Symbol.for("react.memo"),XE=Symbol.for("react.lazy"),ug=Symbol.iterator;function YE(t){return t===null||typeof t!="object"?null:(t=ug&&t[ug]||t["@@iterator"],typeof t=="function"?t:null)}var b0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C0=Object.assign,A0={};function co(t,e,r){this.props=t,this.context=e,this.refs=A0,this.updater=r||b0}co.prototype.isReactComponent={};co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P0(){}P0.prototype=co.prototype;function Pp(t,e,r){this.props=t,this.context=e,this.refs=A0,this.updater=r||b0}var Rp=Pp.prototype=new P0;Rp.constructor=Pp;C0(Rp,co.prototype);Rp.isPureReactComponent=!0;var hg=Array.isArray,R0=Object.prototype.hasOwnProperty,Ip={current:null},I0={key:!0,ref:!0,__self:!0,__source:!0};function M0(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)R0.call(e,n)&&!I0.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ha,type:t,key:s,ref:o,props:i,_owner:Ip.current}}function KE(t,e){return{$$typeof:Ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ha}function qE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cg=/\/+/g;function nc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qE(""+t.key):e.toString(36)}function Yl(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ha:case LE:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+nc(o,0):n,hg(i)?(r="",t!=null&&(r=t.replace(cg,"$&/")+"/"),Yl(i,e,r,"",function(u){return u})):i!=null&&(Mp(i)&&(i=KE(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",hg(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+nc(s,a);o+=Yl(s,e,r,l,i)}else if(l=YE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+nc(s,a++),o+=Yl(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sl(t,e,r){if(t==null)return t;var n=[],i=0;return Yl(t,n,"","",function(s){return e.call(r,s,i++)}),n}function QE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},Kl={transition:null},ZE={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Ip};function k0(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:sl,forEach:function(t,e,r){sl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return sl(t,function(){e++}),e},toArray:function(t){return sl(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=co;ce.Fragment=UE;ce.Profiler=zE;ce.PureComponent=Pp;ce.StrictMode=GE;ce.Suspense=VE;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;ce.act=k0;ce.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=C0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ip.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)R0.call(e,l)&&!I0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ha,type:t.type,key:i,ref:s,props:n,_owner:o}};ce.createContext=function(t){return t={$$typeof:HE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$E,_context:t},t.Consumer=t};ce.createElement=M0;ce.createFactory=function(t){var e=M0.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:jE,render:t}};ce.isValidElement=Mp;ce.lazy=function(t){return{$$typeof:XE,_payload:{_status:-1,_result:t},_init:QE}};ce.memo=function(t,e){return{$$typeof:WE,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Kl.transition;Kl.transition={};try{t()}finally{Kl.transition=e}};ce.unstable_act=k0;ce.useCallback=function(t,e){return Et.current.useCallback(t,e)};ce.useContext=function(t){return Et.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Et.current.useEffect(t,e)};ce.useId=function(){return Et.current.useId()};ce.useImperativeHandle=function(t,e,r){return Et.current.useImperativeHandle(t,e,r)};ce.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Et.current.useMemo(t,e)};ce.useReducer=function(t,e,r){return Et.current.useReducer(t,e,r)};ce.useRef=function(t){return Et.current.useRef(t)};ce.useState=function(t){return Et.current.useState(t)};ce.useSyncExternalStore=function(t,e,r){return Et.current.useSyncExternalStore(t,e,r)};ce.useTransition=function(){return Et.current.useTransition()};ce.version="18.3.1";T0.exports=ce;var D=T0.exports;const Gn=Ap(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE=D,eS=Symbol.for("react.element"),tS=Symbol.for("react.fragment"),rS=Object.prototype.hasOwnProperty,nS=JE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iS={key:!0,ref:!0,__self:!0,__source:!0};function D0(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)rS.call(e,n)&&!iS.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:eS,type:t,key:s,ref:o,props:i,_owner:nS.current}}_h.Fragment=tS;_h.jsx=D0;_h.jsxs=D0;S0.exports=_h;var N=S0.exports,kf={},O0={exports:{}},Vt={},N0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var P=O.length;O.push(z);e:for(;0<P;){var $=P-1>>>1,Q=O[$];if(0<i(Q,z))O[$]=z,O[P]=Q,P=$;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var z=O[0],P=O.pop();if(P!==z){O[0]=P;e:for(var $=0,Q=O.length,le=Q>>>1;$<le;){var oe=2*($+1)-1,b=O[oe],A=oe+1,V=O[A];if(0>i(b,P))A<Q&&0>i(V,b)?(O[$]=V,O[A]=P,$=A):(O[$]=b,O[oe]=P,$=oe);else if(A<Q&&0>i(V,P))O[$]=V,O[A]=P,$=A;else break e}}return z}function i(O,z){var P=O.sortIndex-z.sortIndex;return P!==0?P:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,c=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=O)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function x(O){if(m=!1,g(O),!p)if(r(l)!==null)p=!0,Y(w);else{var z=r(u);z!==null&&B(x,z.startTime-O)}}function w(O,z){p=!1,m&&(m=!1,_(S),S=-1),d=!0;var P=c;try{for(g(z),f=r(l);f!==null&&(!(f.expirationTime>z)||O&&!k());){var $=f.callback;if(typeof $=="function"){f.callback=null,c=f.priorityLevel;var Q=$(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),g(z)}else n(l);f=r(l)}if(f!==null)var le=!0;else{var oe=r(u);oe!==null&&B(x,oe.startTime-z),le=!1}return le}finally{f=null,c=P,d=!1}}var T=!1,E=null,S=-1,C=5,I=-1;function k(){return!(t.unstable_now()-I<C)}function F(){if(E!==null){var O=t.unstable_now();I=O;var z=!0;try{z=E(!0,O)}finally{z?M():(T=!1,E=null)}}else T=!1}var M;if(typeof y=="function")M=function(){y(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=F,M=function(){U.postMessage(null)}}else M=function(){v(F,0)};function Y(O){E=O,T||(T=!0,M())}function B(O,z){S=v(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,Y(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(c){case 1:case 2:case 3:var z=3;break;default:z=c}var P=c;c=z;try{return O()}finally{c=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=c;c=O;try{return z()}finally{c=P}},t.unstable_scheduleCallback=function(O,z,P){var $=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?$+P:$):P=$,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=P+Q,O={id:h++,callback:z,priorityLevel:O,startTime:P,expirationTime:Q,sortIndex:-1},P>$?(O.sortIndex=P,e(u,O),r(l)===null&&O===r(u)&&(m?(_(S),S=-1):m=!0,B(x,P-$))):(O.sortIndex=Q,e(l,O),p||d||(p=!0,Y(w))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var z=c;return function(){var P=c;c=z;try{return O.apply(this,arguments)}finally{c=P}}}})(F0);N0.exports=F0;var sS=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=D,$t=sS;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B0=new Set,fa={};function Wi(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(fa[t]=e,t=0;t<e.length;t++)B0.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,aS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fg={},dg={};function lS(t){return Df.call(dg,t)?!0:Df.call(fg,t)?!1:aS.test(t)?dg[t]=!0:(fg[t]=!0,!1)}function uS(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hS(t,e,r,n){if(e===null||typeof e>"u"||uS(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Dp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kp,Dp);ut[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kp,Dp);ut[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kp,Dp);ut[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function Op(t,e,r,n){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hS(e,r,i,n)&&(r=null),n||i===null?lS(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var En=oS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ol=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),L0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),G0=Symbol.for("react.offscreen"),pg=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,ic;function No(t){if(ic===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?No(t):""}function cS(t){switch(t.tag){case 5:return No(t.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function Bf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case Of:return"Profiler";case Np:return"StrictMode";case Nf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U0:return(t.displayName||"Context")+".Consumer";case L0:return(t._context.displayName||"Context")+".Provider";case Fp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bp:return e=t.displayName||null,e!==null?e:Bf(t.type)||"Memo";case An:e=t._payload,t=t._init;try{return Bf(t(e))}catch{}}return null}function fS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bf(e);case 8:return e===Np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dS(t){var e=z0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function al(t){t._valueTracker||(t._valueTracker=dS(t))}function $0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=z0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lf(t,e){var r=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function mg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H0(t,e){e=e.checked,e!=null&&Op(t,"checked",e,!1)}function Uf(t,e){H0(t,e);var r=Jn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gf(t,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gf(t,e,r){(e!=="number"||wu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fo=Array.isArray;function Ms(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(L(92));if(Fo(r)){if(1<r.length)throw Error(L(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jn(r)}}function j0(t,e){var r=Jn(e.value),n=Jn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function _g(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ll,W0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ll.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function da(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pS=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){pS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yo[e]=Yo[t]})});function X0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Yo.hasOwnProperty(t)&&Yo[t]?(""+e).trim():e+"px"}function Y0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=X0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var mS=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(mS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Lp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,ks=null,Ds=null;function vg(t){if(t=Wa(t)){if(typeof Wf!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Sh(e),Wf(t.stateNode,t.type,e))}}function K0(t){ks?Ds?Ds.push(t):Ds=[t]:ks=t}function q0(){if(ks){var t=ks,e=Ds;if(Ds=ks=null,vg(t),e)for(t=0;t<e.length;t++)vg(e[t])}}function Q0(t,e){return t(e)}function Z0(){}var ac=!1;function J0(t,e,r){if(ac)return t(e,r);ac=!0;try{return Q0(t,e,r)}finally{ac=!1,(ks!==null||Ds!==null)&&(Z0(),q0())}}function pa(t,e){var r=t.stateNode;if(r===null)return null;var n=Sh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(L(231,e,typeof r));return r}var Xf=!1;if(pn)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{Xf=!1}function gS(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Ko=!1,Eu=null,Su=!1,Yf=null,yS={onError:function(t){Ko=!0,Eu=t}};function _S(t,e,r,n,i,s,o,a,l){Ko=!1,Eu=null,gS.apply(yS,arguments)}function vS(t,e,r,n,i,s,o,a,l){if(_S.apply(this,arguments),Ko){if(Ko){var u=Eu;Ko=!1,Eu=null}else throw Error(L(198));Su||(Su=!0,Yf=u)}}function Xi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ev(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xg(t){if(Xi(t)!==t)throw Error(L(188))}function xS(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(L(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return xg(i),t;if(s===n)return xg(i),e;s=s.sibling}throw Error(L(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?t:e}function tv(t){return t=xS(t),t!==null?rv(t):null}function rv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rv(t);if(e!==null)return e;t=t.sibling}return null}var nv=$t.unstable_scheduleCallback,wg=$t.unstable_cancelCallback,wS=$t.unstable_shouldYield,ES=$t.unstable_requestPaint,ze=$t.unstable_now,SS=$t.unstable_getCurrentPriorityLevel,Up=$t.unstable_ImmediatePriority,iv=$t.unstable_UserBlockingPriority,Tu=$t.unstable_NormalPriority,TS=$t.unstable_LowPriority,sv=$t.unstable_IdlePriority,vh=null,Gr=null;function bS(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(vh,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:PS,CS=Math.log,AS=Math.LN2;function PS(t){return t>>>=0,t===0?32:31-(CS(t)/AS|0)|0}var ul=64,hl=4194304;function Bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Bo(a):(s&=o,s!==0&&(n=Bo(s)))}else o=r&~i,o!==0?n=Bo(o):s!==0&&(n=Bo(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xr(e),i=1<<r,n|=t[r],e&=~i;return n}function RS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xr(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=RS(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ov(){var t=ul;return ul<<=1,!(ul&4194240)&&(ul=64),t}function lc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ja(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=r}function MS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Gp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _e=0;function av(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lv,zp,uv,hv,cv,qf=!1,cl=[],zn=null,$n=null,Hn=null,ma=new Map,ga=new Map,Rn=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ma.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(e.pointerId)}}function wo(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wa(e),e!==null&&zp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DS(t,e,r,n,i){switch(e){case"focusin":return zn=wo(zn,t,e,r,n,i),!0;case"dragenter":return $n=wo($n,t,e,r,n,i),!0;case"mouseover":return Hn=wo(Hn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ma.set(s,wo(ma.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ga.set(s,wo(ga.get(s)||null,t,e,r,n,i)),!0}return!1}function fv(t){var e=Ti(t.target);if(e!==null){var r=Xi(e);if(r!==null){if(e=r.tag,e===13){if(e=ev(r),e!==null){t.blockedOn=e,cv(t.priority,function(){uv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Qf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Vf=n,r.target.dispatchEvent(n),Vf=null}else return e=Wa(r),e!==null&&zp(e),t.blockedOn=r,!1;e.shift()}return!0}function Sg(t,e,r){ql(t)&&r.delete(e)}function OS(){qf=!1,zn!==null&&ql(zn)&&(zn=null),$n!==null&&ql($n)&&($n=null),Hn!==null&&ql(Hn)&&(Hn=null),ma.forEach(Sg),ga.forEach(Sg)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,qf||(qf=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,OS)))}function ya(t){function e(i){return Eo(i,t)}if(0<cl.length){Eo(cl[0],t);for(var r=1;r<cl.length;r++){var n=cl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zn!==null&&Eo(zn,t),$n!==null&&Eo($n,t),Hn!==null&&Eo(Hn,t),ma.forEach(e),ga.forEach(e),r=0;r<Rn.length;r++)n=Rn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)fv(r),r.blockedOn===null&&Rn.shift()}var Os=En.ReactCurrentBatchConfig,Cu=!0;function NS(t,e,r,n){var i=_e,s=Os.transition;Os.transition=null;try{_e=1,$p(t,e,r,n)}finally{_e=i,Os.transition=s}}function FS(t,e,r,n){var i=_e,s=Os.transition;Os.transition=null;try{_e=4,$p(t,e,r,n)}finally{_e=i,Os.transition=s}}function $p(t,e,r,n){if(Cu){var i=Qf(t,e,r,n);if(i===null)_c(t,e,n,Au,r),Eg(t,n);else if(DS(i,t,e,r,n))n.stopPropagation();else if(Eg(t,n),e&4&&-1<kS.indexOf(t)){for(;i!==null;){var s=Wa(i);if(s!==null&&lv(s),s=Qf(t,e,r,n),s===null&&_c(t,e,n,Au,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else _c(t,e,n,null,r)}}var Au=null;function Qf(t,e,r,n){if(Au=null,t=Lp(n),t=Ti(t),t!==null)if(e=Xi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ev(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Au=t,null}function dv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SS()){case Up:return 1;case iv:return 4;case Tu:case TS:return 16;case sv:return 536870912;default:return 16}default:return 16}}var kn=null,Hp=null,Ql=null;function pv(){if(Ql)return Ql;var t,e=Hp,r=e.length,n,i="value"in kn?kn.value:kn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ql=i.slice(t,1<n?1-n:void 0)}function Zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fl(){return!0}function Tg(){return!1}function Wt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fl:Tg,this.isPropagationStopped=Tg,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),e}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=Wt(fo),Va=Oe({},fo,{view:0,detail:0}),BS=Wt(Va),uc,hc,So,xh=Oe({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(uc=t.screenX-So.screenX,hc=t.screenY-So.screenY):hc=uc=0,So=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),bg=Wt(xh),LS=Oe({},xh,{dataTransfer:0}),US=Wt(LS),GS=Oe({},Va,{relatedTarget:0}),cc=Wt(GS),zS=Oe({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),$S=Wt(zS),HS=Oe({},fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jS=Wt(HS),VS=Oe({},fo,{data:0}),Cg=Wt(VS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YS[t])?!!e[t]:!1}function Vp(){return KS}var qS=Oe({},Va,{key:function(t){if(t.key){var e=WS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(t){return t.type==="keypress"?Zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QS=Wt(qS),ZS=Oe({},xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=Wt(ZS),JS=Oe({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),eT=Wt(JS),tT=Oe({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rT=Wt(tT),nT=Oe({},xh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iT=Wt(nT),sT=[9,13,27,32],Wp=pn&&"CompositionEvent"in window,qo=null;pn&&"documentMode"in document&&(qo=document.documentMode);var oT=pn&&"TextEvent"in window&&!qo,mv=pn&&(!Wp||qo&&8<qo&&11>=qo),Pg=" ",Rg=!1;function gv(t,e){switch(t){case"keyup":return sT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function aT(t,e){switch(t){case"compositionend":return yv(e);case"keypress":return e.which!==32?null:(Rg=!0,Pg);case"textInput":return t=e.data,t===Pg&&Rg?null:t;default:return null}}function lT(t,e){if(ys)return t==="compositionend"||!Wp&&gv(t,e)?(t=pv(),Ql=Hp=kn=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mv&&e.locale!=="ko"?null:e.data;default:return null}}var uT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uT[t.type]:e==="textarea"}function _v(t,e,r,n){K0(n),e=Pu(e,"onChange"),0<e.length&&(r=new jp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Qo=null,_a=null;function hT(t){Rv(t,0)}function wh(t){var e=xs(t);if($0(e))return t}function cT(t,e){if(t==="change")return e}var vv=!1;if(pn){var fc;if(pn){var dc="oninput"in document;if(!dc){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),dc=typeof Mg.oninput=="function"}fc=dc}else fc=!1;vv=fc&&(!document.documentMode||9<document.documentMode)}function kg(){Qo&&(Qo.detachEvent("onpropertychange",xv),_a=Qo=null)}function xv(t){if(t.propertyName==="value"&&wh(_a)){var e=[];_v(e,_a,t,Lp(t)),J0(hT,e)}}function fT(t,e,r){t==="focusin"?(kg(),Qo=e,_a=r,Qo.attachEvent("onpropertychange",xv)):t==="focusout"&&kg()}function dT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh(_a)}function pT(t,e){if(t==="click")return wh(e)}function mT(t,e){if(t==="input"||t==="change")return wh(e)}function gT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:gT;function va(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Df.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,e){var r=Dg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dg(r)}}function wv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ev(){for(var t=window,e=wu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wu(t.document)}return e}function Xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yT(t){var e=Ev(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&wv(r.ownerDocument.documentElement,r)){if(n!==null&&Xp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Og(r,s);var o=Og(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _T=pn&&"documentMode"in document&&11>=document.documentMode,_s=null,Zf=null,Zo=null,Jf=!1;function Ng(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jf||_s==null||_s!==wu(n)||(n=_s,"selectionStart"in n&&Xp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zo&&va(Zo,n)||(Zo=n,n=Pu(Zf,"onSelect"),0<n.length&&(e=new jp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_s)))}function dl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vs={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},pc={},Sv={};pn&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Eh(t){if(pc[t])return pc[t];if(!vs[t])return t;var e=vs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Sv)return pc[t]=e[r];return t}var Tv=Eh("animationend"),bv=Eh("animationiteration"),Cv=Eh("animationstart"),Av=Eh("transitionend"),Pv=new Map,Fg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(t,e){Pv.set(t,e),Wi(e,[t])}for(var mc=0;mc<Fg.length;mc++){var gc=Fg[mc],vT=gc.toLowerCase(),xT=gc[0].toUpperCase()+gc.slice(1);ai(vT,"on"+xT)}ai(Tv,"onAnimationEnd");ai(bv,"onAnimationIteration");ai(Cv,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(Av,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Bg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,vS(n,e,void 0,t),t.currentTarget=null}function Rv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bg(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bg(i,a,u),s=l}}}if(Su)throw t=Yf,Su=!1,Yf=null,t}function Se(t,e){var r=e[id];r===void 0&&(r=e[id]=new Set);var n=t+"__bubble";r.has(n)||(Iv(e,t,2,!1),r.add(n))}function yc(t,e,r){var n=0;e&&(n|=4),Iv(r,t,n,e)}var pl="_reactListening"+Math.random().toString(36).slice(2);function xa(t){if(!t[pl]){t[pl]=!0,B0.forEach(function(r){r!=="selectionchange"&&(wT.has(r)||yc(r,!1,t),yc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pl]||(e[pl]=!0,yc("selectionchange",!1,e))}}function Iv(t,e,r,n){switch(dv(e)){case 1:var i=NS;break;case 4:i=FS;break;default:i=$p}r=i.bind(null,e,r,t),i=void 0,!Xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function _c(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ti(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}J0(function(){var u=s,h=Lp(r),f=[];e:{var c=Pv.get(t);if(c!==void 0){var d=jp,p=t;switch(t){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":d=QS;break;case"focusin":p="focus",d=cc;break;case"focusout":p="blur",d=cc;break;case"beforeblur":case"afterblur":d=cc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=US;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=eT;break;case Tv:case bv:case Cv:d=$S;break;case Av:d=rT;break;case"scroll":d=BS;break;case"wheel":d=iT;break;case"copy":case"cut":case"paste":d=jS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Ag}var m=(e&4)!==0,v=!m&&t==="scroll",_=m?c!==null?c+"Capture":null:c;m=[];for(var y=u,g;y!==null;){g=y;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,_!==null&&(x=pa(y,_),x!=null&&m.push(wa(y,x,g)))),v)break;y=y.return}0<m.length&&(c=new d(c,p,null,r,h),f.push({event:c,listeners:m}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&r!==Vf&&(p=r.relatedTarget||r.fromElement)&&(Ti(p)||p[mn]))break e;if((d||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?Ti(p):null,p!==null&&(v=Xi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(m=bg,x="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ag,x="onPointerLeave",_="onPointerEnter",y="pointer"),v=d==null?c:xs(d),g=p==null?c:xs(p),c=new m(x,y+"leave",d,r,h),c.target=v,c.relatedTarget=g,x=null,Ti(h)===u&&(m=new m(_,y+"enter",p,r,h),m.target=g,m.relatedTarget=v,x=m),v=x,d&&p)t:{for(m=d,_=p,y=0,g=m;g;g=rs(g))y++;for(g=0,x=_;x;x=rs(x))g++;for(;0<y-g;)m=rs(m),y--;for(;0<g-y;)_=rs(_),g--;for(;y--;){if(m===_||_!==null&&m===_.alternate)break t;m=rs(m),_=rs(_)}m=null}else m=null;d!==null&&Lg(f,c,d,m,!1),p!==null&&v!==null&&Lg(f,v,p,m,!0)}}e:{if(c=u?xs(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var w=cT;else if(Ig(c))if(vv)w=mT;else{w=dT;var T=fT}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(w=pT);if(w&&(w=w(t,u))){_v(f,w,r,h);break e}T&&T(t,c,u),t==="focusout"&&(T=c._wrapperState)&&T.controlled&&c.type==="number"&&Gf(c,"number",c.value)}switch(T=u?xs(u):window,t){case"focusin":(Ig(T)||T.contentEditable==="true")&&(_s=T,Zf=u,Zo=null);break;case"focusout":Zo=Zf=_s=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Ng(f,r,h);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":Ng(f,r,h)}var E;if(Wp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ys?gv(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(mv&&r.locale!=="ko"&&(ys||S!=="onCompositionStart"?S==="onCompositionEnd"&&ys&&(E=pv()):(kn=h,Hp="value"in kn?kn.value:kn.textContent,ys=!0)),T=Pu(u,S),0<T.length&&(S=new Cg(S,t,null,r,h),f.push({event:S,listeners:T}),E?S.data=E:(E=yv(r),E!==null&&(S.data=E)))),(E=oT?aT(t,r):lT(t,r))&&(u=Pu(u,"onBeforeInput"),0<u.length&&(h=new Cg("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=E))}Rv(f,e)})}function wa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Pu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pa(t,r),s!=null&&n.unshift(wa(t,s,i)),s=pa(t,e),s!=null&&n.push(wa(t,s,i))),t=t.return}return n}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lg(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=pa(r,s),l!=null&&o.unshift(wa(r,l,a))):i||(l=pa(r,s),l!=null&&o.push(wa(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var ET=/\r\n?/g,ST=/\u0000|\uFFFD/g;function Ug(t){return(typeof t=="string"?t:""+t).replace(ET,`
`).replace(ST,"")}function ml(t,e,r){if(e=Ug(e),Ug(t)!==e&&r)throw Error(L(425))}function Ru(){}var ed=null,td=null;function rd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,bT=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(t){return Gg.resolve(null).then(t).catch(CT)}:nd;function CT(t){setTimeout(function(){throw t})}function vc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ya(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ya(e)}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),Br="__reactFiber$"+po,Ea="__reactProps$"+po,mn="__reactContainer$"+po,id="__reactEvents$"+po,AT="__reactListeners$"+po,PT="__reactHandles$"+po;function Ti(t){var e=t[Br];if(e)return e;for(var r=t.parentNode;r;){if(e=r[mn]||r[Br]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zg(t);t!==null;){if(r=t[Br])return r;t=zg(t)}return e}t=r,r=t.parentNode}return null}function Wa(t){return t=t[Br]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Sh(t){return t[Ea]||null}var sd=[],ws=-1;function li(t){return{current:t}}function Te(t){0>ws||(t.current=sd[ws],sd[ws]=null,ws--)}function Ee(t,e){ws++,sd[ws]=t.current,t.current=e}var ei={},_t=li(ei),Pt=li(!1),Fi=ei;function Ys(t,e){var r=t.type.contextTypes;if(!r)return ei;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(t){return t=t.childContextTypes,t!=null}function Iu(){Te(Pt),Te(_t)}function $g(t,e,r){if(_t.current!==ei)throw Error(L(168));Ee(_t,e),Ee(Pt,r)}function Mv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(L(108,fS(t)||"Unknown",i));return Oe({},r,n)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,Fi=_t.current,Ee(_t,t),Ee(Pt,Pt.current),!0}function Hg(t,e,r){var n=t.stateNode;if(!n)throw Error(L(169));r?(t=Mv(t,e,Fi),n.__reactInternalMemoizedMergedChildContext=t,Te(Pt),Te(_t),Ee(_t,t)):Te(Pt),Ee(Pt,r)}var nn=null,Th=!1,xc=!1;function kv(t){nn===null?nn=[t]:nn.push(t)}function RT(t){Th=!0,kv(t)}function ui(){if(!xc&&nn!==null){xc=!0;var t=0,e=_e;try{var r=nn;for(_e=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nn=null,Th=!1}catch(i){throw nn!==null&&(nn=nn.slice(t+1)),nv(Up,ui),i}finally{_e=e,xc=!1}}return null}var Es=[],Ss=0,ku=null,Du=0,Kt=[],qt=0,Bi=null,on=1,an="";function gi(t,e){Es[Ss++]=Du,Es[Ss++]=ku,ku=t,Du=e}function Dv(t,e,r){Kt[qt++]=on,Kt[qt++]=an,Kt[qt++]=Bi,Bi=t;var n=on;t=an;var i=32-xr(n)-1;n&=~(1<<i),r+=1;var s=32-xr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,on=1<<32-xr(e)+i|r<<i|n,an=s+t}else on=1<<s|r<<i|n,an=t}function Yp(t){t.return!==null&&(gi(t,1),Dv(t,1,0))}function Kp(t){for(;t===ku;)ku=Es[--Ss],Es[Ss]=null,Du=Es[--Ss],Es[Ss]=null;for(;t===Bi;)Bi=Kt[--qt],Kt[qt]=null,an=Kt[--qt],Kt[qt]=null,on=Kt[--qt],Kt[qt]=null}var Gt=null,Ut=null,be=!1,gr=null;function Ov(t,e){var r=Qt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function jg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Ut=jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Bi!==null?{id:on,overflow:an}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Gt=t,Ut=null,!0):!1;default:return!1}}function od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ad(t){if(be){var e=Ut;if(e){var r=e;if(!jg(t,e)){if(od(t))throw Error(L(418));e=jn(r.nextSibling);var n=Gt;e&&jg(t,e)?Ov(n,r):(t.flags=t.flags&-4097|2,be=!1,Gt=t)}}else{if(od(t))throw Error(L(418));t.flags=t.flags&-4097|2,be=!1,Gt=t}}}function Vg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function gl(t){if(t!==Gt)return!1;if(!be)return Vg(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rd(t.type,t.memoizedProps)),e&&(e=Ut)){if(od(t))throw Nv(),Error(L(418));for(;e;)Ov(t,e),e=jn(e.nextSibling)}if(Vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ut=jn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=Gt?jn(t.stateNode.nextSibling):null;return!0}function Nv(){for(var t=Ut;t;)t=jn(t.nextSibling)}function Ks(){Ut=Gt=null,be=!1}function qp(t){gr===null?gr=[t]:gr.push(t)}var IT=En.ReactCurrentBatchConfig;function To(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,t))}return t}function yl(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wg(t){var e=t._init;return e(t._payload)}function Fv(t){function e(_,y){if(t){var g=_.deletions;g===null?(_.deletions=[y],_.flags|=16):g.push(y)}}function r(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function n(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Yn(_,y),_.index=0,_.sibling=null,_}function s(_,y,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<y?(_.flags|=2,y):g):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,g,x){return y===null||y.tag!==6?(y=Ac(g,_.mode,x),y.return=_,y):(y=i(y,g),y.return=_,y)}function l(_,y,g,x){var w=g.type;return w===gs?h(_,y,g.props.children,x,g.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===An&&Wg(w)===y.type)?(x=i(y,g.props),x.ref=To(_,y,g),x.return=_,x):(x=su(g.type,g.key,g.props,null,_.mode,x),x.ref=To(_,y,g),x.return=_,x)}function u(_,y,g,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Pc(g,_.mode,x),y.return=_,y):(y=i(y,g.children||[]),y.return=_,y)}function h(_,y,g,x,w){return y===null||y.tag!==7?(y=Ii(g,_.mode,x,w),y.return=_,y):(y=i(y,g),y.return=_,y)}function f(_,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ac(""+y,_.mode,g),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ol:return g=su(y.type,y.key,y.props,null,_.mode,g),g.ref=To(_,null,y),g.return=_,g;case ms:return y=Pc(y,_.mode,g),y.return=_,y;case An:var x=y._init;return f(_,x(y._payload),g)}if(Fo(y)||vo(y))return y=Ii(y,_.mode,g,null),y.return=_,y;yl(_,y)}return null}function c(_,y,g,x){var w=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(_,y,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ol:return g.key===w?l(_,y,g,x):null;case ms:return g.key===w?u(_,y,g,x):null;case An:return w=g._init,c(_,y,w(g._payload),x)}if(Fo(g)||vo(g))return w!==null?null:h(_,y,g,x,null);yl(_,g)}return null}function d(_,y,g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(g)||null,a(y,_,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ol:return _=_.get(x.key===null?g:x.key)||null,l(y,_,x,w);case ms:return _=_.get(x.key===null?g:x.key)||null,u(y,_,x,w);case An:var T=x._init;return d(_,y,g,T(x._payload),w)}if(Fo(x)||vo(x))return _=_.get(g)||null,h(y,_,x,w,null);yl(y,x)}return null}function p(_,y,g,x){for(var w=null,T=null,E=y,S=y=0,C=null;E!==null&&S<g.length;S++){E.index>S?(C=E,E=null):C=E.sibling;var I=c(_,E,g[S],x);if(I===null){E===null&&(E=C);break}t&&E&&I.alternate===null&&e(_,E),y=s(I,y,S),T===null?w=I:T.sibling=I,T=I,E=C}if(S===g.length)return r(_,E),be&&gi(_,S),w;if(E===null){for(;S<g.length;S++)E=f(_,g[S],x),E!==null&&(y=s(E,y,S),T===null?w=E:T.sibling=E,T=E);return be&&gi(_,S),w}for(E=n(_,E);S<g.length;S++)C=d(E,_,S,g[S],x),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?S:C.key),y=s(C,y,S),T===null?w=C:T.sibling=C,T=C);return t&&E.forEach(function(k){return e(_,k)}),be&&gi(_,S),w}function m(_,y,g,x){var w=vo(g);if(typeof w!="function")throw Error(L(150));if(g=w.call(g),g==null)throw Error(L(151));for(var T=w=null,E=y,S=y=0,C=null,I=g.next();E!==null&&!I.done;S++,I=g.next()){E.index>S?(C=E,E=null):C=E.sibling;var k=c(_,E,I.value,x);if(k===null){E===null&&(E=C);break}t&&E&&k.alternate===null&&e(_,E),y=s(k,y,S),T===null?w=k:T.sibling=k,T=k,E=C}if(I.done)return r(_,E),be&&gi(_,S),w;if(E===null){for(;!I.done;S++,I=g.next())I=f(_,I.value,x),I!==null&&(y=s(I,y,S),T===null?w=I:T.sibling=I,T=I);return be&&gi(_,S),w}for(E=n(_,E);!I.done;S++,I=g.next())I=d(E,_,S,I.value,x),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?S:I.key),y=s(I,y,S),T===null?w=I:T.sibling=I,T=I);return t&&E.forEach(function(F){return e(_,F)}),be&&gi(_,S),w}function v(_,y,g,x){if(typeof g=="object"&&g!==null&&g.type===gs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ol:e:{for(var w=g.key,T=y;T!==null;){if(T.key===w){if(w=g.type,w===gs){if(T.tag===7){r(_,T.sibling),y=i(T,g.props.children),y.return=_,_=y;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===An&&Wg(w)===T.type){r(_,T.sibling),y=i(T,g.props),y.ref=To(_,T,g),y.return=_,_=y;break e}r(_,T);break}else e(_,T);T=T.sibling}g.type===gs?(y=Ii(g.props.children,_.mode,x,g.key),y.return=_,_=y):(x=su(g.type,g.key,g.props,null,_.mode,x),x.ref=To(_,y,g),x.return=_,_=x)}return o(_);case ms:e:{for(T=g.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(_,y.sibling),y=i(y,g.children||[]),y.return=_,_=y;break e}else{r(_,y);break}else e(_,y);y=y.sibling}y=Pc(g,_.mode,x),y.return=_,_=y}return o(_);case An:return T=g._init,v(_,y,T(g._payload),x)}if(Fo(g))return p(_,y,g,x);if(vo(g))return m(_,y,g,x);yl(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(_,y.sibling),y=i(y,g),y.return=_,_=y):(r(_,y),y=Ac(g,_.mode,x),y.return=_,_=y),o(_)):r(_,y)}return v}var qs=Fv(!0),Bv=Fv(!1),Ou=li(null),Nu=null,Ts=null,Qp=null;function Zp(){Qp=Ts=Nu=null}function Jp(t){var e=Ou.current;Te(Ou),t._currentValue=e}function ld(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ns(t,e){Nu=t,Qp=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(Qp!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(Nu===null)throw Error(L(308));Ts=t,Nu.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var bi=null;function em(t){bi===null?bi=[t]:bi.push(t)}function Lv(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,em(e)):(r.next=i.next,i.next=r),e.interleaved=r,gn(t,n)}function gn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pn=!1;function tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,gn(t,r)}return i=n.interleaved,i===null?(e.next=e,em(n)):(e.next=i.next,i.next=e),n.interleaved=e,gn(t,r)}function Jl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Gp(t,r)}}function Xg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fu(t,e,r,n){var i=t.updateQueue;Pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var c=a.lane,d=a.eventTime;if((n&c)===c){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(c=e,d=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(d,f,c);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,c=typeof p=="function"?p.call(d,f,c):p,c==null)break e;f=Oe({},f,c);break e;case 2:Pn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else d={eventTime:d,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=d,l=f):h=h.next=d,o|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ui|=o,t.lanes=o,t.memoizedState=f}}function Yg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(L(191,i));i.call(n)}}}var Xa={},zr=li(Xa),Sa=li(Xa),Ta=li(Xa);function Ci(t){if(t===Xa)throw Error(L(174));return t}function rm(t,e){switch(Ee(Ta,e),Ee(Sa,t),Ee(zr,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$f(e,t)}Te(zr),Ee(zr,e)}function Qs(){Te(zr),Te(Sa),Te(Ta)}function Gv(t){Ci(Ta.current);var e=Ci(zr.current),r=$f(e,t.type);e!==r&&(Ee(Sa,t),Ee(zr,r))}function nm(t){Sa.current===t&&(Te(zr),Te(Sa))}var Pe=li(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wc=[];function im(){for(var t=0;t<wc.length;t++)wc[t]._workInProgressVersionPrimary=null;wc.length=0}var eu=En.ReactCurrentDispatcher,Ec=En.ReactCurrentBatchConfig,Li=0,ke=null,Ye=null,Ze=null,Lu=!1,Jo=!1,ba=0,MT=0;function ht(){throw Error(L(321))}function sm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Cr(t[r],e[r]))return!1;return!0}function om(t,e,r,n,i,s){if(Li=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?NT:FT,t=r(n,i),Jo){s=0;do{if(Jo=!1,ba=0,25<=s)throw Error(L(301));s+=1,Ze=Ye=null,e.updateQueue=null,eu.current=BT,t=r(n,i)}while(Jo)}if(eu.current=Uu,e=Ye!==null&&Ye.next!==null,Li=0,Ze=Ye=ke=null,Lu=!1,e)throw Error(L(300));return t}function am(){var t=ba!==0;return ba=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function sr(){if(Ye===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=Ze===null?ke.memoizedState:Ze.next;if(e!==null)Ze=e,Ye=t;else{if(t===null)throw Error(L(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ca(t,e){return typeof e=="function"?e(t):e}function Sc(t){var e=sr(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=Ye,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Li&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,ke.lanes|=h,Ui|=h}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Cr(n,e.memoizedState)||(At=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,Ui|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Tc(t){var e=sr(),r=e.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cr(s,e.memoizedState)||(At=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function zv(){}function $v(t,e){var r=ke,n=sr(),i=e(),s=!Cr(n.memoizedState,i);if(s&&(n.memoizedState=i,At=!0),n=n.queue,lm(Vv.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Aa(9,jv.bind(null,r,n,i,e),void 0,null),et===null)throw Error(L(349));Li&30||Hv(r,e,i)}return i}function Hv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jv(t,e,r,n){e.value=r,e.getSnapshot=n,Wv(e)&&Xv(t)}function Vv(t,e,r){return r(function(){Wv(e)&&Xv(t)})}function Wv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cr(t,r)}catch{return!0}}function Xv(t){var e=gn(t,1);e!==null&&wr(e,t,1,-1)}function Kg(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=OT.bind(null,ke,t),[e.memoizedState,t]}function Aa(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Yv(){return sr().memoizedState}function tu(t,e,r,n){var i=Dr();ke.flags|=t,i.memoizedState=Aa(1|e,r,void 0,n===void 0?null:n)}function bh(t,e,r,n){var i=sr();n=n===void 0?null:n;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,n!==null&&sm(n,o.deps)){i.memoizedState=Aa(e,r,s,n);return}}ke.flags|=t,i.memoizedState=Aa(1|e,r,s,n)}function qg(t,e){return tu(8390656,8,t,e)}function lm(t,e){return bh(2048,8,t,e)}function Kv(t,e){return bh(4,2,t,e)}function qv(t,e){return bh(4,4,t,e)}function Qv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zv(t,e,r){return r=r!=null?r.concat([t]):null,bh(4,4,Qv.bind(null,e,t),r)}function um(){}function Jv(t,e){var r=sr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ex(t,e){var r=sr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function tx(t,e,r){return Li&21?(Cr(r,e)||(r=ov(),ke.lanes|=r,Ui|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=r)}function kT(t,e){var r=_e;_e=r!==0&&4>r?r:4,t(!0);var n=Ec.transition;Ec.transition={};try{t(!1),e()}finally{_e=r,Ec.transition=n}}function rx(){return sr().memoizedState}function DT(t,e,r){var n=Xn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nx(t))ix(e,r);else if(r=Lv(t,e,r,n),r!==null){var i=xt();wr(r,t,n,i),sx(r,e,n)}}function OT(t,e,r){var n=Xn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nx(t))ix(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Cr(a,o)){var l=e.interleaved;l===null?(i.next=i,em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Lv(t,e,i,n),r!==null&&(i=xt(),wr(r,t,n,i),sx(r,e,n))}}function nx(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function ix(t,e){Jo=Lu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Gp(t,r)}}var Uu={readContext:ir,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},NT={readContext:ir,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:qg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tu(4194308,4,Qv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var r=Dr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Dr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=DT.bind(null,ke,t),[n.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:Kg,useDebugValue:um,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=Kg(!1),e=t[0];return t=kT.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ke,i=Dr();if(be){if(r===void 0)throw Error(L(407));r=r()}else{if(r=e(),et===null)throw Error(L(349));Li&30||Hv(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,qg(Vv.bind(null,n,s,t),[t]),n.flags|=2048,Aa(9,jv.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Dr(),e=et.identifierPrefix;if(be){var r=an,n=on;r=(n&~(1<<32-xr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ba++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=MT++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FT={readContext:ir,useCallback:Jv,useContext:ir,useEffect:lm,useImperativeHandle:Zv,useInsertionEffect:Kv,useLayoutEffect:qv,useMemo:ex,useReducer:Sc,useRef:Yv,useState:function(){return Sc(Ca)},useDebugValue:um,useDeferredValue:function(t){var e=sr();return tx(e,Ye.memoizedState,t)},useTransition:function(){var t=Sc(Ca)[0],e=sr().memoizedState;return[t,e]},useMutableSource:zv,useSyncExternalStore:$v,useId:rx,unstable_isNewReconciler:!1},BT={readContext:ir,useCallback:Jv,useContext:ir,useEffect:lm,useImperativeHandle:Zv,useInsertionEffect:Kv,useLayoutEffect:qv,useMemo:ex,useReducer:Tc,useRef:Yv,useState:function(){return Tc(Ca)},useDebugValue:um,useDeferredValue:function(t){var e=sr();return Ye===null?e.memoizedState=t:tx(e,Ye.memoizedState,t)},useTransition:function(){var t=Tc(Ca)[0],e=sr().memoizedState;return[t,e]},useMutableSource:zv,useSyncExternalStore:$v,useId:rx,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ud(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Oe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ch={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xt(),i=Xn(t),s=cn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Vn(t,s,i),e!==null&&(wr(e,t,i,n),Jl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xt(),i=Xn(t),s=cn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Vn(t,s,i),e!==null&&(wr(e,t,i,n),Jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xt(),n=Xn(t),i=cn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vn(t,i,n),e!==null&&(wr(e,t,n,r),Jl(e,t,n))}};function Qg(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!va(r,n)||!va(i,s):!0}function ox(t,e,r){var n=!1,i=ei,s=e.contextType;return typeof s=="object"&&s!==null?s=ir(s):(i=Rt(e)?Fi:_t.current,n=e.contextTypes,s=(n=n!=null)?Ys(t,i):ei),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ch,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ch.enqueueReplaceState(e,e.state,null)}function hd(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},tm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ir(s):(s=Rt(e)?Fi:_t.current,i.context=Ys(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ud(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ch.enqueueReplaceState(i,i.state,null),Fu(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e){try{var r="",n=e;do r+=cS(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function cd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var LT=typeof WeakMap=="function"?WeakMap:Map;function ax(t,e,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zu||(zu=!0,wd=n),cd(t,e)},r}function lx(t,e,r){r=cn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){cd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cd(t,e),typeof n!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Jg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new LT;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=ZT.bind(null,t,e,r),e.then(t,t))}function ey(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ty(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=cn(-1,1),e.tag=2,Vn(r,e,1))),r.lanes|=1),t)}var UT=En.ReactCurrentOwner,At=!1;function vt(t,e,r,n){e.child=t===null?Bv(e,null,r,n):qs(e,t.child,r,n)}function ry(t,e,r,n,i){r=r.render;var s=e.ref;return Ns(e,i),n=om(t,e,r,n,s,i),r=am(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(be&&r&&Yp(e),e.flags|=1,vt(t,e,n,i),e.child)}function ny(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ym(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ux(t,e,s,n,i)):(t=su(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:va,r(o,n)&&t.ref===e.ref)return yn(t,e,i)}return e.flags|=1,t=Yn(s,n),t.ref=e.ref,t.return=e,e.child=t}function ux(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(va(s,n)&&t.ref===e.ref)if(At=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,yn(t,e,i)}return fd(t,e,r,n,i)}function hx(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Cs,Ft),Ft|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Cs,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ee(Cs,Ft),Ft|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ee(Cs,Ft),Ft|=n;return vt(t,e,i,r),e.child}function cx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fd(t,e,r,n,i){var s=Rt(r)?Fi:_t.current;return s=Ys(e,s),Ns(e,i),r=om(t,e,r,n,s,i),n=am(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(be&&n&&Yp(e),e.flags|=1,vt(t,e,r,i),e.child)}function iy(t,e,r,n,i){if(Rt(r)){var s=!0;Mu(e)}else s=!1;if(Ns(e,i),e.stateNode===null)ru(t,e),ox(e,r,n),hd(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Rt(r)?Fi:_t.current,u=Ys(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Zg(e,o,n,u),Pn=!1;var c=e.memoizedState;o.state=c,Fu(e,n,o,i),l=e.memoizedState,a!==n||c!==l||Pt.current||Pn?(typeof h=="function"&&(ud(e,r,h,n),l=e.memoizedState),(a=Pn||Qg(e,r,a,n,c,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Uv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dr(e.type,a),o.props=u,f=e.pendingProps,c=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=Rt(r)?Fi:_t.current,l=Ys(e,l));var d=r.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||c!==l)&&Zg(e,o,n,l),Pn=!1,c=e.memoizedState,o.state=c,Fu(e,n,o,i);var p=e.memoizedState;a!==f||c!==p||Pt.current||Pn?(typeof d=="function"&&(ud(e,r,d,n),p=e.memoizedState),(u=Pn||Qg(e,r,u,n,c,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),n=!1)}return dd(t,e,r,n,s,i)}function dd(t,e,r,n,i,s){cx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Hg(e,r,!1),yn(t,e,s);n=e.stateNode,UT.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,s),e.child=qs(e,null,a,s)):vt(t,e,a,s),e.memoizedState=n.state,i&&Hg(e,r,!0),e.child}function fx(t){var e=t.stateNode;e.pendingContext?$g(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$g(t,e.context,!1),rm(t,e.containerInfo)}function sy(t,e,r,n,i){return Ks(),qp(i),e.flags|=256,vt(t,e,r,n),e.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(t){return{baseLanes:t,cachePool:null,transitions:null}}function dx(t,e,r){var n=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(Pe,i&1),t===null)return ad(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rh(o,n,0,null),t=Ii(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=md(r),e.memoizedState=pd,t):hm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GT(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Yn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yn(a,s):(s=Ii(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?md(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=pd,n}return s=t.child,t=s.sibling,n=Yn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hm(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _l(t,e,r,n){return n!==null&&qp(n),qs(e,t.child,null,r),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GT(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=bc(Error(L(422))),_l(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Rh({mode:"visible",children:n.children},i,0,null),s=Ii(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=md(o),e.memoizedState=pd,s);if(!(e.mode&1))return _l(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(L(419)),n=bc(s,n,void 0),_l(t,e,o,n)}if(a=(o&t.childLanes)!==0,At||a){if(n=et,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gn(t,i),wr(n,t,i,-1))}return gm(),n=bc(Error(L(421))),_l(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ut=jn(i.nextSibling),Gt=e,be=!0,gr=null,t!==null&&(Kt[qt++]=on,Kt[qt++]=an,Kt[qt++]=Bi,on=t.id,an=t.overflow,Bi=e),e=hm(e,n.children),e.flags|=4096,e)}function oy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ld(t.return,e,r)}function Cc(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function px(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(vt(t,e,n.children,r),n=Pe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,e);else if(t.tag===19)oy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ee(Pe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Bu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Cc(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Cc(e,!0,r,null,s);break;case"together":Cc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,r=Yn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function zT(t,e,r){switch(e.tag){case 3:fx(e),Ks();break;case 5:Gv(e);break;case 1:Rt(e.type)&&Mu(e);break;case 4:rm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ee(Ou,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Pe,Pe.current&1),e.flags|=128,null):r&e.child.childLanes?dx(t,e,r):(Ee(Pe,Pe.current&1),t=yn(t,e,r),t!==null?t.sibling:null);Ee(Pe,Pe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return px(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Pe,Pe.current),n)break;return null;case 22:case 23:return e.lanes=0,hx(t,e,r)}return yn(t,e,r)}var mx,gd,gx,yx;mx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gd=function(){};gx=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ci(zr.current);var s=null;switch(r){case"input":i=Lf(t,i),n=Lf(t,n),s=[];break;case"select":i=Oe({},i,{value:void 0}),n=Oe({},n,{value:void 0}),s=[];break;case"textarea":i=zf(t,i),n=zf(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ru)}Hf(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yx=function(t,e,r,n){r!==n&&(e.flags|=4)};function bo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $T(t,e,r){var n=e.pendingProps;switch(Kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Rt(e.type)&&Iu(),ct(e),null;case 3:return n=e.stateNode,Qs(),Te(Pt),Te(_t),im(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(Td(gr),gr=null))),gd(t,e),ct(e),null;case 5:nm(e);var i=Ci(Ta.current);if(r=e.type,t!==null&&e.stateNode!=null)gx(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(L(166));return ct(e),null}if(t=Ci(zr.current),gl(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Br]=e,n[Ea]=s,t=(e.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(i=0;i<Lo.length;i++)Se(Lo[i],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":mg(n,s),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Se("invalid",n);break;case"textarea":yg(n,s),Se("invalid",n)}Hf(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ml(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ml(n.textContent,a,t),i=["children",""+a]):fa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",n)}switch(r){case"input":al(n),gg(n,s,!0);break;case"textarea":al(n),_g(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ru)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Br]=e,t[Ea]=n,mx(t,e,!1,!1),e.stateNode=t;e:{switch(o=jf(r,n),r){case"dialog":Se("cancel",t),Se("close",t),i=n;break;case"iframe":case"object":case"embed":Se("load",t),i=n;break;case"video":case"audio":for(i=0;i<Lo.length;i++)Se(Lo[i],t);i=n;break;case"source":Se("error",t),i=n;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=n;break;case"details":Se("toggle",t),i=n;break;case"input":mg(t,n),i=Lf(t,n),Se("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Oe({},n,{value:void 0}),Se("invalid",t);break;case"textarea":yg(t,n),i=zf(t,n),Se("invalid",t);break;default:i=n}Hf(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W0(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&da(t,l):typeof l=="number"&&da(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&Op(t,s,l,o))}switch(r){case"input":al(t),gg(t,n,!1);break;case"textarea":al(t),_g(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ms(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ms(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ru)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(L(166));if(r=Ci(Ta.current),Ci(zr.current),gl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Br]=e,(s=n.nodeValue!==r)&&(t=Gt,t!==null))switch(t.tag){case 3:ml(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ml(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Br]=e,e.stateNode=n}return ct(e),null;case 13:if(Te(Pe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Ut!==null&&e.mode&1&&!(e.flags&128))Nv(),Ks(),e.flags|=98560,s=!1;else if(s=gl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Br]=e}else Ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),s=!1}else gr!==null&&(Td(gr),gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?qe===0&&(qe=3):gm())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Qs(),gd(t,e),t===null&&xa(e.stateNode.containerInfo),ct(e),null;case 10:return Jp(e.type._context),ct(e),null;case 17:return Rt(e.type)&&Iu(),ct(e),null;case 19:if(Te(Pe),s=e.memoizedState,s===null)return ct(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)bo(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bu(t),o!==null){for(e.flags|=128,bo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ee(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Js&&(e.flags|=128,n=!0,bo(s,!1),e.lanes=4194304)}else{if(!n)if(t=Bu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return ct(e),null}else 2*ze()-s.renderingStartTime>Js&&r!==1073741824&&(e.flags|=128,n=!0,bo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,r=Pe.current,Ee(Pe,n?r&1|2:r&1),e):(ct(e),null);case 22:case 23:return mm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ft&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function HT(t,e){switch(Kp(e),e.tag){case 1:return Rt(e.type)&&Iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Te(Pt),Te(_t),im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nm(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return Qs(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return mm(),null;case 24:return null;default:return null}}var vl=!1,ft=!1,jT=typeof WeakSet=="function"?WeakSet:Set,K=null;function bs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(t,e,n)}else r.current=null}function yd(t,e,r){try{r()}catch(n){Be(t,e,n)}}var ay=!1;function VT(t,e){if(ed=Cu,t=Ev(),Xp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,c=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)c=f,f=d;for(;;){if(f===t)break t;if(c===r&&++u===i&&(a=o),c===s&&++h===n&&(l=o),(d=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(td={focusedElem:t,selectionRange:r},Cu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:dr(e.type,m),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){Be(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=ay,ay=!1,p}function ea(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yd(e,r,s)}i=i.next}while(i!==n)}}function Ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _d(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _x(t){var e=t.alternate;e!==null&&(t.alternate=null,_x(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[Ea],delete e[id],delete e[AT],delete e[PT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vx(t){return t.tag===5||t.tag===3||t.tag===4}function ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ru));else if(n!==4&&(t=t.child,t!==null))for(vd(t,e,r),t=t.sibling;t!==null;)vd(t,e,r),t=t.sibling}function xd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xd(t,e,r),t=t.sibling;t!==null;)xd(t,e,r),t=t.sibling}var nt=null,mr=!1;function bn(t,e,r){for(r=r.child;r!==null;)xx(t,e,r),r=r.sibling}function xx(t,e,r){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(vh,r)}catch{}switch(r.tag){case 5:ft||bs(r,e);case 6:var n=nt,i=mr;nt=null,bn(t,e,r),nt=n,mr=i,nt!==null&&(mr?(t=nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(mr?(t=nt,r=r.stateNode,t.nodeType===8?vc(t.parentNode,r):t.nodeType===1&&vc(t,r),ya(t)):vc(nt,r.stateNode));break;case 4:n=nt,i=mr,nt=r.stateNode.containerInfo,mr=!0,bn(t,e,r),nt=n,mr=i;break;case 0:case 11:case 14:case 15:if(!ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yd(r,e,o),i=i.next}while(i!==n)}bn(t,e,r);break;case 1:if(!ft&&(bs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Be(r,e,a)}bn(t,e,r);break;case 21:bn(t,e,r);break;case 22:r.mode&1?(ft=(n=ft)||r.memoizedState!==null,bn(t,e,r),ft=n):bn(t,e,r);break;default:bn(t,e,r)}}function uy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new jT),e.forEach(function(n){var i=eb.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ar(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,mr=!1;break e;case 3:nt=a.stateNode.containerInfo,mr=!0;break e;case 4:nt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(nt===null)throw Error(L(160));xx(s,o,i),nt=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wx(e,t),e=e.sibling}function wx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Rr(t),n&4){try{ea(3,t,t.return),Ah(3,t)}catch(m){Be(t,t.return,m)}try{ea(5,t,t.return)}catch(m){Be(t,t.return,m)}}break;case 1:ar(e,t),Rr(t),n&512&&r!==null&&bs(r,r.return);break;case 5:if(ar(e,t),Rr(t),n&512&&r!==null&&bs(r,r.return),t.flags&32){var i=t.stateNode;try{da(i,"")}catch(m){Be(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H0(i,s),jf(a,o);var u=jf(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Y0(i,f):h==="dangerouslySetInnerHTML"?W0(i,f):h==="children"?da(i,f):Op(i,h,f,u)}switch(a){case"input":Uf(i,s);break;case"textarea":j0(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ms(i,!!s.multiple,d,!1):c!==!!s.multiple&&(s.defaultValue!=null?Ms(i,!!s.multiple,s.defaultValue,!0):Ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ea]=s}catch(m){Be(t,t.return,m)}}break;case 6:if(ar(e,t),Rr(t),n&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Be(t,t.return,m)}}break;case 3:if(ar(e,t),Rr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ya(e.containerInfo)}catch(m){Be(t,t.return,m)}break;case 4:ar(e,t),Rr(t);break;case 13:ar(e,t),Rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dm=ze())),n&4&&uy(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(ft=(u=ft)||h,ar(e,t),ft=u):ar(e,t),Rr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(c=K,d=c.child,c.tag){case 0:case 11:case 14:case 15:ea(4,c,c.return);break;case 1:bs(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){n=c,r=c.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Be(n,r,m)}}break;case 5:bs(c,c.return);break;case 22:if(c.memoizedState!==null){cy(f);continue}}d!==null?(d.return=c,K=d):cy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X0("display",o))}catch(m){Be(t,t.return,m)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Be(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ar(e,t),Rr(t),n&4&&uy(t);break;case 21:break;default:ar(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vx(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(da(i,""),n.flags&=-33);var s=ly(t);xd(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ly(t);vd(t,a,o);break;default:throw Error(L(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WT(t,e,r){K=t,Ex(t)}function Ex(t,e,r){for(var n=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||vl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ft;a=vl;var u=ft;if(vl=o,(ft=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?fy(i):l!==null?(l.return=o,K=l):fy(i);for(;s!==null;)K=s,Ex(s),s=s.sibling;K=i,vl=a,ft=u}hy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):hy(t)}}function hy(t){for(;K!==null;){var e=K;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||Ah(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ft)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:dr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Yg(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Yg(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ft||e.flags&512&&_d(e)}catch(c){Be(e,e.return,c)}}if(e===t){K=null;break}if(r=e.sibling,r!==null){r.return=e.return,K=r;break}K=e.return}}function cy(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var r=e.sibling;if(r!==null){r.return=e.return,K=r;break}K=e.return}}function fy(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ah(4,e)}catch(l){Be(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Be(e,i,l)}}var s=e.return;try{_d(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{_d(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var XT=Math.ceil,Gu=En.ReactCurrentDispatcher,cm=En.ReactCurrentOwner,nr=En.ReactCurrentBatchConfig,me=0,et=null,je=null,lt=0,Ft=0,Cs=li(0),qe=0,Pa=null,Ui=0,Ph=0,fm=0,ta=null,bt=null,dm=0,Js=1/0,en=null,zu=!1,wd=null,Wn=null,xl=!1,Dn=null,$u=0,ra=0,Ed=null,nu=-1,iu=0;function xt(){return me&6?ze():nu!==-1?nu:nu=ze()}function Xn(t){return t.mode&1?me&2&&lt!==0?lt&-lt:IT.transition!==null?(iu===0&&(iu=ov()),iu):(t=_e,t!==0||(t=window.event,t=t===void 0?16:dv(t.type)),t):1}function wr(t,e,r,n){if(50<ra)throw ra=0,Ed=null,Error(L(185));ja(t,r,n),(!(me&2)||t!==et)&&(t===et&&(!(me&2)&&(Ph|=r),qe===4&&In(t,lt)),It(t,n),r===1&&me===0&&!(e.mode&1)&&(Js=ze()+500,Th&&ui()))}function It(t,e){var r=t.callbackNode;IS(t,e);var n=bu(t,t===et?lt:0);if(n===0)r!==null&&wg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wg(r),e===1)t.tag===0?RT(dy.bind(null,t)):kv(dy.bind(null,t)),bT(function(){!(me&6)&&ui()}),r=null;else{switch(av(n)){case 1:r=Up;break;case 4:r=iv;break;case 16:r=Tu;break;case 536870912:r=sv;break;default:r=Tu}r=Ix(r,Sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Sx(t,e){if(nu=-1,iu=0,me&6)throw Error(L(327));var r=t.callbackNode;if(Fs()&&t.callbackNode!==r)return null;var n=bu(t,t===et?lt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hu(t,n);else{e=n;var i=me;me|=2;var s=bx();(et!==t||lt!==e)&&(en=null,Js=ze()+500,Ri(t,e));do try{qT();break}catch(a){Tx(t,a)}while(!0);Zp(),Gu.current=s,me=i,je!==null?e=0:(et=null,lt=0,e=qe)}if(e!==0){if(e===2&&(i=Kf(t),i!==0&&(n=i,e=Sd(t,i))),e===1)throw r=Pa,Ri(t,0),In(t,n),It(t,ze()),r;if(e===6)In(t,n);else{if(i=t.current.alternate,!(n&30)&&!YT(i)&&(e=Hu(t,n),e===2&&(s=Kf(t),s!==0&&(n=s,e=Sd(t,s))),e===1))throw r=Pa,Ri(t,0),In(t,n),It(t,ze()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(L(345));case 2:yi(t,bt,en);break;case 3:if(In(t,n),(n&130023424)===n&&(e=dm+500-ze(),10<e)){if(bu(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nd(yi.bind(null,t,bt,en),e);break}yi(t,bt,en);break;case 4:if(In(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-xr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XT(n/1960))-n,10<n){t.timeoutHandle=nd(yi.bind(null,t,bt,en),n);break}yi(t,bt,en);break;case 5:yi(t,bt,en);break;default:throw Error(L(329))}}}return It(t,ze()),t.callbackNode===r?Sx.bind(null,t):null}function Sd(t,e){var r=ta;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Hu(t,e),t!==2&&(e=bt,bt=r,e!==null&&Td(e)),t}function Td(t){bt===null?bt=t:bt.push.apply(bt,t)}function YT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Cr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function In(t,e){for(e&=~fm,e&=~Ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xr(e),n=1<<r;t[r]=-1,e&=~n}}function dy(t){if(me&6)throw Error(L(327));Fs();var e=bu(t,0);if(!(e&1))return It(t,ze()),null;var r=Hu(t,e);if(t.tag!==0&&r===2){var n=Kf(t);n!==0&&(e=n,r=Sd(t,n))}if(r===1)throw r=Pa,Ri(t,0),In(t,e),It(t,ze()),r;if(r===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yi(t,bt,en),It(t,ze()),null}function pm(t,e){var r=me;me|=1;try{return t(e)}finally{me=r,me===0&&(Js=ze()+500,Th&&ui())}}function Gi(t){Dn!==null&&Dn.tag===0&&!(me&6)&&Fs();var e=me;me|=1;var r=nr.transition,n=_e;try{if(nr.transition=null,_e=1,t)return t()}finally{_e=n,nr.transition=r,me=e,!(me&6)&&ui()}}function mm(){Ft=Cs.current,Te(Cs)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,TT(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Kp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Iu();break;case 3:Qs(),Te(Pt),Te(_t),im();break;case 5:nm(n);break;case 4:Qs();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Jp(n.type._context);break;case 22:case 23:mm()}r=r.return}if(et=t,je=t=Yn(t.current,null),lt=Ft=e,qe=0,Pa=null,fm=Ph=Ui=0,bt=ta=null,bi!==null){for(e=0;e<bi.length;e++)if(r=bi[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}bi=null}return t}function Tx(t,e){do{var r=je;try{if(Zp(),eu.current=Uu,Lu){for(var n=ke.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lu=!1}if(Li=0,Ze=Ye=ke=null,Jo=!1,ba=0,cm.current=null,r===null||r.return===null){qe=1,Pa=e,je=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=ey(o);if(d!==null){d.flags&=-257,ty(d,o,a,s,e),d.mode&1&&Jg(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Jg(s,u,e),gm();break e}l=Error(L(426))}}else if(be&&a.mode&1){var v=ey(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ty(v,o,a,s,e),qp(Zs(l,a));break e}}s=l=Zs(l,a),qe!==4&&(qe=2),ta===null?ta=[s]:ta.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=ax(s,l,e);Xg(s,_);break e;case 1:a=l;var y=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wn===null||!Wn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=lx(s,a,e);Xg(s,x);break e}}s=s.return}while(s!==null)}Ax(r)}catch(w){e=w,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function bx(){var t=Gu.current;return Gu.current=Uu,t===null?Uu:t}function gm(){(qe===0||qe===3||qe===2)&&(qe=4),et===null||!(Ui&268435455)&&!(Ph&268435455)||In(et,lt)}function Hu(t,e){var r=me;me|=2;var n=bx();(et!==t||lt!==e)&&(en=null,Ri(t,e));do try{KT();break}catch(i){Tx(t,i)}while(!0);if(Zp(),me=r,Gu.current=n,je!==null)throw Error(L(261));return et=null,lt=0,qe}function KT(){for(;je!==null;)Cx(je)}function qT(){for(;je!==null&&!wS();)Cx(je)}function Cx(t){var e=Rx(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?Ax(t):je=e,cm.current=null}function Ax(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=HT(r,e),r!==null){r.flags&=32767,je=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,je=null;return}}else if(r=$T(r,e,Ft),r!==null){je=r;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);qe===0&&(qe=5)}function yi(t,e,r){var n=_e,i=nr.transition;try{nr.transition=null,_e=1,QT(t,e,r,n)}finally{nr.transition=i,_e=n}return null}function QT(t,e,r,n){do Fs();while(Dn!==null);if(me&6)throw Error(L(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(MS(t,s),t===et&&(je=et=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xl||(xl=!0,Ix(Tu,function(){return Fs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var o=_e;_e=1;var a=me;me|=4,cm.current=null,VT(t,r),wx(r,t),yT(td),Cu=!!ed,td=ed=null,t.current=r,WT(r),ES(),me=a,_e=o,nr.transition=s}else t.current=r;if(xl&&(xl=!1,Dn=t,$u=i),s=t.pendingLanes,s===0&&(Wn=null),bS(r.stateNode),It(t,ze()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,t=wd,wd=null,t;return $u&1&&t.tag!==0&&Fs(),s=t.pendingLanes,s&1?t===Ed?ra++:(ra=0,Ed=t):ra=0,ui(),null}function Fs(){if(Dn!==null){var t=av($u),e=nr.transition,r=_e;try{if(nr.transition=null,_e=16>t?16:t,Dn===null)var n=!1;else{if(t=Dn,Dn=null,$u=0,me&6)throw Error(L(331));var i=me;for(me|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:ea(8,h,s)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var c=h.sibling,d=h.return;if(_x(h),h===u){K=null;break}if(c!==null){c.return=d,K=c;break}K=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ea(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,K=_;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,K=g;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ah(9,a)}}catch(w){Be(a,a.return,w)}if(a===o){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(me=i,ui(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(vh,t)}catch{}n=!0}return n}finally{_e=r,nr.transition=e}}return!1}function py(t,e,r){e=Zs(r,e),e=ax(t,e,1),t=Vn(t,e,1),e=xt(),t!==null&&(ja(t,1,e),It(t,e))}function Be(t,e,r){if(t.tag===3)py(t,t,r);else for(;e!==null;){if(e.tag===3){py(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wn===null||!Wn.has(n))){t=Zs(r,t),t=lx(e,t,1),e=Vn(e,t,1),t=xt(),e!==null&&(ja(e,1,t),It(e,t));break}}e=e.return}}function ZT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&r,et===t&&(lt&r)===r&&(qe===4||qe===3&&(lt&130023424)===lt&&500>ze()-dm?Ri(t,0):fm|=r),It(t,e)}function Px(t,e){e===0&&(t.mode&1?(e=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):e=1);var r=xt();t=gn(t,e),t!==null&&(ja(t,e,r),It(t,r))}function JT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Px(t,r)}function eb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(e),Px(t,r)}var Rx;Rx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pt.current)At=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return At=!1,zT(t,e,r);At=!!(t.flags&131072)}else At=!1,be&&e.flags&1048576&&Dv(e,Du,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ru(t,e),t=e.pendingProps;var i=Ys(e,_t.current);Ns(e,r),i=om(null,e,n,t,i,r);var s=am();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(n)?(s=!0,Mu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tm(e),i.updater=Ch,e.stateNode=i,i._reactInternals=e,hd(e,n,t,r),e=dd(null,e,n,!0,s,r)):(e.tag=0,be&&s&&Yp(e),vt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ru(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=rb(n),t=dr(n,t),i){case 0:e=fd(null,e,n,t,r);break e;case 1:e=iy(null,e,n,t,r);break e;case 11:e=ry(null,e,n,t,r);break e;case 14:e=ny(null,e,n,dr(n.type,t),r);break e}throw Error(L(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dr(n,i),fd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dr(n,i),iy(t,e,n,i,r);case 3:e:{if(fx(e),t===null)throw Error(L(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Uv(t,e),Fu(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zs(Error(L(423)),e),e=sy(t,e,n,r,i);break e}else if(n!==i){i=Zs(Error(L(424)),e),e=sy(t,e,n,r,i);break e}else for(Ut=jn(e.stateNode.containerInfo.firstChild),Gt=e,be=!0,gr=null,r=Bv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),n===i){e=yn(t,e,r);break e}vt(t,e,n,r)}e=e.child}return e;case 5:return Gv(e),t===null&&ad(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rd(n,i)?o=null:s!==null&&rd(n,s)&&(e.flags|=32),cx(t,e),vt(t,e,o,r),e.child;case 6:return t===null&&ad(e),null;case 13:return dx(t,e,r);case 4:return rm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qs(e,null,n,r):vt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dr(n,i),ry(t,e,n,i,r);case 7:return vt(t,e,e.pendingProps,r),e.child;case 8:return vt(t,e,e.pendingProps.children,r),e.child;case 12:return vt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(Ou,n._currentValue),n._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===i.children&&!Pt.current){e=yn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=cn(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),ld(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ld(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ns(e,r),i=ir(i),n=n(i),e.flags|=1,vt(t,e,n,r),e.child;case 14:return n=e.type,i=dr(n,e.pendingProps),i=dr(n.type,i),ny(t,e,n,i,r);case 15:return ux(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dr(n,i),ru(t,e),e.tag=1,Rt(n)?(t=!0,Mu(e)):t=!1,Ns(e,r),ox(e,n,i),hd(e,n,i,r),dd(null,e,n,!0,t,r);case 19:return px(t,e,r);case 22:return hx(t,e,r)}throw Error(L(156,e.tag))};function Ix(t,e){return nv(t,e)}function tb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,r,n){return new tb(t,e,r,n)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rb(t){if(typeof t=="function")return ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fp)return 11;if(t===Bp)return 14}return 2}function Yn(t,e){var r=t.alternate;return r===null?(r=Qt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function su(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")ym(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return Ii(r.children,i,s,e);case Np:o=8,i|=8;break;case Of:return t=Qt(12,r,e,i|2),t.elementType=Of,t.lanes=s,t;case Nf:return t=Qt(13,r,e,i),t.elementType=Nf,t.lanes=s,t;case Ff:return t=Qt(19,r,e,i),t.elementType=Ff,t.lanes=s,t;case G0:return Rh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L0:o=10;break e;case U0:o=9;break e;case Fp:o=11;break e;case Bp:o=14;break e;case An:o=16,n=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Qt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ii(t,e,r,n){return t=Qt(7,t,n,e),t.lanes=r,t}function Rh(t,e,r,n){return t=Qt(22,t,n,e),t.elementType=G0,t.lanes=r,t.stateNode={isHidden:!1},t}function Ac(t,e,r){return t=Qt(6,t,null,e),t.lanes=r,t}function Pc(t,e,r){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nb(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _m(t,e,r,n,i,s,o,a,l){return t=new nb(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tm(s),t}function ib(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Mx(t){if(!t)return ei;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var r=t.type;if(Rt(r))return Mv(t,r,e)}return e}function kx(t,e,r,n,i,s,o,a,l){return t=_m(r,n,!0,t,i,s,o,a,l),t.context=Mx(null),r=t.current,n=xt(),i=Xn(r),s=cn(n,i),s.callback=e??null,Vn(r,s,i),t.current.lanes=i,ja(t,i,n),It(t,n),t}function Ih(t,e,r,n){var i=e.current,s=xt(),o=Xn(i);return r=Mx(r),e.context===null?e.context=r:e.pendingContext=r,e=cn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vn(i,e,o),t!==null&&(wr(t,i,o,s),Jl(t,i,o)),o}function ju(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function my(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vm(t,e){my(t,e),(t=t.alternate)&&my(t,e)}function sb(){return null}var Dx=typeof reportError=="function"?reportError:function(t){console.error(t)};function xm(t){this._internalRoot=t}Mh.prototype.render=xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Ih(t,e,null,null)};Mh.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){Ih(null,t,null,null)}),e[mn]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=hv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rn.length&&e!==0&&e<Rn[r].priority;r++);Rn.splice(r,0,t),r===0&&fv(t)}};function wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gy(){}function ob(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=ju(o);s.call(u)}}var o=kx(e,n,t,0,null,!1,!1,"",gy);return t._reactRootContainer=o,t[mn]=o.current,xa(t.nodeType===8?t.parentNode:t),Gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=ju(l);a.call(u)}}var l=_m(t,0,!1,null,null,!1,!1,"",gy);return t._reactRootContainer=l,t[mn]=l.current,xa(t.nodeType===8?t.parentNode:t),Gi(function(){Ih(e,l,r,n)}),l}function Dh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ju(o);a.call(l)}}Ih(e,o,t,i)}else o=ob(r,e,t,i,n);return ju(o)}lv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Bo(e.pendingLanes);r!==0&&(Gp(e,r|1),It(e,ze()),!(me&6)&&(Js=ze()+500,ui()))}break;case 13:Gi(function(){var n=gn(t,1);if(n!==null){var i=xt();wr(n,t,1,i)}}),vm(t,1)}};zp=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var r=xt();wr(e,t,134217728,r)}vm(t,134217728)}};uv=function(t){if(t.tag===13){var e=Xn(t),r=gn(t,e);if(r!==null){var n=xt();wr(r,t,e,n)}vm(t,e)}};hv=function(){return _e};cv=function(t,e){var r=_e;try{return _e=t,e()}finally{_e=r}};Wf=function(t,e,r){switch(e){case"input":if(Uf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Sh(n);if(!i)throw Error(L(90));$0(n),Uf(n,i)}}}break;case"textarea":j0(t,r);break;case"select":e=r.value,e!=null&&Ms(t,!!r.multiple,e,!1)}};Q0=pm;Z0=Gi;var ab={usingClientEntryPoint:!1,Events:[Wa,xs,Sh,K0,q0,pm]},Co={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lb={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tv(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||sb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{vh=wl.inject(lb),Gr=wl}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;Vt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(e))throw Error(L(200));return ib(t,e,null,r)};Vt.createRoot=function(t,e){if(!wm(t))throw Error(L(299));var r=!1,n="",i=Dx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_m(t,1,!1,null,null,r,!1,n,i),t[mn]=e.current,xa(t.nodeType===8?t.parentNode:t),new xm(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=tv(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return Gi(t)};Vt.hydrate=function(t,e,r){if(!kh(e))throw Error(L(200));return Dh(null,t,e,!0,r)};Vt.hydrateRoot=function(t,e,r){if(!wm(t))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Dx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=kx(e,null,t,1,r??null,i,!1,s,o),t[mn]=e.current,xa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Mh(e)};Vt.render=function(t,e,r){if(!kh(e))throw Error(L(200));return Dh(null,t,e,!1,r)};Vt.unmountComponentAtNode=function(t){if(!kh(t))throw Error(L(40));return t._reactRootContainer?(Gi(function(){Dh(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};Vt.unstable_batchedUpdates=pm;Vt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kh(r))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Dh(t,e,r,!1,n)};Vt.version="18.3.1-next-f1338f8080-20240426";function Ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ox)}catch(t){console.error(t)}}Ox(),O0.exports=Vt;var ub=O0.exports,yy=ub;kf.createRoot=yy.createRoot,kf.hydrateRoot=yy.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _y="popstate";function hb(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return bd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ra(i)}return fb(e,r,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cb(){return Math.random().toString(36).substring(2,10)}function vy(t,e){return{usr:t.state,key:t.key,idx:e}}function bd(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:r,key:e&&e.key||n||cb()}}function Ra({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function fb(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let v=h(),_=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:_})}function c(v,_){a="PUSH";let y=bd(m.location,v,_);u=h()+1;let g=vy(y,u),x=m.createHref(y);try{o.pushState(g,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}s&&l&&l({action:a,location:m.location,delta:1})}function d(v,_){a="REPLACE";let y=bd(m.location,v,_);u=h();let g=vy(y,u),x=m.createHref(y);o.replaceState(g,"",x),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){return db(v)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_y,f),l=v,()=>{i.removeEventListener(_y,f),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:c,replace:d,go(v){return o.go(v)}};return m}function db(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),De(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ra(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Nx(t,e,r="/"){return pb(t,e,r,!1)}function pb(t,e,r,n){let i=typeof e=="string"?mo(e):e,s=_n(i.pathname||"/",r);if(s==null)return null;let o=Fx(t);mb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Cb(s);a=Tb(o[l],u,n)}return a}function Fx(t,e=[],r=[],n=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=fn([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(De(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Fx(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Eb(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Bx(s.path))i(s,o,l)}),e}function Bx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Bx(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function mb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Sb(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var gb=/^:[\w-]+$/,yb=3,_b=2,vb=1,xb=10,wb=-2,xy=t=>t==="*";function Eb(t,e){let r=t.split("/"),n=r.length;return r.some(xy)&&(n+=wb),e&&(n+=_b),r.filter(i=>!xy(i)).reduce((i,s)=>i+(gb.test(s)?yb:s===""?vb:xb),n)}function Sb(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Tb(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Vu({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),c=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Vu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:fn([s,f.pathname]),pathnameBase:Ib(fn([s,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(s=fn([s,f.pathnameBase]))}return o}function Vu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=bb(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},c)=>{if(h==="*"){let p=a[c]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const d=a[c];return f&&!d?u[h]=void 0:u[h]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function bb(t,e=!1,r=!0){Vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Cb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function _n(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ab(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?mo(t):t;return{pathname:r?r.startsWith("/")?r:Pb(r,e):e,search:Mb(n),hash:kb(i)}}function Pb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rc(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rb(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Lx(t){let e=Rb(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Ux(t,e,r,n=!1){let i;typeof t=="string"?i=mo(t):(i={...t},De(!i.pathname||!i.pathname.includes("?"),Rc("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),Rc("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),Rc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}a=f>=0?e[f]:"/"}let l=Ab(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var fn=t=>t.join("/").replace(/\/\/+/g,"/"),Ib=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Db(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gx=["POST","PUT","PATCH","DELETE"];new Set(Gx);var Ob=["GET",...Gx];new Set(Ob);var go=D.createContext(null);go.displayName="DataRouter";var Oh=D.createContext(null);Oh.displayName="DataRouterState";D.createContext(!1);var zx=D.createContext({isTransitioning:!1});zx.displayName="ViewTransition";var Nb=D.createContext(new Map);Nb.displayName="Fetchers";var Fb=D.createContext(null);Fb.displayName="Await";var Yr=D.createContext(null);Yr.displayName="Navigation";var Ya=D.createContext(null);Ya.displayName="Location";var Sn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Sn.displayName="Route";var Em=D.createContext(null);Em.displayName="RouteError";function Bb(t,{relative:e}={}){De(Ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(Yr),{hash:i,pathname:s,search:o}=qa(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:fn([r,s])),n.createHref({pathname:a,search:o,hash:i})}function Ka(){return D.useContext(Ya)!=null}function Yi(){return De(Ka(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ya).location}var $x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(t){D.useContext(Yr).static||D.useLayoutEffect(t)}function Lb(){let{isDataRoute:t}=D.useContext(Sn);return t?Qb():Ub()}function Ub(){De(Ka(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(go),{basename:e,navigator:r}=D.useContext(Yr),{matches:n}=D.useContext(Sn),{pathname:i}=Yi(),s=JSON.stringify(Lx(n)),o=D.useRef(!1);return Hx(()=>{o.current=!0}),D.useCallback((l,u={})=>{if(Vr(o.current,$x),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=Ux(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:fn([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,s,i,t])}D.createContext(null);function qa(t,{relative:e}={}){let{matches:r}=D.useContext(Sn),{pathname:n}=Yi(),i=JSON.stringify(Lx(r));return D.useMemo(()=>Ux(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Gb(t,e){return jx(t,e)}function jx(t,e,r,n){var _;De(Ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(Yr),{matches:s}=D.useContext(Sn),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let y=h&&h.path||"";Vx(l,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Yi(),c;if(e){let y=typeof e=="string"?mo(e):e;De(u==="/"||((_=y.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),c=y}else c=f;let d=c.pathname||"/",p=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Nx(t,{pathname:p});Vr(h||m!=null,`No routes matched location "${c.pathname}${c.search}${c.hash}" `),Vr(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${c.pathname}${c.search}${c.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Vb(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:fn([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:fn([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&v?D.createElement(Ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...c},navigationType:"POP"}},v):v}function zb(){let t=qb(),e=Db(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,o)}var $b=D.createElement(zb,null),Hb=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Sn.Provider,{value:this.props.routeContext},D.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jb({routeContext:t,match:e,children:r}){let n=D.useContext(go);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Sn.Provider,{value:t},r)}function Vb(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);De(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:f}=r,c=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||c){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,h)=>{let f,c=!1,d=null,p=null;r&&(f=s&&u.route.id?s[u.route.id]:void 0,d=u.route.errorElement||$b,o&&(a<0&&h===0?(Vx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,p=null):a===h&&(c=!0,p=u.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,h+1)),v=()=>{let _;return f?_=d:c?_=p:u.route.Component?_=D.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,D.createElement(jb,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?D.createElement(Hb,{location:r.location,revalidation:r.revalidation,component:d,error:f,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function Sm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wb(t){let e=D.useContext(go);return De(e,Sm(t)),e}function Xb(t){let e=D.useContext(Oh);return De(e,Sm(t)),e}function Yb(t){let e=D.useContext(Sn);return De(e,Sm(t)),e}function Tm(t){let e=Yb(t),r=e.matches[e.matches.length-1];return De(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Kb(){return Tm("useRouteId")}function qb(){var n;let t=D.useContext(Em),e=Xb("useRouteError"),r=Tm("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Qb(){let{router:t}=Wb("useNavigate"),e=Tm("useNavigate"),r=D.useRef(!1);return Hx(()=>{r.current=!0}),D.useCallback(async(i,s={})=>{Vr(r.current,$x),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var wy={};function Vx(t,e,r){!e&&!wy[t]&&(wy[t]=!0,Vr(!1,r))}D.memo(Zb);function Zb({routes:t,future:e,state:r}){return jx(t,void 0,r,e)}function Uo(t){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){De(!Ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=mo(r));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:c="default"}=r,d=D.useMemo(()=>{let p=_n(l,o);return p==null?null:{location:{pathname:p,search:u,hash:h,state:f,key:c},navigationType:n}},[o,l,u,h,f,c,n]);return Vr(d!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:D.createElement(Yr.Provider,{value:a},D.createElement(Ya.Provider,{children:e,value:d}))}function eC({children:t,location:e}){return Gb(Cd(t),e)}function Cd(t,e=[]){let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let s=[...e,i];if(n.type===D.Fragment){r.push.apply(r,Cd(n.props.children,s));return}De(n.type===Uo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Cd(n.props.children,s)),r.push(o)}),r}var ou="get",au="application/x-www-form-urlencoded";function Nh(t){return t!=null&&typeof t.tagName=="string"}function tC(t){return Nh(t)&&t.tagName.toLowerCase()==="button"}function rC(t){return Nh(t)&&t.tagName.toLowerCase()==="form"}function nC(t){return Nh(t)&&t.tagName.toLowerCase()==="input"}function iC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sC(t,e){return t.button===0&&(!e||e==="_self")&&!iC(t)}var El=null;function oC(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ic(t){return t!=null&&!aC.has(t)?(Vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):t}function lC(t,e){let r,n,i,s,o;if(rC(t)){let a=t.getAttribute("action");n=a?_n(a,e):null,r=t.getAttribute("method")||ou,i=Ic(t.getAttribute("enctype"))||au,s=new FormData(t)}else if(tC(t)||nC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?_n(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||ou,i=Ic(t.getAttribute("formenctype"))||Ic(a.getAttribute("enctype"))||au,s=new FormData(a,t),!oC()){let{name:u,type:h,value:f}=t;if(h==="image"){let c=u?`${u}.`:"";s.append(`${c}x`,"0"),s.append(`${c}y`,"0")}else u&&s.append(u,f)}}else{if(Nh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ou,n=null,i=au,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uC(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&_n(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function hC(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fC(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await hC(s,r);return o.links?o.links():[]}return[]}));return gC(n.flat(1).filter(cC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ey(t,e,r,n,i,s){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var h;return r[u].pathname!==l.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var f;let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let c=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function dC(t,e,{includeHydrateFallback:r}={}){return pC(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pC(t){return[...new Set(t)]}function mC(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function gC(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(mC(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function Wx(){let t=D.useContext(go);return bm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yC(){let t=D.useContext(Oh);return bm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cm=D.createContext(void 0);Cm.displayName="FrameworkContext";function Xx(){let t=D.useContext(Cm);return bm(t,"You must render this element inside a <HydratedRouter> element"),t}function _C(t,e){let r=D.useContext(Cm),[n,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,c=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=_=>{_.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return c.current&&v.observe(c.current),()=>{v.disconnect()}}},[t]),D.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let d=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,c,{}]:[s,c,{onFocus:Ao(a,d),onBlur:Ao(l,p),onMouseEnter:Ao(u,d),onMouseLeave:Ao(h,p),onTouchStart:Ao(f,d)}]:[!1,c,{}]}function Ao(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function vC({page:t,...e}){let{router:r}=Wx(),n=D.useMemo(()=>Nx(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?D.createElement(wC,{page:t,matches:n,...e}):null}function xC(t){let{manifest:e,routeModules:r}=Xx(),[n,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return fC(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function wC({page:t,matches:e,...r}){let n=Yi(),{manifest:i,routeModules:s}=Xx(),{basename:o}=Wx(),{loaderData:a,matches:l}=yC(),u=D.useMemo(()=>Ey(t,e,l,i,n,"data"),[t,e,l,i,n]),h=D.useMemo(()=>Ey(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let p=new Set,m=!1;if(e.forEach(_=>{var g;let y=i.routes[_.route.id];!y||!y.hasLoader||(!u.some(x=>x.route.id===_.route.id)&&_.route.id in a&&((g=s[_.route.id])!=null&&g.shouldRevalidate)||y.hasClientLoader?m=!0:p.add(_.route.id))}),p.size===0)return[];let v=uC(t,o,"data");return m&&p.size>0&&v.searchParams.set("_routes",e.filter(_=>p.has(_.route.id)).map(_=>_.route.id).join(",")),[v.pathname+v.search]},[o,a,n,i,u,e,t,s]),c=D.useMemo(()=>dC(h,i),[h,i]),d=xC(h);return D.createElement(D.Fragment,null,f.map(p=>D.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),c.map(p=>D.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),d.map(({key:p,link:m})=>D.createElement("link",{key:p,...m})))}function EC(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yx&&(window.__reactRouterVersion="7.7.1")}catch{}function SC({basename:t,children:e,window:r}){let n=D.useRef();n.current==null&&(n.current=hb({window:r,v5Compat:!0}));let i=n.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(Jb,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=D.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...c},d){let{basename:p}=D.useContext(Yr),m=typeof u=="string"&&Kx.test(u),v,_=!1;if(typeof u=="string"&&m&&(v=u,Yx))try{let C=new URL(window.location.href),I=u.startsWith("//")?new URL(C.protocol+u):new URL(u),k=_n(I.pathname,p);I.origin===C.origin&&k!=null?u=k+I.search+I.hash:_=!0}catch{Vr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Bb(u,{relative:i}),[g,x,w]=_C(n,c),T=AC(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function E(C){e&&e(C),C.defaultPrevented||T(C)}let S=D.createElement("a",{...c,...w,href:v||y,onClick:_||s?e:E,ref:EC(d,x),target:l,"data-discover":!m&&r==="render"?"true":void 0});return g&&!m?D.createElement(D.Fragment,null,S,D.createElement(vC,{page:y})):S});ti.displayName="Link";var TC=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let f=qa(o,{relative:u.relative}),c=Yi(),d=D.useContext(Oh),{navigator:p,basename:m}=D.useContext(Yr),v=d!=null&&kC(f)&&a===!0,_=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=c.pathname,g=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(y=y.toLowerCase(),g=g?g.toLowerCase():null,_=_.toLowerCase()),g&&m&&(g=_n(g,m)||g);const x=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let w=y===_||!i&&y.startsWith(_)&&y.charAt(x)==="/",T=g!=null&&(g===_||!i&&g.startsWith(_)&&g.charAt(_.length)==="/"),E={isActive:w,isPending:T,isTransitioning:v},S=w?e:void 0,C;typeof n=="function"?C=n(E):C=[n,w?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(E):s;return D.createElement(ti,{...u,"aria-current":S,className:C,ref:h,style:I,to:o,viewTransition:a},typeof l=="function"?l(E):l)});TC.displayName="NavLink";var bC=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=ou,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...c},d)=>{let p=IC(),m=MC(a,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&Kx.test(a),y=g=>{if(l&&l(g),g.defaultPrevented)return;g.preventDefault();let x=g.nativeEvent.submitter,w=(x==null?void 0:x.getAttribute("formmethod"))||o;p(x||g.currentTarget,{fetcherKey:e,method:w,navigate:r,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return D.createElement("form",{ref:d,method:v,action:m,onSubmit:n?l:y,...c,"data-discover":!_&&t==="render"?"true":void 0})});bC.displayName="Form";function CC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qx(t){let e=D.useContext(go);return De(e,CC(t)),e}function AC(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Lb(),l=Yi(),u=qa(t,{relative:s});return D.useCallback(h=>{if(sC(h,e)){h.preventDefault();let f=r!==void 0?r:Ra(l)===Ra(u);a(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,r,n,e,t,i,s,o])}var PC=0,RC=()=>`__${String(++PC)}__`;function IC(){let{router:t}=qx("useSubmit"),{basename:e}=D.useContext(Yr),r=Kb();return D.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=lC(n,e);if(i.navigate===!1){let h=i.fetcherKey||RC();await t.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function MC(t,{relative:e}={}){let{basename:r}=D.useContext(Yr),n=D.useContext(Sn);De(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...qa(t||".",{relative:e})},o=Yi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:fn([r,s.pathname])),Ra(s)}function kC(t,{relative:e}={}){let r=D.useContext(zx);De(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=qx("useViewTransitionState"),i=qa(t,{relative:e});if(!r.isTransitioning)return!1;let s=_n(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=_n(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Vu(i.pathname,o)!=null||Vu(i.pathname,s)!=null}var Qx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sy=Gn.createContext&&Gn.createContext(Qx),DC=["attr","size","title"];function OC(t,e){if(t==null)return{};var r=NC(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NC(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}function Ty(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(r),!0).forEach(function(n){FC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FC(t,e,r){return e=BC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BC(t){var e=LC(t,"string");return typeof e=="symbol"?e:e+""}function LC(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zx(t){return t&&t.map((e,r)=>Gn.createElement(e.tag,Xu({key:r},e.attr),Zx(e.child)))}function UC(t){return e=>Gn.createElement(GC,Wu({attr:Xu({},t.attr)},e),Zx(t.child))}function GC(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=OC(t,DC),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Gn.createElement("svg",Wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Xu(Xu({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Gn.createElement("title",null,s),t.children)};return Sy!==void 0?Gn.createElement(Sy.Consumer,null,r=>e(r)):e(Qx)}function zC(t){return UC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m268 112 144 144-144 144m124-144H100"},child:[]}]})(t)}const $C=()=>N.jsxs("div",{className:"app-buttons",children:[N.jsxs(ti,{to:"/game",className:"app-button app-button-play ",children:[N.jsx("span",{className:"app-button-text",children:"Играть"}),N.jsx(zC,{className:"app-button-icon"})]}),N.jsx(ti,{to:"/settings",className:"app-button app-button-settings",children:N.jsx("span",{className:"app-button-text",children:"Настойки"})})]}),HC=()=>N.jsx("div",{className:"app-descr",children:N.jsxs("div",{className:"app-descr-wrapper",children:[N.jsx("h2",{className:"app-descr-title",children:"PointGem"}),N.jsx("p",{className:"app-descr-text",children:"Собирай космические кристаллы и соревнуйся с друзьями! Каждое сокровище делает тебя ближе к званию Галактического Коллекционера."}),N.jsxs("div",{className:"app-descr-block",children:[N.jsx("div",{className:"app-descr-pulse"}),N.jsx("span",{className:"app-descr-number",children:"1,247"}),N.jsx("span",{className:"app-descr-label",children:"в игре"})]})]})}),jC=()=>N.jsxs(N.Fragment,{children:[N.jsx(HC,{}),N.jsx($C,{})]});var Ki=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Ki||{}),Jx=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Jx||{}),Ad=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Ad||{}),se=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(se||{}),Ur=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Ur||{}),G=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(G||{}),Bs=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Bs||{}),ie=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ie||{}),Pd=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Pd||{}),ln=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ln||{}),Kn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Kn||{}),Wr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Wr||{}),Ar=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ar||{}),Nr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Nr||{}),Am=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Am||{}),Zt=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Zt||{}),Xe=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Xe||{}),$e=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))($e||{}),$r=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))($r||{});const VC={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},j={ADAPTER:VC,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Mc=/iPhone/i,by=/iPod/i,Cy=/iPad/i,Ay=/\biOS-universal(?:.+)Mac\b/i,kc=/\bAndroid(?:.+)Mobile\b/i,Py=/Android/i,ns=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sl=/Silk/i,Qr=/Windows Phone/i,Ry=/\bWindows(?:.+)ARM\b/i,Iy=/BlackBerry/i,My=/BB10/i,ky=/Opera Mini/i,Dy=/\b(CriOS|Chrome)(?:.+)Mobile/i,Oy=/Mobile(?:.+)Firefox\b/i,Ny=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function WC(t){return function(e){return e.test(t)}}function Fy(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=WC(r),s={apple:{phone:i(Mc)&&!i(Qr),ipod:i(by),tablet:!i(Mc)&&(i(Cy)||Ny(e))&&!i(Qr),universal:i(Ay),device:(i(Mc)||i(by)||i(Cy)||i(Ay)||Ny(e))&&!i(Qr)},amazon:{phone:i(ns),tablet:!i(ns)&&i(Sl),device:i(ns)||i(Sl)},android:{phone:!i(Qr)&&i(ns)||!i(Qr)&&i(kc),tablet:!i(Qr)&&!i(ns)&&!i(kc)&&(i(Sl)||i(Py)),device:!i(Qr)&&(i(ns)||i(Sl)||i(kc)||i(Py))||i(/\bokhttp\b/i)},windows:{phone:i(Qr),tablet:i(Ry),device:i(Qr)||i(Ry)},other:{blackberry:i(Iy),blackberry10:i(My),opera:i(ky),firefox:i(Oy),chrome:i(Dy),device:i(Iy)||i(My)||i(ky)||i(Oy)||i(Dy)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const XC=Fy.default??Fy,un=XC(globalThis.navigator);j.RETINA_PREFIX=/@([0-9\.]+)x/;j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var e1={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function s(l,u,h,f,c){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,f||l,c),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=r?r+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var c=0,d=f.length,p=new Array(d);c<d;c++)p[c]=f[c].fn;return p},a.prototype.listenerCount=function(u){var h=r?r+u:u,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,h,f,c,d,p){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],_=arguments.length,y,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,f),!0;case 4:return v.fn.call(v.context,h,f,c),!0;case 5:return v.fn.call(v.context,h,f,c,d),!0;case 6:return v.fn.call(v.context,h,f,c,d,p),!0}for(g=1,y=new Array(_-1);g<_;g++)y[g-1]=arguments[g];v.fn.apply(v.context,y)}else{var x=v.length,w;for(g=0;g<x;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,h);break;case 3:v[g].fn.call(v[g].context,h,f);break;case 4:v[g].fn.call(v[g].context,h,f,c);break;default:if(!y)for(w=1,y=new Array(_-1);w<_;w++)y[w-1]=arguments[w];v[g].fn.apply(v[g].context,y)}}return!0},a.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},a.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},a.prototype.removeListener=function(u,h,f,c){var d=r?r+u:u;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!c||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,v=[],_=p.length;m<_;m++)(p[m].fn!==h||c&&!p[m].once||f&&p[m].context!==f)&&v.push(p[m]);v.length?this._events[d]=v.length===1?v[0]:v:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(e1);var YC=e1.exports;const Qa=Ap(YC);var Pm={exports:{}};Pm.exports=Fh;Pm.exports.default=Fh;function Fh(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=t1(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,h,f,c,d;if(n&&(s=JC(t,e,s,r)),t.length>80*r){a=u=t[0],l=h=t[1];for(var p=r;p<i;p+=r)f=t[p],c=t[p+1],f<a&&(a=f),c<l&&(l=c),f>u&&(u=f),c>h&&(h=c);d=Math.max(u-a,h-l),d=d!==0?32767/d:0}return Ia(s,o,r,a,l,d,0),o}function t1(t,e,r,n,i){var s,o;if(i===Md(t,e,r,n)>0)for(s=e;s<r;s+=n)o=By(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=By(s,t[s],t[s+1],o);return o&&Bh(o,o.next)&&(ka(o),o=o.next),o}function zi(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Bh(r,r.next)||Ie(r.prev,r,r.next)===0)){if(ka(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ia(t,e,r,n,i,s,o){if(t){!o&&s&&iA(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?qC(t,n,i,s):KC(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),ka(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=QC(zi(t),e,r),Ia(t,e,r,n,i,s,2)):o===2&&ZC(t,e,r,n,i,s):Ia(zi(t),e,r,n,i,s,1);break}}}}function KC(t){var e=t.prev,r=t,n=t.next;if(Ie(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,c=i>s?i>o?i:o:s>o?s:o,d=a>l?a>u?a:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=h&&p.x<=c&&p.y>=f&&p.y<=d&&As(i,a,s,l,o,u,p.x,p.y)&&Ie(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function qC(t,e,r,n){var i=t.prev,s=t,o=t.next;if(Ie(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,h=i.y,f=s.y,c=o.y,d=a<l?a<u?a:u:l<u?l:u,p=h<f?h<c?h:c:f<c?f:c,m=a>l?a>u?a:u:l>u?l:u,v=h>f?h>c?h:c:f>c?f:c,_=Rd(d,p,e,r,n),y=Rd(m,v,e,r,n),g=t.prevZ,x=t.nextZ;g&&g.z>=_&&x&&x.z<=y;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&As(a,h,l,f,u,c,g.x,g.y)&&Ie(g.prev,g,g.next)>=0||(g=g.prevZ,x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&As(a,h,l,f,u,c,x.x,x.y)&&Ie(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;g&&g.z>=_;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=v&&g!==i&&g!==o&&As(a,h,l,f,u,c,g.x,g.y)&&Ie(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&As(a,h,l,f,u,c,x.x,x.y)&&Ie(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function QC(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Bh(i,s)&&r1(i,n,n.next,s)&&Ma(i,s)&&Ma(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),ka(n),ka(n.next),n=t=s),n=n.next}while(n!==t);return zi(n)}function ZC(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&aA(o,a)){var l=n1(o,a);o=zi(o,o.next),l=zi(l,l.next),Ia(o,e,r,n,i,s,0),Ia(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function JC(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=t1(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(oA(u));for(i.sort(eA),s=0;s<i.length;s++)r=tA(i[s],r);return r}function eA(t,e){return t.x-e.x}function tA(t,e){var r=rA(t,e);if(!r)return e;var n=n1(r,t);return zi(n,n.next),zi(r,r.next)}function rA(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,h=o.y,f=1/0,c;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&As(i<h?n:s,i,u,h,i<h?s:n,i,r.x,r.y)&&(c=Math.abs(i-r.y)/(n-r.x),Ma(r,t)&&(c<f||c===f&&(r.x>o.x||r.x===o.x&&nA(o,r)))&&(o=r,f=c)),r=r.next;while(r!==l);return o}function nA(t,e){return Ie(t.prev,t,e.prev)<0&&Ie(e.next,t,t.next)<0}function iA(t,e,r,n){var i=t;do i.z===0&&(i.z=Rd(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,sA(i)}function sA(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function Rd(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function oA(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function As(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function aA(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lA(t,e)&&(Ma(t,e)&&Ma(e,t)&&uA(t,e)&&(Ie(t.prev,t,e.prev)||Ie(t,e.prev,e))||Bh(t,e)&&Ie(t.prev,t,t.next)>0&&Ie(e.prev,e,e.next)>0)}function Ie(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Bh(t,e){return t.x===e.x&&t.y===e.y}function r1(t,e,r,n){var i=bl(Ie(t,e,r)),s=bl(Ie(t,e,n)),o=bl(Ie(r,n,t)),a=bl(Ie(r,n,e));return!!(i!==s&&o!==a||i===0&&Tl(t,r,e)||s===0&&Tl(t,n,e)||o===0&&Tl(r,t,n)||a===0&&Tl(r,e,n))}function Tl(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function bl(t){return t>0?1:t<0?-1:0}function lA(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&r1(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Ma(t,e){return Ie(t.prev,t,t.next)<0?Ie(t,e,t.next)>=0&&Ie(t,t.prev,e)>=0:Ie(t,e,t.prev)<0||Ie(t,t.next,e)<0}function uA(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function n1(t,e){var r=new Id(t.i,t.x,t.y),n=new Id(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function By(t,e,r,n){var i=new Id(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ka(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Id(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Fh.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Md(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Md(t,u,h,r))}var f=0;for(a=0;a<n.length;a+=3){var c=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;f+=Math.abs((t[c]-t[p])*(t[d+1]-t[c+1])-(t[c]-t[d])*(t[p+1]-t[c+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Md(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Fh.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var hA=Pm.exports;const cA=Ap(hA);var Yu={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Yu.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Xo=="object"&&Xo;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,h=26,f=38,c=700,d=72,p=128,m="-",v=/^xn--/,_=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,w=Math.floor,T=String.fromCharCode,E;function S(P){throw new RangeError(g[P])}function C(P,$){for(var Q=P.length,le=[];Q--;)le[Q]=$(P[Q]);return le}function I(P,$){var Q=P.split("@"),le="";Q.length>1&&(le=Q[0]+"@",P=Q[1]),P=P.replace(y,".");var oe=P.split("."),b=C(oe,$).join(".");return le+b}function k(P){for(var $=[],Q=0,le=P.length,oe,b;Q<le;)oe=P.charCodeAt(Q++),oe>=55296&&oe<=56319&&Q<le?(b=P.charCodeAt(Q++),(b&64512)==56320?$.push(((oe&1023)<<10)+(b&1023)+65536):($.push(oe),Q--)):$.push(oe);return $}function F(P){return C(P,function($){var Q="";return $>65535&&($-=65536,Q+=T($>>>10&1023|55296),$=56320|$&1023),Q+=T($),Q}).join("")}function M(P){return P-48<10?P-22:P-65<26?P-65:P-97<26?P-97:l}function R(P,$){return P+22+75*(P<26)-(($!=0)<<5)}function U(P,$,Q){var le=0;for(P=Q?w(P/c):P>>1,P+=w(P/$);P>x*h>>1;le+=l)P=w(P/x);return w(le+(x+1)*P/(P+f))}function Y(P){var $=[],Q=P.length,le,oe=0,b=p,A=d,V,W,ne,q,H,te,J,pe,Ve;for(V=P.lastIndexOf(m),V<0&&(V=0),W=0;W<V;++W)P.charCodeAt(W)>=128&&S("not-basic"),$.push(P.charCodeAt(W));for(ne=V>0?V+1:0;ne<Q;){for(q=oe,H=1,te=l;ne>=Q&&S("invalid-input"),J=M(P.charCodeAt(ne++)),(J>=l||J>w((a-oe)/H))&&S("overflow"),oe+=J*H,pe=te<=A?u:te>=A+h?h:te-A,!(J<pe);te+=l)Ve=l-pe,H>w(a/Ve)&&S("overflow"),H*=Ve;le=$.length+1,A=U(oe-q,le,q==0),w(oe/le)>a-b&&S("overflow"),b+=w(oe/le),oe%=le,$.splice(oe++,0,b)}return F($)}function B(P){var $,Q,le,oe,b,A,V,W,ne,q,H,te=[],J,pe,Ve,Pr;for(P=k(P),J=P.length,$=p,Q=0,b=d,A=0;A<J;++A)H=P[A],H<128&&te.push(T(H));for(le=oe=te.length,oe&&te.push(m);le<J;){for(V=a,A=0;A<J;++A)H=P[A],H>=$&&H<V&&(V=H);for(pe=le+1,V-$>w((a-Q)/pe)&&S("overflow"),Q+=(V-$)*pe,$=V,A=0;A<J;++A)if(H=P[A],H<$&&++Q>a&&S("overflow"),H==$){for(W=Q,ne=l;q=ne<=b?u:ne>=b+h?h:ne-b,!(W<q);ne+=l)Pr=W-q,Ve=l-q,te.push(T(R(q+Pr%Ve,0))),W=w(Pr/Ve);te.push(T(R(W,0))),b=U(Q,pe,le==oe),Q=0,++le}++Q,++$}return te.join("")}function O(P){return I(P,function($){return v.test($)?Y($.slice(4).toLowerCase()):$})}function z(P){return I(P,function($){return _.test($)?"xn--"+B($):$})}if(o={version:"1.4.1",ucs2:{decode:k,encode:F},decode:Y,encode:B,toASCII:z,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(Xo)})(Yu,Yu.exports);var fA=Yu.exports,yo=TypeError;const dA={},pA=Object.freeze(Object.defineProperty({__proto__:null,default:dA},Symbol.toStringTag,{value:"Module"})),mA=BE(pA);var Rm=typeof Map=="function"&&Map.prototype,Dc=Object.getOwnPropertyDescriptor&&Rm?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ku=Rm&&Dc&&typeof Dc.get=="function"?Dc.get:null,Ly=Rm&&Map.prototype.forEach,Im=typeof Set=="function"&&Set.prototype,Oc=Object.getOwnPropertyDescriptor&&Im?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,qu=Im&&Oc&&typeof Oc.get=="function"?Oc.get:null,Uy=Im&&Set.prototype.forEach,gA=typeof WeakMap=="function"&&WeakMap.prototype,na=gA?WeakMap.prototype.has:null,yA=typeof WeakSet=="function"&&WeakSet.prototype,ia=yA?WeakSet.prototype.has:null,_A=typeof WeakRef=="function"&&WeakRef.prototype,Gy=_A?WeakRef.prototype.deref:null,vA=Boolean.prototype.valueOf,xA=Object.prototype.toString,wA=Function.prototype.toString,EA=String.prototype.match,Mm=String.prototype.slice,On=String.prototype.replace,SA=String.prototype.toUpperCase,zy=String.prototype.toLowerCase,i1=RegExp.prototype.test,$y=Array.prototype.concat,Fr=Array.prototype.join,TA=Array.prototype.slice,Hy=Math.floor,kd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Nc=Object.getOwnPropertySymbols,Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,eo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",sa=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===eo||!0)?Symbol.toStringTag:null,s1=Object.prototype.propertyIsEnumerable,jy=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Vy(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||i1.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Hy(-t):Hy(t);if(n!==t){var i=String(n),s=Mm.call(e,i.length+1);return On.call(i,r,"$&_")+"."+On.call(On.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return On.call(e,r,"$&_")}var Od=mA,Wy=Od.custom,Xy=l1(Wy)?Wy:null,o1={__proto__:null,double:'"',single:"'"},bA={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Lh=function t(e,r,n,i){var s=r||{};if(tn(s,"quoteStyle")&&!tn(o1,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=tn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(tn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return h1(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Vy(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?Vy(e,u):u}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Nd(e)?"[Array]":"[Object]";var f=HA(s,n);if(typeof i>"u")i=[];else if(u1(i,e)>=0)return"[Circular]";function c(M,R,U){if(R&&(i=TA.call(i),i.push(R)),U){var Y={depth:s.depth};return tn(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),t(M,Y,n+1,i)}return t(M,s,n+1,i)}if(typeof e=="function"&&!Yy(e)){var d=OA(e),p=Cl(e,c);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Fr.call(p,", ")+" }":"")}if(l1(e)){var m=eo?On.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Dd.call(e);return typeof e=="object"&&!eo?Po(m):m}if(GA(e)){for(var v="<"+zy.call(String(e.nodeName)),_=e.attributes||[],y=0;y<_.length;y++)v+=" "+_[y].name+"="+a1(CA(_[y].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+zy.call(String(e.nodeName))+">",v}if(Nd(e)){if(e.length===0)return"[]";var g=Cl(e,c);return f&&!$A(g)?"["+Fd(g,f)+"]":"[ "+Fr.call(g,", ")+" ]"}if(PA(e)){var x=Cl(e,c);return!("cause"in Error.prototype)&&"cause"in e&&!s1.call(e,"cause")?"{ ["+String(e)+"] "+Fr.call($y.call("[cause]: "+c(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Fr.call(x,", ")+" }"}if(typeof e=="object"&&o){if(Xy&&typeof e[Xy]=="function"&&Od)return Od(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(NA(e)){var w=[];return Ly&&Ly.call(e,function(M,R){w.push(c(R,e,!0)+" => "+c(M,e))}),Ky("Map",Ku.call(e),w,f)}if(LA(e)){var T=[];return Uy&&Uy.call(e,function(M){T.push(c(M,e))}),Ky("Set",qu.call(e),T,f)}if(FA(e))return Fc("WeakMap");if(UA(e))return Fc("WeakSet");if(BA(e))return Fc("WeakRef");if(IA(e))return Po(c(Number(e)));if(kA(e))return Po(c(kd.call(e)));if(MA(e))return Po(vA.call(e));if(RA(e))return Po(c(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Xo<"u"&&e===Xo)return"{ [object globalThis] }";if(!AA(e)&&!Yy(e)){var E=Cl(e,c),S=jy?jy(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",I=!S&&sa&&Object(e)===e&&sa in e?Mm.call(hi(e),8,-1):C?"Object":"",k=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=k+(I||C?"["+Fr.call($y.call([],I||[],C||[]),": ")+"] ":"");return E.length===0?F+"{}":f?F+"{"+Fd(E,f)+"}":F+"{ "+Fr.call(E,", ")+" }"}return String(e)};function a1(t,e,r){var n=r.quoteStyle||e,i=o1[n];return i+t+i}function CA(t){return On.call(String(t),/"/g,"&quot;")}function qi(t){return!sa||!(typeof t=="object"&&(sa in t||typeof t[sa]<"u"))}function Nd(t){return hi(t)==="[object Array]"&&qi(t)}function AA(t){return hi(t)==="[object Date]"&&qi(t)}function Yy(t){return hi(t)==="[object RegExp]"&&qi(t)}function PA(t){return hi(t)==="[object Error]"&&qi(t)}function RA(t){return hi(t)==="[object String]"&&qi(t)}function IA(t){return hi(t)==="[object Number]"&&qi(t)}function MA(t){return hi(t)==="[object Boolean]"&&qi(t)}function l1(t){if(eo)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Dd)return!1;try{return Dd.call(t),!0}catch{}return!1}function kA(t){if(!t||typeof t!="object"||!kd)return!1;try{return kd.call(t),!0}catch{}return!1}var DA=Object.prototype.hasOwnProperty||function(t){return t in this};function tn(t,e){return DA.call(t,e)}function hi(t){return xA.call(t)}function OA(t){if(t.name)return t.name;var e=EA.call(wA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function u1(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function NA(t){if(!Ku||!t||typeof t!="object")return!1;try{Ku.call(t);try{qu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function FA(t){if(!na||!t||typeof t!="object")return!1;try{na.call(t,na);try{ia.call(t,ia)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function BA(t){if(!Gy||!t||typeof t!="object")return!1;try{return Gy.call(t),!0}catch{}return!1}function LA(t){if(!qu||!t||typeof t!="object")return!1;try{qu.call(t);try{Ku.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function UA(t){if(!ia||!t||typeof t!="object")return!1;try{ia.call(t,ia);try{na.call(t,na)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function GA(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function h1(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return h1(Mm.call(t,0,e.maxStringLength),e)+n}var i=bA[e.quoteStyle||"single"];i.lastIndex=0;var s=On.call(On.call(t,i,"\\$1"),/[\x00-\x1f]/g,zA);return a1(s,"single",e)}function zA(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+SA.call(e.toString(16))}function Po(t){return"Object("+t+")"}function Fc(t){return t+" { ? }"}function Ky(t,e,r,n){var i=n?Fd(r,n):Fr.call(r,", ");return t+" ("+e+") {"+i+"}"}function $A(t){for(var e=0;e<t.length;e++)if(u1(t[e],`
`)>=0)return!1;return!0}function HA(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Fr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Fr.call(Array(e+1),r)}}function Fd(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Fr.call(t,","+r)+`
`+e.prev}function Cl(t,e){var r=Nd(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=tn(t,i)?e(t[i],t):""}var s=typeof Nc=="function"?Nc(t):[],o;if(eo){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)tn(t,l)&&(r&&String(Number(l))===l&&l<t.length||eo&&o["$"+l]instanceof Symbol||(i1.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof Nc=="function")for(var u=0;u<s.length;u++)s1.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var jA=Lh,VA=yo,Uh=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},WA=function(t,e){if(t){var r=Uh(t,e);return r&&r.value}},XA=function(t,e,r){var n=Uh(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},YA=function(t,e){return t?!!Uh(t,e):!1},KA=function(t,e){if(t)return Uh(t,e,!0)},qA=function(){var e,r={assert:function(n){if(!r.has(n))throw new VA("Side channel does not contain "+jA(n))},delete:function(n){var i=e&&e.next,s=KA(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return WA(e,n)},has:function(n){return YA(e,n)},set:function(n,i){e||(e={next:void 0}),XA(e,n,i)}};return r},c1=Object,QA=Error,ZA=EvalError,JA=RangeError,eP=ReferenceError,tP=SyntaxError,rP=URIError,nP=Math.abs,iP=Math.floor,sP=Math.max,oP=Math.min,aP=Math.pow,lP=Math.round,uP=Number.isNaN||function(e){return e!==e},hP=uP,cP=function(e){return hP(e)||e===0?e:e<0?-1:1},fP=Object.getOwnPropertyDescriptor,lu=fP;if(lu)try{lu([],"length")}catch{lu=null}var f1=lu,uu=Object.defineProperty||!1;if(uu)try{uu({},"a",{value:1})}catch{uu=!1}var dP=uu,Bc,qy;function pP(){return qy||(qy=1,Bc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Bc}var Lc,Qy;function mP(){if(Qy)return Lc;Qy=1;var t=typeof Symbol<"u"&&Symbol,e=pP();return Lc=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Lc}var Uc,Zy;function d1(){return Zy||(Zy=1,Uc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Uc}var Gc,Jy;function p1(){if(Jy)return Gc;Jy=1;var t=c1;return Gc=t.getPrototypeOf||null,Gc}var gP="Function.prototype.bind called on incompatible ",yP=Object.prototype.toString,_P=Math.max,vP="[object Function]",e_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},xP=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},wP=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},EP=function(e){var r=this;if(typeof r!="function"||yP.apply(r)!==vP)throw new TypeError(gP+r);for(var n=xP(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,e_(n,arguments));return Object(h)===h?h:this}return r.apply(e,e_(n,arguments))},o=_P(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+wP(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},SP=EP,Gh=Function.prototype.bind||SP,km=Function.prototype.call,zc,t_;function m1(){return t_||(t_=1,zc=Function.prototype.apply),zc}var TP=typeof Reflect<"u"&&Reflect&&Reflect.apply,bP=Gh,CP=m1(),AP=km,PP=TP,RP=PP||bP.call(AP,CP),IP=Gh,MP=yo,kP=km,DP=RP,g1=function(e){if(e.length<1||typeof e[0]!="function")throw new MP("a function is required");return DP(IP,kP,e)},$c,r_;function OP(){if(r_)return $c;r_=1;var t=g1,e=f1,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return $c=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,$c}var Hc,n_;function NP(){if(n_)return Hc;n_=1;var t=d1(),e=p1(),r=OP();return Hc=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,Hc}var jc,i_;function FP(){if(i_)return jc;i_=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Gh;return jc=r.call(t,e),jc}var he,BP=c1,LP=QA,UP=ZA,GP=JA,zP=eP,to=tP,Ls=yo,$P=rP,HP=nP,jP=iP,VP=sP,WP=oP,XP=aP,YP=lP,KP=cP,y1=Function,Vc=function(t){try{return y1('"use strict"; return ('+t+").constructor;")()}catch{}},Da=f1,qP=dP,Wc=function(){throw new Ls},QP=Da?function(){try{return arguments.callee,Wc}catch{try{return Da(arguments,"callee").get}catch{return Wc}}}():Wc,is=mP()(),Qe=NP(),ZP=p1(),JP=d1(),_1=m1(),Za=km,us={},eR=typeof Uint8Array>"u"||!Qe?he:Qe(Uint8Array),Mi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?he:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?he:ArrayBuffer,"%ArrayIteratorPrototype%":is&&Qe?Qe([][Symbol.iterator]()):he,"%AsyncFromSyncIteratorPrototype%":he,"%AsyncFunction%":us,"%AsyncGenerator%":us,"%AsyncGeneratorFunction%":us,"%AsyncIteratorPrototype%":us,"%Atomics%":typeof Atomics>"u"?he:Atomics,"%BigInt%":typeof BigInt>"u"?he:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?he:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?he:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?he:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":LP,"%eval%":eval,"%EvalError%":UP,"%Float16Array%":typeof Float16Array>"u"?he:Float16Array,"%Float32Array%":typeof Float32Array>"u"?he:Float32Array,"%Float64Array%":typeof Float64Array>"u"?he:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?he:FinalizationRegistry,"%Function%":y1,"%GeneratorFunction%":us,"%Int8Array%":typeof Int8Array>"u"?he:Int8Array,"%Int16Array%":typeof Int16Array>"u"?he:Int16Array,"%Int32Array%":typeof Int32Array>"u"?he:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":is&&Qe?Qe(Qe([][Symbol.iterator]())):he,"%JSON%":typeof JSON=="object"?JSON:he,"%Map%":typeof Map>"u"?he:Map,"%MapIteratorPrototype%":typeof Map>"u"||!is||!Qe?he:Qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":BP,"%Object.getOwnPropertyDescriptor%":Da,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?he:Promise,"%Proxy%":typeof Proxy>"u"?he:Proxy,"%RangeError%":GP,"%ReferenceError%":zP,"%Reflect%":typeof Reflect>"u"?he:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?he:Set,"%SetIteratorPrototype%":typeof Set>"u"||!is||!Qe?he:Qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?he:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":is&&Qe?Qe(""[Symbol.iterator]()):he,"%Symbol%":is?Symbol:he,"%SyntaxError%":to,"%ThrowTypeError%":QP,"%TypedArray%":eR,"%TypeError%":Ls,"%Uint8Array%":typeof Uint8Array>"u"?he:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?he:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?he:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?he:Uint32Array,"%URIError%":$P,"%WeakMap%":typeof WeakMap>"u"?he:WeakMap,"%WeakRef%":typeof WeakRef>"u"?he:WeakRef,"%WeakSet%":typeof WeakSet>"u"?he:WeakSet,"%Function.prototype.call%":Za,"%Function.prototype.apply%":_1,"%Object.defineProperty%":qP,"%Object.getPrototypeOf%":ZP,"%Math.abs%":HP,"%Math.floor%":jP,"%Math.max%":VP,"%Math.min%":WP,"%Math.pow%":XP,"%Math.round%":YP,"%Math.sign%":KP,"%Reflect.getPrototypeOf%":JP};if(Qe)try{null.error}catch(t){var tR=Qe(Qe(t));Mi["%Error.prototype%"]=tR}var rR=function t(e){var r;if(e==="%AsyncFunction%")r=Vc("async function () {}");else if(e==="%GeneratorFunction%")r=Vc("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Vc("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Qe&&(r=Qe(i.prototype))}return Mi[e]=r,r},s_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ja=Gh,Qu=FP(),nR=Ja.call(Za,Array.prototype.concat),iR=Ja.call(_1,Array.prototype.splice),o_=Ja.call(Za,String.prototype.replace),Zu=Ja.call(Za,String.prototype.slice),sR=Ja.call(Za,RegExp.prototype.exec),oR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,aR=/\\(\\)?/g,lR=function(e){var r=Zu(e,0,1),n=Zu(e,-1);if(r==="%"&&n!=="%")throw new to("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new to("invalid intrinsic syntax, expected opening `%`");var i=[];return o_(e,oR,function(s,o,a,l){i[i.length]=a?o_(l,aR,"$1"):o||s}),i},uR=function(e,r){var n=e,i;if(Qu(s_,n)&&(i=s_[n],n="%"+i[0]+"%"),Qu(Mi,n)){var s=Mi[n];if(s===us&&(s=rR(n)),typeof s>"u"&&!r)throw new Ls("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new to("intrinsic "+e+" does not exist!")},Dm=function(e,r){if(typeof e!="string"||e.length===0)throw new Ls("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ls('"allowMissing" argument must be a boolean');if(sR(/^%?[^%]*%?$/,e)===null)throw new to("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=lR(e),i=n.length>0?n[0]:"",s=uR("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],iR(n,nR([0,1],u)));for(var h=1,f=!0;h<n.length;h+=1){var c=n[h],d=Zu(c,0,1),p=Zu(c,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new to("property names with quotes must have matching quotes");if((c==="constructor"||!f)&&(l=!0),i+="."+c,o="%"+i+"%",Qu(Mi,o))a=Mi[o];else if(a!=null){if(!(c in a)){if(!r)throw new Ls("base intrinsic for "+e+" exists, but the property is not available.");return}if(Da&&h+1>=n.length){var m=Da(a,c);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[c]}else f=Qu(a,c),a=a[c];f&&!l&&(Mi[o]=a)}}return a},v1=Dm,x1=g1,hR=x1([v1("%String.prototype.indexOf%")]),w1=function(e,r){var n=v1(e,!!r);return typeof n=="function"&&hR(e,".prototype.")>-1?x1([n]):n},cR=Dm,el=w1,fR=Lh,dR=yo,a_=cR("%Map%",!0),pR=el("Map.prototype.get",!0),mR=el("Map.prototype.set",!0),gR=el("Map.prototype.has",!0),yR=el("Map.prototype.delete",!0),_R=el("Map.prototype.size",!0),E1=!!a_&&function(){var e,r={assert:function(n){if(!r.has(n))throw new dR("Side channel does not contain "+fR(n))},delete:function(n){if(e){var i=yR(e,n);return _R(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return pR(e,n)},has:function(n){return e?gR(e,n):!1},set:function(n,i){e||(e=new a_),mR(e,n,i)}};return r},vR=Dm,zh=w1,xR=Lh,Al=E1,wR=yo,ss=vR("%WeakMap%",!0),ER=zh("WeakMap.prototype.get",!0),SR=zh("WeakMap.prototype.set",!0),TR=zh("WeakMap.prototype.has",!0),bR=zh("WeakMap.prototype.delete",!0),CR=ss?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new wR("Side channel does not contain "+xR(i))},delete:function(i){if(ss&&i&&(typeof i=="object"||typeof i=="function")){if(e)return bR(e,i)}else if(Al&&r)return r.delete(i);return!1},get:function(i){return ss&&i&&(typeof i=="object"||typeof i=="function")&&e?ER(e,i):r&&r.get(i)},has:function(i){return ss&&i&&(typeof i=="object"||typeof i=="function")&&e?TR(e,i):!!r&&r.has(i)},set:function(i,s){ss&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new ss),SR(e,i,s)):Al&&(r||(r=Al()),r.set(i,s))}};return n}:Al,AR=yo,PR=Lh,RR=qA,IR=E1,MR=CR,kR=MR||IR||RR,DR=function(){var e,r={assert:function(n){if(!r.has(n))throw new AR("Side channel does not contain "+PR(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=kR()),e.set(n,i)}};return r},OR=String.prototype.replace,NR=/%20/g,Xc={RFC1738:"RFC1738",RFC3986:"RFC3986"},Om={default:Xc.RFC3986,formatters:{RFC1738:function(t){return OR.call(t,NR,"+")},RFC3986:function(t){return String(t)}},RFC1738:Xc.RFC1738,RFC3986:Xc.RFC3986},FR=Om,Yc=Object.prototype.hasOwnProperty,Si=Array.isArray,Ir=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),BR=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Si(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},S1=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},LR=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Si(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Yc.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Si(e)&&!Si(r)&&(i=S1(e,n)),Si(e)&&Si(r)?(r.forEach(function(s,o){if(Yc.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Yc.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},UR=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},GR=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Kc=1024,zR=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=Kc){for(var u=o.length>=Kc?o.slice(l,l+Kc):o,h=[],f=0;f<u.length;++f){var c=u.charCodeAt(f);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===FR.RFC1738&&(c===40||c===41)){h[h.length]=u.charAt(f);continue}if(c<128){h[h.length]=Ir[c];continue}if(c<2048){h[h.length]=Ir[192|c>>6]+Ir[128|c&63];continue}if(c<55296||c>=57344){h[h.length]=Ir[224|c>>12]+Ir[128|c>>6&63]+Ir[128|c&63];continue}f+=1,c=65536+((c&1023)<<10|u.charCodeAt(f)&1023),h[h.length]=Ir[240|c>>18]+Ir[128|c>>12&63]+Ir[128|c>>6&63]+Ir[128|c&63]}a+=h.join("")}return a},$R=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return BR(r),e},HR=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},jR=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},VR=function(e,r){return[].concat(e,r)},WR=function(e,r){if(Si(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},T1={arrayToObject:S1,assign:UR,combine:VR,compact:$R,decode:GR,encode:zR,isBuffer:jR,isRegExp:HR,maybeMap:WR,merge:LR},b1=DR,hu=T1,oa=Om,XR=Object.prototype.hasOwnProperty,C1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Or=Array.isArray,YR=Array.prototype.push,A1=function(t,e){YR.apply(t,Or(e)?e:[e])},KR=Date.prototype.toISOString,l_=oa.default,We={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hu.encode,encodeValuesOnly:!1,filter:void 0,format:l_,formatter:oa.formatters[l_],indices:!1,serializeDate:function(e){return KR.call(e)},skipNulls:!1,strictNullHandling:!1},qR=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},qc={},QR=function t(e,r,n,i,s,o,a,l,u,h,f,c,d,p,m,v,_,y){for(var g=e,x=y,w=0,T=!1;(x=x.get(qc))!==void 0&&!T;){var E=x.get(e);if(w+=1,typeof E<"u"){if(E===w)throw new RangeError("Cyclic object value");T=!0}typeof x.get(qc)>"u"&&(w=0)}if(typeof h=="function"?g=h(r,g):g instanceof Date?g=d(g):n==="comma"&&Or(g)&&(g=hu.maybeMap(g,function(P){return P instanceof Date?d(P):P})),g===null){if(o)return u&&!v?u(r,We.encoder,_,"key",p):r;g=""}if(qR(g)||hu.isBuffer(g)){if(u){var S=v?r:u(r,We.encoder,_,"key",p);return[m(S)+"="+m(u(g,We.encoder,_,"value",p))]}return[m(r)+"="+m(String(g))]}var C=[];if(typeof g>"u")return C;var I;if(n==="comma"&&Or(g))v&&u&&(g=hu.maybeMap(g,u)),I=[{value:g.length>0?g.join(",")||null:void 0}];else if(Or(h))I=h;else{var k=Object.keys(g);I=f?k.sort(f):k}var F=l?String(r).replace(/\./g,"%2E"):String(r),M=i&&Or(g)&&g.length===1?F+"[]":F;if(s&&Or(g)&&g.length===0)return M+"[]";for(var R=0;R<I.length;++R){var U=I[R],Y=typeof U=="object"&&U&&typeof U.value<"u"?U.value:g[U];if(!(a&&Y===null)){var B=c&&l?String(U).replace(/\./g,"%2E"):String(U),O=Or(g)?typeof n=="function"?n(M,B):M:M+(c?"."+B:"["+B+"]");y.set(e,w);var z=b1();z.set(qc,y),A1(C,t(Y,O,n,i,s,o,a,l,n==="comma"&&v&&Or(g)?null:u,h,f,c,d,p,m,v,_,z))}}return C},ZR=function(e){if(!e)return We;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||We.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=oa.default;if(typeof e.format<"u"){if(!XR.call(oa.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=oa.formatters[n],s=We.filter;(typeof e.filter=="function"||Or(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in C1?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=We.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:We.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:We.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:We.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:We.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?We.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:We.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:We.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:We.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:We.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:We.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:We.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:We.strictNullHandling}},JR=function(t,e){var r=t,n=ZR(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Or(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=C1[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=b1(),h=0;h<i.length;++h){var f=i[h],c=r[f];n.skipNulls&&c===null||A1(o,QR(c,f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},$i=T1,Bd=Object.prototype.hasOwnProperty,u_=Array.isArray,Fe={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:$i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},eI=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},P1=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},tI="utf8=%26%2310003%3B",rI="utf8=%E2%9C%93",nI=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===rI?u="utf-8":o[l]===tI&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],f=h.indexOf("]="),c=f===-1?h.indexOf("="):f+1,d,p;c===-1?(d=r.decoder(h,Fe.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,c),Fe.decoder,u,"key"),p=$i.maybeMap(P1(h.slice(c+1),r,u_(n[d])?n[d].length:0),function(v){return r.decoder(v,Fe.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=eI(String(p))),h.indexOf("[]=")>-1&&(p=u_(p)?[p]:p);var m=Bd.call(n,d);m&&r.duplicates==="combine"?n[d]=$i.combine(n[d],p):(!m||r.duplicates==="last")&&(n[d]=p)}return n},iI=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:P1(e,r,i),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:$i.combine([],o);else{l=r.plainObjects?{__proto__:null}:{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,c=parseInt(f,10);!r.parseArrays&&f===""?l={0:o}:!isNaN(c)&&u!==f&&String(c)===f&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(l=[],l[c]=o):f!=="__proto__"&&(l[f]=o)}o=l}return o},sI=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,h=[];if(u){if(!n.plainObjects&&Bd.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var f=0;n.depth>0&&(l=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&Bd.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+s.slice(l.index)+"]")}return iI(h,r,n,i)}},oI=function(e){if(!e)return Fe;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Fe.charset:e.charset,n=typeof e.duplicates>"u"?Fe.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Fe.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Fe.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Fe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Fe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Fe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Fe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Fe.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Fe.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Fe.decoder,delimiter:typeof e.delimiter=="string"||$i.isRegExp(e.delimiter)?e.delimiter:Fe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Fe.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Fe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Fe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Fe.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Fe.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Fe.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},aI=function(t,e){var r=oI(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?nI(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=sI(a,n[a],r,typeof t=="string");i=$i.merge(i,l,r)}return r.allowSparse===!0?i:$i.compact(i)},lI=JR,uI=aI,hI=Om,cI={formats:hI,parse:uI,stringify:lI},fI=fA;function Er(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var dI=/^([a-z0-9.+-]+:)/i,pI=/:[0-9]*$/,mI=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,gI=["<",">",'"',"`"," ","\r",`
`,"	"],yI=["{","}","|","\\","^","`"].concat(gI),Ld=["'"].concat(yI),h_=["%","/","?",";","#"].concat(Ld),c_=["/","?","#"],_I=255,f_=/^[+a-z0-9A-Z_-]{0,63}$/,vI=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xI={javascript:!0,"javascript:":!0},Ud={javascript:!0,"javascript:":!0},Us={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Gd=cI;function $h(t,e,r){if(t&&typeof t=="object"&&t instanceof Er)return t;var n=new Er;return n.parse(t,e,r),n}Er.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=mI.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Gd.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=dI.exec(a);if(u){u=u[0];var h=u.toLowerCase();this.protocol=h,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&Ud[u])&&(a=a.substr(2),this.slashes=!0)}if(!Ud[u]&&(f||u&&!Us[u])){for(var c=-1,d=0;d<c_.length;d++){var p=a.indexOf(c_[d]);p!==-1&&(c===-1||p<c)&&(c=p)}var m,v;c===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",c),v!==-1&&(m=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(m)),c=-1;for(var d=0;d<h_.length;d++){var p=a.indexOf(h_[d]);p!==-1&&(c===-1||p<c)&&(c=p)}c===-1&&(c=a.length),this.host=a.slice(0,c),a=a.slice(c),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var y=this.hostname.split(/\./),d=0,g=y.length;d<g;d++){var x=y[d];if(x&&!x.match(f_)){for(var w="",T=0,E=x.length;T<E;T++)x.charCodeAt(T)>127?w+="x":w+=x[T];if(!w.match(f_)){var S=y.slice(0,d),C=y.slice(d+1),I=x.match(vI);I&&(S.push(I[1]),C.unshift(I[2])),C.length&&(a="/"+C.join(".")+a),this.hostname=S.join(".");break}}}this.hostname.length>_I?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=fI.toASCII(this.hostname));var k=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+k,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!xI[h])for(var d=0,g=Ld.length;d<g;d++){var M=Ld[d];if(a.indexOf(M)!==-1){var R=encodeURIComponent(M);R===M&&(R=escape(M)),a=a.split(M).join(R)}}var U=a.indexOf("#");U!==-1&&(this.hash=a.substr(U),a=a.slice(0,U));var Y=a.indexOf("?");if(Y!==-1?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=Gd.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Us[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var k=this.pathname||"",B=this.search||"";this.path=k+B}return this.href=this.format(),this};function wI(t){return typeof t=="string"&&(t=$h(t)),t instanceof Er?t.format():Er.prototype.format.call(t)}Er.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Gd.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Us[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function EI(t,e){return $h(t,!1,!0).resolve(e)}Er.prototype.resolve=function(t){return this.resolveObject($h(t,!1,!0)).format()};Er.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Er;e.parse(t,!1,!0),t=e}for(var r=new Er,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Us[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Us[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var f=u[h];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Ud[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var c=r.pathname||"",d=r.search||"";r.path=c+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=m||p||r.host&&t.pathname,_=v,y=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Us[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),v=v&&(g[0]===""||y[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=g;else if(g.length)y||(y=[]),y.pop(),y=y.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=y.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=y.slice(-1)[0],E=(r.host||t.host||y.length>1)&&(T==="."||T==="..")||T==="",S=0,C=y.length;C>=0;C--)T=y[C],T==="."?y.splice(C,1):T===".."?(y.splice(C,1),S++):S&&(y.splice(C,1),S--);if(!v&&!_)for(;S--;S)y.unshift("..");v&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),E&&y.join("/").substr(-1)!=="/"&&y.push("");var I=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){r.hostname=I?"":y.length?y.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return v=v||r.host&&y.length,v&&!I&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Er.prototype.parseHost=function(){var t=this.host,e=pI.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var SI=$h,TI=EI,bI=wI;const CI={parse:SI,format:bI,resolve:TI};function lr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ro(t){return t.split("?")[0].split("#")[0]}function AI(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function PI(t,e,r){return t.replace(new RegExp(AI(e),"g"),r)}function RI(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const mt={toPosix(t){return PI(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){lr(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Ro(this.toPosix(e??j.ADAPTER.getBaseUrl())),i=Ro(this.toPosix(r??this.rootname(n)));return lr(t),t=this.toPosix(t),t.startsWith("/")?mt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),lr(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=RI(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return lr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(lr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(lr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){lr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){lr(t),e&&lr(e),t=Ro(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){lr(t),t=Ro(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){lr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ro(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,h=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},d_={};function fe(t,e,r=3){if(d_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),d_[e]=!0}let Qc;function R1(){return typeof Qc>"u"&&(Qc=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!j.ADAPTER.getWebGLRenderingContext())return!1;const n=j.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Qc}var II={grad:.9,turn:360,rad:360/(2*Math.PI)},Zr=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Je=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Jt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},I1=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},p_=function(t){return{r:Jt(t.r,0,255),g:Jt(t.g,0,255),b:Jt(t.b,0,255),a:Jt(t.a)}},Zc=function(t){return{r:Je(t.r),g:Je(t.g),b:Je(t.b),a:Je(t.a,3)}},MI=/^#([0-9a-f]{3,8})$/i,Pl=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},M1=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},k1=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},m_=function(t){return{h:I1(t.h),s:Jt(t.s,0,100),l:Jt(t.l,0,100),a:Jt(t.a)}},g_=function(t){return{h:Je(t.h),s:Je(t.s),l:Je(t.l),a:Je(t.a,3)}},y_=function(t){return k1((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},aa=function(t){return{h:(e=M1(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},kI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,DI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,NI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zd={string:[[function(t){var e=MI.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Je(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Je(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=OI.exec(t)||NI.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:p_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=kI.exec(t)||DI.exec(t);if(!e)return null;var r,n,i=m_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(II[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return y_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Zr(e)&&Zr(r)&&Zr(n)?p_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Zr(e)||!Zr(r)||!Zr(n))return null;var o=m_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return y_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Zr(e)||!Zr(r)||!Zr(n))return null;var o=function(a){return{h:I1(a.h),s:Jt(a.s,0,100),v:Jt(a.v,0,100),a:Jt(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return k1(o)},"hsv"]]},__=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},FI=function(t){return typeof t=="string"?__(t.trim(),zd.string):typeof t=="object"&&t!==null?__(t,zd.object):[null,void 0]},Jc=function(t,e){var r=aa(t);return{h:r.h,s:Jt(r.s+100*e,0,100),l:r.l,a:r.a}},ef=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},v_=function(t,e){var r=aa(t);return{h:r.h,s:r.s,l:Jt(r.l+100*e,0,100),a:r.a}},$d=function(){function t(e){this.parsed=FI(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Je(ef(this.rgba),2)},t.prototype.isDark=function(){return ef(this.rgba)<.5},t.prototype.isLight=function(){return ef(this.rgba)>=.5},t.prototype.toHex=function(){return e=Zc(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Pl(Je(255*s)):"","#"+Pl(r)+Pl(n)+Pl(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Zc(this.rgba)},t.prototype.toRgbString=function(){return e=Zc(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return g_(aa(this.rgba))},t.prototype.toHslString=function(){return e=g_(aa(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=M1(this.rgba),{h:Je(e.h),s:Je(e.s),v:Je(e.v),a:Je(e.a,3)};var e},t.prototype.invert=function(){return Mr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Mr(Jc(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Mr(Jc(this.rgba,-e))},t.prototype.grayscale=function(){return Mr(Jc(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Mr(v_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Mr(v_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Mr({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Je(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=aa(this.rgba);return typeof e=="number"?Mr({h:e,s:r.s,l:r.l,a:r.a}):Je(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Mr(e).toHex()},t}(),Mr=function(t){return t instanceof $d?t:new $d(t)},x_=[],BI=function(t){t.forEach(function(e){x_.indexOf(e)<0&&(e($d,zd),x_.push(e))})};function LI(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var h=this.toRgb(),f=1/0,c="black";if(!s.length)for(var d in r)s[d]=new t(r[d]).toRgb();for(var p in r){var m=(a=h,l=s[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<f&&(f=m,c=p)}return c}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}BI([LI]);const Gs=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Gs)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=Gs.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=Gs.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Mr(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let ve=Gs;ve.shared=new Gs;ve.temp=new Gs;ve.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function UI(t){return fe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ve.shared.setValue(t).toHex()}function GI(t){return fe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ve.shared.setValue(t).toNumber()}function zI(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[se.NORMAL_NPM]=se.NORMAL,t[se.ADD_NPM]=se.ADD,t[se.SCREEN_NPM]=se.SCREEN,e[se.NORMAL]=se.NORMAL_NPM,e[se.ADD]=se.ADD_NPM,e[se.SCREEN]=se.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const D1=zI();function O1(t,e){return D1[e?1:0][t]}function $I(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function N1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Ju(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function w_(t){return!(t&t-1)&&!!t}function E_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function zs(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Nn(t){return t===0?0:t<0?-1:1}let HI=0;function Hi(){return++HI}const F1=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Hd=F1;Hd.EMPTY=new F1(0,0,0,0);const S_={},kr=Object.create(null),Cn=Object.create(null);class jI{constructor(e,r,n){this._canvas=j.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function T_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function b_(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function VI(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,u=r-1;for(;a<r&&T_(s,e,a);)++a;if(a===r)return Hd.EMPTY;for(;T_(s,e,u);)--u;for(;b_(s,e,o,a,u);)++o;for(;b_(s,e,l,a,u);)--l;return++l,++u,new Hd(o,a,l,u)}function WI(t){const e=VI(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Rl;function XI(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Rl||(Rl=document.createElement("a")),Rl.href=t;const r=CI.parse(Rl.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function ri(t,e=1){var n;const r=(n=j.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var X=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(X||{});const jd=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},C_=(t,e)=>jd(t).priority??e,re={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(jd).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(jd).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>C_(s,r)-C_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Vd{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const YI=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function KI(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function qI(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=YI.replace(/%forloop%/gi,KI(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const tf=0,rf=1,nf=2,sf=3,of=4,af=5;class Tn{constructor(){this.data=0,this.blendMode=se.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<tf)}set blend(e){!!(this.data&1<<tf)!==e&&(this.data^=1<<tf)}get offsets(){return!!(this.data&1<<rf)}set offsets(e){!!(this.data&1<<rf)!==e&&(this.data^=1<<rf)}get culling(){return!!(this.data&1<<nf)}set culling(e){!!(this.data&1<<nf)!==e&&(this.data^=1<<nf)}get depthTest(){return!!(this.data&1<<sf)}set depthTest(e){!!(this.data&1<<sf)!==e&&(this.data^=1<<sf)}get depthMask(){return!!(this.data&1<<af)}set depthMask(e){!!(this.data&1<<af)!==e&&(this.data^=1<<af)}get clockwiseFrontFace(){return!!(this.data&1<<of)}set clockwiseFrontFace(e){!!(this.data&1<<of)!==e&&(this.data^=1<<of)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==se.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Tn;return e.depthTest=!1,e.blend=!0,e}}const Wd=[];function B1(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Wd.length-1;n>=0;--n){const i=Wd[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Sr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:h}=this;this._aliasCount++;for(let f=0,c=h.length;f<c;f++)h[f][u](e,r,n,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Sr.prototype,{dispatch:{value:Sr.prototype.emit},run:{value:Sr.prototype.emit}});class Oa{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Sr("setRealSize"),this.onUpdate=new Sr("update"),this.onError=new Sr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class tl extends Oa{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ar.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const QI={scaleMode:ln.NEAREST,format:G.RGBA,alphaMode:Ar.NPM},hs=class extends Qa{constructor(t=null,e=null){super(),e=Object.assign({},hs.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:h,target:f,resolution:c,resourceOptions:d}=e;t&&!(t instanceof Oa)&&(t=B1(t,d),t.internal=!0),this.resolution=c||j.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=h,this.target=f,this.alphaMode=r,this.uid=Hi(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=w_(this.realWidth)&&w_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Cn[this.cacheId],delete kr[this.cacheId],this.cacheId=null),this.dispose(),hs.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=j.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Hi()}`}i=t._pixiId}let s=Cn[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new hs(t,e),s.cacheId=i,hs.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new tl(t,{width:e,height:r}),s=t instanceof Float32Array?ie.FLOAT:ie.UNSIGNED_BYTE;return new hs(i,Object.assign({},QI,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Cn[e]&&Cn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Cn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Cn[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Cn[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Cn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ae=hs;ae.defaultOptions={mipmap:Wr.POW2,anisotropicLevel:0,scaleMode:ln.LINEAR,wrapMode:Kn.CLAMP,alphaMode:Ar.UNPACK,target:Bs.TEXTURE_2D,format:G.RGBA,type:ie.UNSIGNED_BYTE};ae._globalBatch=0;class Xd{constructor(){this.texArray=null,this.blend=0,this.type=Ur.TRIANGLES,this.start=0,this.size=0,this.data=null}}let ZI=0;class Ge{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=ZI++,this.disposeRunner=new Sr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?$r.ELEMENT_ARRAY_BUFFER:$r.ARRAY_BUFFER}get index(){return this.type===$r.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ge(e)}}class eh{constructor(e,r=0,n=!1,i=ie.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new eh(e,r,n,i,s)}}const JI={Float32Array,Uint32Array,Int32Array,Uint8Array};function e2(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],h=t[l],f=N1(h);i[f]||(i[f]=new JI[f](s)),o=i[f];for(let c=0;c<h.length;c++){const d=(c/u|0)*n+a,p=c%u;o[d+p]=h[c]}a+=u}return new Float32Array(s)}const A_={5126:4,5123:2,5121:1};let t2=0;const r2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ni{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=t2++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Sr("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ge||(r instanceof Array&&(r=new Float32Array(r)),r=new Ge(r));const u=e.split("|");if(u.length>1){for(let f=0;f<u.length;f++)this.addAttribute(u[f],r,n,i,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new eh(h,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ge||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ge(e)),e.type=$r.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Ge;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*A_[s.type]/4),s.buffer=0}for(n.data=e2(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ni;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ge(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new eh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=$r.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ni,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new r2[N1(o.buffers[a].data)](i[a]),r.buffers[a]=new Ge(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=$r.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const c=o.attributes[f];(c.buffer|0)===h&&(l+=c.size*A_[c.type]/4)}for(let f=0;f<e.length;f++){const c=e[f].indexBuffer.data;for(let d=0;d<c.length;d++)r.indexBuffer.data[d+u]+=a;a+=e[f].buffers[h].data.length/l,u+=c.length}}return r}}class L1 extends ni{constructor(e=!1){super(),this._buffer=new Ge(null,e,!1),this._indexBuffer=new Ge(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ie.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ie.FLOAT).addAttribute("aColor",this._buffer,4,!0,ie.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ie.FLOAT).addIndex(this._indexBuffer)}}const th=Math.PI*2,n2=180/Math.PI,i2=Math.PI/180;var ot=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ot||{});class ge{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ge(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Il=[new ge,new ge,new ge,new ge];class ue{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=ot.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ue(0,0,0,0)}clone(){return new ue(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const S=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=S)return!1;const I=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>I}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Il[0].set(e.left,e.top),l=Il[1].set(e.left,e.bottom),u=Il[2].set(e.right,e.top),h=Il[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(h,h),Math.max(a.x,l.x,u.x,h.x)<=n||Math.min(a.x,l.x,u.x,h.x)>=i||Math.max(a.y,l.y,u.y,h.y)<=s||Math.min(a.y,l.y,u.y,h.y)>=o))return!1;const c=f*(l.y-a.y),d=f*(a.x-l.x),p=c*n+d*s,m=c*i+d*s,v=c*n+d*o,_=c*i+d*o;if(Math.max(p,m,v,_)<=c*a.x+d*a.y||Math.min(p,m,v,_)>=c*h.x+d*h.y)return!1;const y=f*(a.y-u.y),g=f*(u.x-a.x),x=y*n+g*s,w=y*i+g*s,T=y*n+g*o,E=y*i+g*o;return!(Math.max(x,w,T,E)<=y*a.x+g*a.y||Math.min(x,w,T,E)>=y*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Nm{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=ot.CIRC}clone(){return new Nm(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new ue(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Fm{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=ot.ELIP}clone(){return new Fm(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new ue(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class $s{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=ot.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new $s(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(u-a)*((r-l)/(h-l))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class Bm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=ot.RREC}clone(){return new Bm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ce{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ge;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new ge;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(th-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ce;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ce}static get TEMP_MATRIX(){return new Ce}}const _i=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],vi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],xi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],wi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Yd=[],U1=[],Ml=Math.sign;function s2(){for(let t=0;t<16;t++){const e=[];Yd.push(e);for(let r=0;r<16;r++){const n=Ml(_i[t]*_i[r]+xi[t]*vi[r]),i=Ml(vi[t]*_i[r]+wi[t]*vi[r]),s=Ml(_i[t]*xi[r]+xi[t]*wi[r]),o=Ml(vi[t]*xi[r]+wi[t]*wi[r]);for(let a=0;a<16;a++)if(_i[a]===n&&vi[a]===i&&xi[a]===s&&wi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ce;e.set(_i[t],vi[t],xi[t],wi[t],0,0),U1.push(e)}}s2();const Ae={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>_i[t],uY:t=>vi[t],vX:t=>xi[t],vY:t=>wi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Yd[t][e],sub:(t,e)=>Yd[t][Ae.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ae.S:Ae.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ae.E:Ae.W:e>0?t>0?Ae.SE:Ae.SW:t>0?Ae.NE:Ae.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=U1[Ae.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Fn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Fn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const G1=class{constructor(){this.worldTransform=new Ce,this.localTransform=new Ce,this.position=new Fn(this.onChange,this,0,0),this.scale=new Fn(this.onChange,this,1,1),this.pivot=new Fn(this.onChange,this,0,0),this.skew=new Fn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Lm=G1;Lm.IDENTITY=new G1;var o2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,a2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function P_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function lf(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function z1(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return lf(2*e);case"bvec3":return lf(3*e);case"bvec4":return lf(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Hs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],l2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},u2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function h2(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Hs.length;l++)if(Hs[l].test(s,o)){r.push(Hs[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?l2:u2)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const $1={};let os=$1;function c2(){if(os===$1||os!=null&&os.isContextLost()){const t=j.ADAPTER.createCanvas();let e;j.PREFER_ENV>=Ki.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),os=e}return os}let kl;function f2(){if(!kl){kl=Zt.MEDIUM;const t=c2();t&&t.getShaderPrecisionFormat&&(kl=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Zt.HIGH:Zt.MEDIUM)}return kl}function R_(t,e){const r=t.getShaderSource(e).split(`
`).map((u,h)=>`${h}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function d2(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||R_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||R_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const p2={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function H1(t){return p2[t]}let Dl=null;const I_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function j1(t,e){if(!Dl){const r=Object.keys(I_);Dl={};for(let n=0;n<r.length;++n){const i=r[n];Dl[t[i]]=I_[i]}}return Dl[e]}function M_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Zt.HIGH&&r!==Zt.HIGH&&(n=Zt.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Zt.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Io;function m2(){if(typeof Io=="boolean")return Io;try{Io=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Io=!1}return Io}let g2=0;const Ol={},cs=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=g2++,this.vertexSrc=t||cs.defaultVertexSrc,this.fragmentSrc=e||cs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Ol[r]?(Ol[r]++,r+=`-${Ol[r]}`):Ol[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=M_(this.vertexSrc,cs.defaultVertexPrecision,Zt.HIGH),this.fragmentSrc=M_(this.fragmentSrc,cs.defaultFragmentPrecision,f2())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return a2}static get defaultFragmentSrc(){return o2}static from(t,e,r){const n=t+e;let i=S_[n];return i||(S_[n]=i=new cs(t,e,r)),i}};let vr=cs;vr.defaultVertexPrecision=Zt.HIGH;vr.defaultFragmentPrecision=un.apple.device?Zt.HIGH:Zt.MEDIUM;let y2=0;class Tr{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=y2++,this.static=!!r,this.ubo=!!n,e instanceof Ge?(this.buffer=e,this.buffer.type=$r.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ge(new Float32Array(1)),this.buffer.type=$r.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Tr(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Tr(e,r,n)}static uboFrom(e,r){return new Tr(e,r??!0,!0)}}class Hr{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Tr?this.uniformGroup=r:this.uniformGroup=new Tr(r):this.uniformGroup=new Tr({}),this.disposeRunner=new Sr("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=vr.from(e,r);return new Hr(i,n)}}class _2{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Tr.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new vr(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ce,default:this.defaultGroupCache[e]};return new Hr(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Kd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function v2(){return!un.apple.device}function x2(t){let e=!0;const r=j.ADAPTER.getNavigator();if(un.tablet||un.phone){if(un.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(un.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Hh{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var w2=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,E2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const hr=class extends Hh{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=L1,this.vertexSize=6,this.state=Tn.for2d(),this.size=hr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??x2(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??v2(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return fe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return E2}static get defaultFragmentTemplate(){return w2}setShaderGenerator({vertex:t=hr.defaultVertexSrc,fragment:e=hr.defaultFragmentTemplate}={}){this.shaderGenerator=new _2(t,e)}contextChange(){const t=this.renderer.gl;j.PREFER_ENV===Ki.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),hr.defaultMaxTextures),this.maxTextures=qI(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=hr,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Xd);for(;e.length<n;)e.push(new Kd);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=hr._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ae._globalBatch,a=0,l=r[0],u=0;n.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,h),u=h,l=r[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;ae._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=hr._drawCallPool;let l=this._dcIndex,u=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let c=e;c<r;++c){const d=n[c],p=d._texture.baseTexture,m=D1[p.alphaMode?1:0][d.blendMode];n[c]=null,e<c&&f.blend!==m&&(f.size=h-f.start,e=c,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(d,i,s,u,h),u+=d.vertexData.length/2*o,h+=d.indices.length,f.blend=m}e<r&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;hr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=hr._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:h}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),hr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Ju(Math.ceil(t/8)),r=E_(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Vd(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Ju(Math.ceil(t/12)),r=E_(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,c=Math.min(t.worldAlpha,1),d=ve.shared.setValue(t._tintRGB).toPremultiplied(c,t._texture.baseTexture.alphaMode>0);for(let p=0;p<h.length;p+=2)o[n++]=h[p],o[n++]=h[p+1],o[n++]=l[p],o[n++]=l[p+1],s[n++]=d,o[n++]=f;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};let yr=hr;yr.defaultBatchSize=4096;yr.extension={name:"batch",type:X.RendererPlugin};yr._drawCallPool=[];yr._textureArrayPool=[];re.add(yr);var S2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,T2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Go=class extends Hr{constructor(t,e,r){const n=vr.from(t||Go.defaultVertexSrc,e||Go.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Go.defaultResolution,this.multisample=Go.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Tn}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return T2}static get defaultFragmentSrc(){return S2}};let at=Go;at.defaultResolution=1;at.defaultMultisample=$e.NONE;class jh{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ve(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}jh.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};jh.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"background"};re.add(jh);class V1{constructor(e){this.renderer=e,this.emptyRenderer=new Hh(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const h=s[u],f=h._batchLocation;if(f>=0&&f<i&&r[f]===h){o[u]=f;continue}for(;l<i;){const c=r[l];if(c&&c._batchEnabled===n&&c._batchLocation===l){l++;continue}o[u]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}V1.extension={type:X.RendererSystem,name:"batch"};re.add(V1);let k_=0;class Vh{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=k_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=k_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(j.PREFER_ENV>=Ki.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Vh.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};Vh.extension={type:X.RendererSystem,name:"context"};re.add(Vh);class b2 extends tl{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ar.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class qd{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Sr("disposeFramebuffer"),this.multisample=$e.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ae(null,{scaleMode:ln.NEAREST,resolution:1,mipmap:Wr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ae(new b2(null,{width:this.width,height:this.height}),{scaleMode:ln.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Wr.OFF,format:G.DEPTH_COMPONENT,type:ie.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class W1 extends ae{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=$e.NONE),super(null,e),this.mipmap=Wr.OFF,this.valid=!0,this._clear=new ve([0,0,0,0]),this.framebuffer=new qd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ii extends Oa{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=XI(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ar.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class X1 extends ii{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ii.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??j.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ar.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Y1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=Ae.add(n,Ae.NW),this.x0=l+o*Ae.uX(n),this.y0=u+a*Ae.uY(n),n=Ae.add(n,2),this.x1=l+o*Ae.uX(n),this.y1=u+a*Ae.uY(n),n=Ae.add(n,2),this.x2=l+o*Ae.uX(n),this.y2=u+a*Ae.uY(n),n=Ae.add(n,2),this.x3=l+o*Ae.uX(n),this.y3=u+a*Ae.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const D_=new Y1;function Nl(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Z extends Qa{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new ue(0,0,1,1)),e instanceof Z&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=D_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ge(o.x,o.y):new ge(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&kr[r.url]&&Z.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Z.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new Z(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===D_&&(this._uvs=new Y1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=j.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ae){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Hi()}`,ae.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Hi()}`}s=e._pixiId}let o=kr[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ae)?(r.resolution||(r.resolution=ri(e)),o=new Z(new ae(e,r)),o.baseTexture.cacheId=s,ae.addToCache(o.baseTexture,s),Z.addToCache(o,s)):!o&&e instanceof ae&&(o=new Z(e),Z.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=Z.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new Z(ae.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new ae(e,Object.assign({scaleMode:ae.defaultOptions.scaleMode,resolution:ri(r)},i)),{resource:o}=s;o instanceof X1&&(o.url=r);const a=new Z(s);return n||(n=r),ae.addToCache(a.baseTexture,n),Z.addToCache(a,n),n!==r&&(ae.addToCache(a.baseTexture,r),Z.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),kr[r]&&kr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),kr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=kr[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete kr[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)kr[e.textureCacheIds[r]]===e&&delete kr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,h=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Z._EMPTY||(Z._EMPTY=new Z(new ae),Nl(Z._EMPTY),Nl(Z._EMPTY.baseTexture)),Z._EMPTY}static get WHITE(){if(!Z._WHITE){const e=j.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Z._WHITE=new Z(ae.from(e)),Nl(Z._WHITE),Nl(Z._WHITE.baseTexture)}return Z._WHITE}}class Qi extends Z{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Qi(new W1(e))}}class K1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=$e.NONE){const i=new W1(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Qi(i)}getOptimalTexture(e,r,n=1,i=$e.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Ju(e),r=Ju(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||$e.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}K1.SCREEN_KEY=-1;class C2 extends ni{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class q1 extends ni{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ge(this.vertices),this.uvBuffer=new Ge(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class A2{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=$e.NONE,this.sourceFrame=new ue,this.destinationFrame=new ue,this.bindingSourceFrame=new ue,this.bindingDestinationFrame=new ue,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Fl=[new ge,new ge,new ge,new ge],uf=new Ce;class Q1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new K1,this.statePool=[],this.quad=new C2,this.quadUv=new q1,this.tempRect=new ue,this.activeState={},this.globalUniforms=new Tr({outputFrame:new ue,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new A2,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,u=r[0].padding,h=r[0].autoFit,f=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,h=h&&m.autoFit,f=f||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const c=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(uf.copyFrom(n.projection.transform).invert(),c),h?(s.sourceFrame.fit(c),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(c)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Nr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,h=this.getOptimalFilterTexture(u.width,u.height,r.resolution);h.filterFrame=u.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(u.width,u.height,r.resolution),h.filterFrame=u.filterFrame),n[f].apply(this,u,h,Nr.CLEAR,r);const c=u;u=h,h=c}n[f].apply(this,u,l.renderTexture,Nr.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Nr.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Nr.CLEAR||r===Nr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Ur.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Ur.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Ce.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=$e.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||$e.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Fl[0],i=Fl[1],s=Fl[2],o=Fl[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),h=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=h-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?uf.copyFrom(s):uf.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Q1.extension={type:X.RendererSystem,name:"filter"};re.add(Q1);class P2{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=$e.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const R2=new ue;class Z1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new qd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ue,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===Ki.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Ad.COLOR|Ad.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new P2(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=$e.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=$e.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new qd(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=R2,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ue}destroy(){this.renderer=null}}Z1.extension={type:X.RendererSystem,name:"framebuffer"};re.add(Z1);const hf={5126:4,5123:2,5121:1};class J1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===Ki.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let h=u[l];if(h)return u[a.id]=h,h;const f=e.buffers,c=e.attributes,d={},p={};for(const m in f)d[m]=0,p[m]=0;for(const m in c)!c[m].size&&a.attributeData[m]?c[m].size=a.attributeData[m].size:c[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),d[c[m].buffer]+=c[m].size*hf[c[m].type];for(const m in c){const v=c[m],_=v.size;v.stride===void 0&&(d[v.buffer]===_*hf[v.type]?v.stride=0:v.stride=d[v.buffer]),v.start===void 0&&(v.start=p[v.buffer],p[v.buffer]+=_*hf[v.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let m=0;m<f.length;m++){const v=f[m];o.bind(v),n&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=h,u[l]=h,i.bindVertexArray(null),o.unbind($r.ARRAY_BUFFER),h}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const h=a[u],f=o[h.buffer],c=f._glBuffers[i];if(r.attributeData[u]){l!==c&&(s.bind(f),l=c);const d=r.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(d,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}J1.extension={type:X.RendererSystem,name:"geometry"};re.add(J1);const O_=new Ce;class ew{constructor(e,r){this._texture=e,this.mapCoord=new Ce,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(O_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(O_));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var I2=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,M2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class k2 extends at{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||M2,r||I2,n),this.maskSprite=i,this.maskMatrix=new Ce}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ew(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class D2{constructor(e=null){this.type=Xe.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=at.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Xe.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class tw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new D2;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Xe.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Xe.SCISSOR:this.renderer.scissor.push(n);break;case Xe.STENCIL:this.renderer.stencil.push(n);break;case Xe.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Xe.COLOR:this.pushColorMask(n);break}n.type===Xe.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Xe.SCISSOR:this.renderer.scissor.pop(r);break;case Xe.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Xe.SPRITE:this.popSpriteMask(r);break;case Xe.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Xe.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Xe.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Xe.SCISSOR:e.type=Xe.STENCIL:e.type=Xe.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new k2]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=r;const u=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}tw.extension={type:X.RendererSystem,name:"mask"};re.add(tw);class rw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const N_=new Ce,F_=[],cu=class extends rw{constructor(t){super(t),this.glConst=j.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,F_.pop()??new ue);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||cu.isMatrixRotated(e.worldTransform)||cu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){cu.isMatrixRotated(i)||(i=i?N_.copyFrom(i):N_.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&F_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let nw=cu;nw.extension={type:X.RendererSystem,name:"scissor"};re.add(nw);class iw extends rw{constructor(e){super(e),this.glConst=j.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}iw.extension={type:X.RendererSystem,name:"stencil"};re.add(iw);class sw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return fe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return fe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return fe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}sw.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"_plugin"};re.add(sw);class ow{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ce,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}ow.extension={type:X.RendererSystem,name:"projection"};re.add(ow);const O2=new Lm;class aw{constructor(e){this.renderer=e,this._tempMatrix=new Ce}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Qi.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=O2,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}aw.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"textureGenerator"};re.add(aw);const fi=new ue,Mo=new ue;class lw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ue,this.destinationFrame=new ue,this.viewportFrame=new ue}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(fi.width=e.frame.width,fi.height=e.frame.height,r=fi),n||(Mo.x=e.frame.x,Mo.y=e.frame.y,Mo.width=r.width,Mo.height=r.height,n=Mo),o=s.framebuffer):(a=i.resolution,r||(fi.width=i._view.screen.width,fi.height=i._view.screen.height,r=fi),n||(n=fi,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=ve.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:h,height:f}=this.viewportFrame;l=Math.round(l),u=Math.round(u),h=Math.round(h),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,h,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}lw.extension={type:X.RendererSystem,name:"renderTexture"};re.add(lw);class N2{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function F2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=j1(e,s.type),a={type:o,name:s.name,size:H1(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function B2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=j1(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:z1(l,s.size)}}return r}function L2(t,e){var l;const r=P_(t,t.VERTEX_SHADER,e.vertexSrc),n=P_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||d2(t,i,r,n),e.attributeData=F2(i,t),e.uniformData=B2(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((h,f)=>h>f?1:-1);for(let h=0;h<u.length;h++)e.attributeData[u[h]].location=h,t.bindAttribLocation(i,h,u[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const h=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:z1(h.type,h.size)}}return new N2(i,o)}function U2(t,e,r,n,i){r.buffer.update(i)}const G2={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},uw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function z2(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=uw[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function $2(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function H2(t,e){if(!t.autoManage)return{size:0,syncFunc:U2};const r=$2(t.uniforms,e),{uboElements:n,size:i}=z2(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let h=!1;for(let f=0;f<Hs.length;f++){const c=Hs[f];if(c.codeUbo&&c.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Hs[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=H1(a.data.type),c=Math.max(uw[a.data.type]/16,1),d=f/c,p=(4-d%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*c}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const f=G2[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let j2=0;const Bl={textureCount:0,uboCount:0};class hw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=j2++}systemCheck(){if(!m2())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Bl.textureCount=0,Bl.uboCount=0,this.syncUniformGroup(e.uniformGroup,Bl)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=h2(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Bl,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=H2(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=L2(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}hw.extension={type:X.RendererSystem,name:"shader"};re.add(hw);class Wh{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Wh.defaultOptions={hello:!1};Wh.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"startup"};re.add(Wh);function V2(t,e=[]){return e[se.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.ADD]=[t.ONE,t.ONE],e[se.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.NONE]=[0,0],e[se.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[se.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[se.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[se.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[se.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[se.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[se.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[se.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[se.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[se.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const W2=0,X2=1,Y2=2,K2=3,q2=4,Q2=5,Qd=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=se.NONE,this._blendEq=!1,this.map=[],this.map[W2]=this.setBlend,this.map[X2]=this.setOffset,this.map[Y2]=this.setCullFace,this.map[K2]=this.setDepthTest,this.map[q2]=this.setFrontFace,this.map[Q2]=this.setDepthMask,this.checks=[],this.defaultState=new Tn,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=V2(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Qd.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Qd.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let cw=Qd;cw.extension={type:X.RendererSystem,name:"state"};re.add(cw);class Z2 extends Qa{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Sr(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const fu=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=fu.defaultMaxIdle,this.checkCountMax=fu.defaultCheckCountMax,this.mode=fu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Am.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let _r=fu;_r.defaultMode=Am.AUTO;_r.defaultMaxIdle=60*60;_r.defaultCheckCountMax=60*10;_r.extension={type:X.RendererSystem,name:"textureGC"};re.add(_r);class cf{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ie.UNSIGNED_BYTE,this.internalFormat=G.RGBA,this.samplerType=0}}function J2(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ie.UNSIGNED_BYTE]:{[G.RGBA]:t.RGBA8,[G.RGB]:t.RGB8,[G.RG]:t.RG8,[G.RED]:t.R8,[G.RGBA_INTEGER]:t.RGBA8UI,[G.RGB_INTEGER]:t.RGB8UI,[G.RG_INTEGER]:t.RG8UI,[G.RED_INTEGER]:t.R8UI,[G.ALPHA]:t.ALPHA,[G.LUMINANCE]:t.LUMINANCE,[G.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ie.BYTE]:{[G.RGBA]:t.RGBA8_SNORM,[G.RGB]:t.RGB8_SNORM,[G.RG]:t.RG8_SNORM,[G.RED]:t.R8_SNORM,[G.RGBA_INTEGER]:t.RGBA8I,[G.RGB_INTEGER]:t.RGB8I,[G.RG_INTEGER]:t.RG8I,[G.RED_INTEGER]:t.R8I},[ie.UNSIGNED_SHORT]:{[G.RGBA_INTEGER]:t.RGBA16UI,[G.RGB_INTEGER]:t.RGB16UI,[G.RG_INTEGER]:t.RG16UI,[G.RED_INTEGER]:t.R16UI,[G.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ie.SHORT]:{[G.RGBA_INTEGER]:t.RGBA16I,[G.RGB_INTEGER]:t.RGB16I,[G.RG_INTEGER]:t.RG16I,[G.RED_INTEGER]:t.R16I},[ie.UNSIGNED_INT]:{[G.RGBA_INTEGER]:t.RGBA32UI,[G.RGB_INTEGER]:t.RGB32UI,[G.RG_INTEGER]:t.RG32UI,[G.RED_INTEGER]:t.R32UI,[G.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ie.INT]:{[G.RGBA_INTEGER]:t.RGBA32I,[G.RGB_INTEGER]:t.RGB32I,[G.RG_INTEGER]:t.RG32I,[G.RED_INTEGER]:t.R32I},[ie.FLOAT]:{[G.RGBA]:t.RGBA32F,[G.RGB]:t.RGB32F,[G.RG]:t.RG32F,[G.RED]:t.R32F,[G.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ie.HALF_FLOAT]:{[G.RGBA]:t.RGBA16F,[G.RGB]:t.RGB16F,[G.RG]:t.RG16F,[G.RED]:t.R16F},[ie.UNSIGNED_SHORT_5_6_5]:{[G.RGB]:t.RGB565},[ie.UNSIGNED_SHORT_4_4_4_4]:{[G.RGBA]:t.RGBA4},[ie.UNSIGNED_SHORT_5_5_5_1]:{[G.RGBA]:t.RGB5_A1},[ie.UNSIGNED_INT_2_10_10_10_REV]:{[G.RGBA]:t.RGB10_A2,[G.RGBA_INTEGER]:t.RGB10_A2UI},[ie.UNSIGNED_INT_10F_11F_11F_REV]:{[G.RGB]:t.R11F_G11F_B10F},[ie.UNSIGNED_INT_5_9_9_9_REV]:{[G.RGB]:t.RGB9_E5},[ie.UNSIGNED_INT_24_8]:{[G.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ie.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[G.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ie.UNSIGNED_BYTE]:{[G.RGBA]:t.RGBA,[G.RGB]:t.RGB,[G.ALPHA]:t.ALPHA,[G.LUMINANCE]:t.LUMINANCE,[G.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ie.UNSIGNED_SHORT_5_6_5]:{[G.RGB]:t.RGB},[ie.UNSIGNED_SHORT_4_4_4_4]:{[G.RGBA]:t.RGBA},[ie.UNSIGNED_SHORT_5_5_5_1]:{[G.RGBA]:t.RGBA}},e}class fw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ae,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=J2(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new cf(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new cf(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Pd.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new cf(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===ie.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Pd.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&zs(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Wr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Kn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Wr.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ln.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ln.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ln.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ln.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}fw.extension={type:X.RendererSystem,name:"texture"};re.add(fw);class dw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}dw.extension={type:X.RendererSystem,name:"transformFeedback"};re.add(dw);class Xh{constructor(e){this.renderer=e}init(e){this.screen=new ue(0,0,e.width,e.height),this.element=e.view||j.ADAPTER.createCanvas(),this.resolution=e.resolution||j.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Xh.defaultOptions={width:800,height:600,resolution:j.RESOLUTION,autoDensity:!1};Xh.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"_view"};re.add(Xh);j.PREFER_ENV=Ki.WEBGL2;j.STRICT_TEXTURE_CACHE=!1;j.RENDER_OPTIONS={...Vh.defaultOptions,...jh.defaultOptions,...Xh.defaultOptions,...Wh.defaultOptions};Object.defineProperties(j,{WRAP_MODE:{get(){return ae.defaultOptions.wrapMode},set(t){fe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ae.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ae.defaultOptions.scaleMode},set(t){fe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ae.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ae.defaultOptions.mipmap},set(t){fe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ae.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ae.defaultOptions.anisotropicLevel},set(t){fe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ae.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return fe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),at.defaultResolution},set(t){at.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return fe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),at.defaultMultisample},set(t){at.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return yr.defaultMaxTextures},set(t){fe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),yr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return yr.defaultBatchSize},set(t){fe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),yr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return yr.canUploadSameBuffer},set(t){fe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),yr.canUploadSameBuffer=t}},GC_MODE:{get(){return _r.defaultMode},set(t){fe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),_r.defaultMode=t}},GC_MAX_IDLE:{get(){return _r.defaultMaxIdle},set(t){fe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),_r.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return _r.defaultCheckCountMax},set(t){fe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),_r.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return vr.defaultVertexPrecision},set(t){fe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),vr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return vr.defaultFragmentPrecision},set(t){fe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),vr.defaultFragmentPrecision=t}}});var ji=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ji||{});class ff{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Ot=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ff(null,null,1/0),this.deltaMS=1/Ot.targetFPMS,this.elapsedMS=1/Ot.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=ji.NORMAL){return this._addListener(new ff(t,e,r))}addOnce(t,e,r=ji.NORMAL){return this._addListener(new ff(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ot.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Ot.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ot._shared){const t=Ot._shared=new Ot;t.autoStart=!0,t._protected=!0}return Ot._shared}static get system(){if(!Ot._system){const t=Ot._system=new Ot;t.autoStart=!0,t._protected=!0}return Ot._system}};let dt=Ot;dt.targetFPMS=.06;Object.defineProperties(j,{TARGET_FPMS:{get(){return dt.targetFPMS},set(t){fe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),dt.targetFPMS=t}}});class pw{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ji.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?dt.shared:new dt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}pw.extension=X.Application;re.add(pw);const mw=[];re.handleByList(X.Renderer,mw);function eM(t){for(const e of mw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var tM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,rM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const nM=tM,gw=rM;class yw{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=$e.HIGH?this.multisample=$e.HIGH:r>=$e.MEDIUM?this.multisample=$e.MEDIUM:r>=$e.LOW?this.multisample=$e.LOW:this.multisample=$e.NONE}destroy(){}}yw.extension={type:X.RendererSystem,name:"_multisample"};re.add(yw);class iM{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _w{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new iM(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}_w.extension={type:X.RendererSystem,name:"buffer"};re.add(_w);class vw{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}vw.extension={type:X.RendererSystem,name:"objectRenderer"};re.add(vw);const Zd=class extends Z2{constructor(t){super(),this.type=Jx.WEBGL,t=Object.assign({},j.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Tr({projectionMatrix:new Ce},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Zd.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(fe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Zd.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:R1()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return fe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return fe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return fe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return fe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){fe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return fe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){fe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return fe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let _o=Zd;_o.extension={type:X.Renderer,priority:1};_o.__plugins={};_o.__systems={};re.handleByMap(X.RendererPlugin,_o.__plugins);re.handleByMap(X.RendererSystem,_o.__systems);re.add(_o);class xw extends Oa{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ae;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Oa?this.addResourceAt(e[n],n):this.addResourceAt(B1(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class sM extends xw{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Bs.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class oM extends ii{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const zo=class extends xw{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==zo.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<zo.SIDES;o++)this.items[o].target=Bs.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Bs.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Bs.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<zo.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===zo.SIDES}};let ww=zo;ww.SIDES=6;class Ps extends ii{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Ps.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await j.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ar.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ps._EMPTY=Ps._EMPTY??j.ADAPTER.createCanvas(0,0),Ps._EMPTY}}const du=class extends ii{constructor(t,e){e=e||{},super(j.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},du.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;ii.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${Hi()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=du.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&du.SVG_XML.test(t)}};let Na=du;Na.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Na.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Jd=class extends ii{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];ii.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||Jd.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=dt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(dt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(dt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Jd.TYPES.includes(e)}};let Um=Jd;Um.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Um.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Wd.push(Ps,X1,oM,Um,Na,tl,ww,sM);class rh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ue.EMPTY:(e=e||new ue(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,h=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,h=e.tx,f=e.ty;let c=this.minX,d=this.minY,p=this.maxX,m=this.maxY,v=o*r+l*n+h,_=a*r+u*n+f;c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*i+l*n+h,_=a*i+u*n+f,c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*r+l*s+h,_=a*r+u*s+f,c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,v=o*i+l*s+h,_=a*i+u*s+f,c=v<c?v:c,d=_<d?_:d,p=v>p?v:p,m=_>m?_:m,this.minX=c,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],h=e[l+1];i=u<i?u:i,s=h<s?h:s,o=u>o?u:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,h=e.d,f=e.tx,c=e.ty;let d=this.minX,p=this.minY,m=this.maxX,v=this.maxY;for(let _=n;_<i;_+=2){const y=r[_],g=r[_+1],x=a*y+u*g+f,w=h*g+l*y+c;d=Math.min(d,x-s),m=Math.max(m,x+s),p=Math.min(p,w-o),v=Math.max(v,w+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=v}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Ne extends Qa{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Lm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new rh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Ne.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new ue),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ue),e=this._localBoundsRect),this._localBounds||(this._localBounds=new rh);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new aM),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*n2}set angle(e){this.transform.rotation=e*i2}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class aM extends Ne{constructor(){super(...arguments),this.sortDirty=null}}Ne.prototype.displayObjectUpdateTransform=Ne.prototype.updateTransform;const lM=new Ce;function uM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const ep=class extends Ne{constructor(){super(),this.children=[],this.sortableChildren=ep.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);zs(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,zs(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,zs(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(uM),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==ep.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=lM.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Xe.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let wt=ep;wt.defaultSortableChildren=!1;wt.prototype.containerUpdateTransform=wt.prototype.updateTransform;Object.defineProperties(j,{SORTABLE_CHILDREN:{get(){return wt.defaultSortableChildren},set(t){fe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),wt.defaultSortableChildren=t}}});const ko=new ge,hM=new Uint16Array([0,1,2,0,2,3]);class Zi extends wt{constructor(e){super(),this._anchor=new Fn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ve(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=se.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Z.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=hM,this.pluginName="batch",this.isSprite=!0,this._roundPixels=j.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Nn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Nn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,h=e.trim,f=e.orig,c=this._anchor;let d=0,p=0,m=0,v=0;if(h?(p=h.x-c._x*f.width,d=p+h.width,v=h.y-c._y*f.height,m=v+h.height):(p=-c._x*f.width,d=p+f.width,v=-c._y*f.height,m=v+f.height),u[0]=n*p+s*v+a,u[1]=o*v+i*p+l,u[2]=n*d+s*v+a,u[3]=o*v+i*d+l,u[4]=n*d+s*m+a,u[5]=o*m+i*d+l,u[6]=n*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const _=j.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,h=s.tx,f=s.ty,c=-i._x*n.width,d=c+n.width,p=-i._y*n.height,m=p+n.height;r[0]=o*c+l*p+h,r[1]=u*p+a*c+f,r[2]=o*d+l*p+h,r[3]=u*p+a*d+f,r[4]=o*d+l*m+h,r[5]=u*m+a*d+f,r[6]=o*c+l*m+h,r[7]=u*m+a*c+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new rh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ue),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ko);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return ko.x>=i&&ko.x<i+r&&(s=-n*this.anchor.y,ko.y>=s&&ko.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof Z?e:Z.from(e,r);return new Zi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Nn(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Nn(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Z.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Ew=new Ce;Ne.prototype._cacheAsBitmap=!1;Ne.prototype._cacheData=null;Ne.prototype._cacheAsBitmapResolution=null;Ne.prototype._cacheAsBitmapMultisample=null;class cM{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ne.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new cM),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ne.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ne.prototype._initCachedDisplayObject=function(e){var c,d;if((c=this._cacheData)!=null&&c.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;n.pad(p)}n.ceil(j.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=Qi.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${Hi()}`;this._cacheData.textureCacheId=u,ae.addToCache(l.baseTexture,u),Z.addToCache(l,u);const h=this.transform.localTransform.copyTo(Ew).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const f=new Zi(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(n.x/n.width),f.anchor.y=-(n.y/n.height),f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Ne.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ne.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(j.RESOLUTION);const o=Qi.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${Hi()}`;this._cacheData.textureCacheId=a,ae.addToCache(o.baseTexture,a),Z.addToCache(o,a);const l=Ew;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const u=new Zi(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Ne.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ne.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ne.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ae.removeFromCache(this._cacheData.textureCacheId),Z.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ne.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ne.prototype.name=null;wt.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ne.prototype.getGlobalPosition=function(e=new ge,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var fM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class dM extends at{constructor(e=1){super(nM,fM,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const pM={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},mM=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function gM(t){const e=pM[t],r=e.length;let n=mM,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const yM=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function _M(t,e){const r=Math.ceil(t/2);let n=yM,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class tp extends at{constructor(e,r=8,n=4,i=at.defaultResolution,s=5){const o=_M(s,e),a=gM(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Nr.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Nr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class vM extends at{constructor(e=8,r=4,n=at.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new tp(!0,e,r,n,i),this.blurYFilter=new tp(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Nr.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var xM=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class rp extends at{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(gw,xM,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=ve.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,h=o*(1-n)+a*i,f=o*(1-n)+a*i,c=n+o*(1-n),d=o*(1-n)-a*i,p=o*(1-n)-a*i,m=o*(1-n)+a*i,v=n+o*(1-n),_=[l,u,h,0,0,f,c,d,0,0,p,m,v,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=ve.shared,[a,l,u]=o.setValue(n).toArray(),[h,f,c]=o.setValue(i).toArray(),d=[.3,.59,.11,0,0,a,l,u,e,0,h,f,c,r,0,a-h,l-f,u-c,0,0];this._loadMatrix(d,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}rp.prototype.grayscale=rp.prototype.greyscale;var wM=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,EM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class SM extends at{constructor(e,r){const n=new Ce;e.renderable=!1,super(EM,wM,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ge(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var TM=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,bM=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class CM extends at{constructor(){super(bM,TM)}}var AM=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class PM extends at{constructor(e=.5,r=Math.random()){super(gw,AM,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const B_={AlphaFilter:dM,BlurFilter:vM,BlurFilterPass:tp,ColorMatrixFilter:rp,DisplacementFilter:SM,FXAAFilter:CM,NoiseFilter:PM};Object.entries(B_).forEach(([t,e])=>{Object.defineProperty(B_,t,{get(){return fe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class RM{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(dt.system.add(this.tickerUpdate,this,ji.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(dt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Mn=new RM;class rl{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=rl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ge,this.page=new ge,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class nh extends rl{constructor(){super(...arguments),this.client=new ge,this.movement=new ge,this.offset=new ge,this.global=new ge,this.screen=new ge}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,h,f,c,d,p,m){throw new Error("Method not implemented.")}}class cr extends nh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ro extends nh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ro.DOM_DELTA_PIXEL=0;ro.DOM_DELTA_LINE=1;ro.DOM_DELTA_PAGE=2;const IM=2048,MM=new ge,df=new ge;class kM{constructor(e){this.dispatch=new Qa,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Mn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,MM.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<IM&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Mn.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let f=h.length-1;f>=0;f--){const c=h[f],d=this.hitTestMoveRecursive(c,this._isInteractive(r)?r:c.eventMode,n,i,s,o||s(e,n));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const p=e.isInteractive();(d.length>0||p)&&(p&&this._allInteractiveElements.push(e),d.push(e)),this._hitElements.length===0&&(this._hitElements=d),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Mn.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const h=l[u],f=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const c=e.isInteractive();return(f.length>0||c)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,df),!e.hitArea.contains(df.x,df.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof cr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof cr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const h=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,h,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&!r.composedPath().includes(c.target);)c.currentTarget=c.target,this.notifyTarget(c),n&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;this.freeEvent(c)}this.freeEvent(f)}if(s!==r.target){const h=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,h);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let c=s==null?void 0:s.parent;for(;c&&c!==this.rootTarget.parent&&c!==r.target;)c=c.parent;if(!c||c===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==s&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof cr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof cr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof cr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof cr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ro)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(cr);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(ro);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(cr);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof cr&&r instanceof cr&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof nh&&r instanceof nh&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const DM=1,OM={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},np=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new kM(null),Mn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new cr(null),this.rootWheelEvent=new ro(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...np.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,np._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Mn.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Mn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Mn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Mn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=DM),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=OM[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Fa=np;Fa.extension={name:"events",type:[X.RendererSystem,X.CanvasRendererSystem]};Fa.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};re.add(Fa);function L_(t){return t==="dynamic"||t==="static"}const NM={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??L_(Fa.defaultEventMode)},set interactive(t){fe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Fa.defaultEventMode},set eventMode(t){this._internalInteractive=L_(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof rl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ne.mixin(NM);const FM={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ne.mixin(FM);const BM=9,Ll=100,LM=0,UM=0,U_=2,G_=1,GM=-1e3,zM=-1e3,$M=2;class Sw{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(un.tablet||un.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Ll}px`,r.style.height=`${Ll}px`,r.style.position="absolute",r.style.top=`${LM}px`,r.style.left=`${UM}px`,r.style.zIndex=U_.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${G_}px`,e.style.height=`${G_}px`,e.style.position="absolute",e.style.top=`${GM}px`,e.style.left=`${zM}px`,e.style.zIndex=$M.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(un.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,h=s/a*l;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let c=0;c<this.children.length;c++){const d=this.children[c];if(d.renderId!==this.renderId)d._accessibleActive=!1,zs(this.children,c,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,c--;else{f=d._accessibleDiv;let p=d.hitArea;const m=d.worldTransform;d.hitArea?(f.style.left=`${(m.tx+p.x*m.a)*u}px`,f.style.top=`${(m.ty+p.y*m.d)*h}px`,f.style.width=`${p.width*m.a*u}px`,f.style.height=`${p.height*m.d*h}px`):(p=d.getBounds(),this.capHitArea(p),f.style.left=`${p.x*u}px`,f.style.top=`${p.y*h}px`,f.style.width=`${p.width*u}px`,f.style.height=`${p.height*h}px`,f.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(f.title=d.accessibleTitle),f.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&f.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==f.title||d.tabIndex!==f.tabIndex)&&(f.title=d.accessibleTitle,f.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Ll}px`,r.style.height=`${Ll}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=U_.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new rl(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===BM&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Sw.extension={name:"accessibility",type:[X.RendererPlugin,X.CanvasRendererPlugin]};re.add(Sw);const ip=class{constructor(t){this.stage=new wt,t=Object.assign({forceCanvas:!1},t),this.renderer=eM(t),ip._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=ip._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Gm=ip;Gm._plugins=[];re.handleByList(X.Application,Gm._plugins);class Tw{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Tw.extension=X.Application;re.add(Tw);const z_={loader:X.LoadParser,resolver:X.ResolveParser,cache:X.CacheParser,detection:X.DetectionParser};re.handle(X.Asset,t=>{const e=t.ref;Object.entries(z_).filter(([r])=>!!e[r]).forEach(([r,n])=>re.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(z_).filter(r=>!!e[r]).forEach(r=>re.remove(e[r]))});class HM{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function nl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Ji(t,e){const r=t.split("?")[0],n=mt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const dn=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),sp=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function bw(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?bw(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function jM(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),bw(t,i,0,r,n)}else n.push(t);return n}const ih=t=>!Array.isArray(t);class VM{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=dn(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof Z){const a=r;n.forEach(l=>{a.baseTexture!==Z.EMPTY.baseTexture&&ae.addToCache(a.baseTexture,l),Z.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Do=new VM;class WM{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=ih(e),o=dn(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const h=mt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,u)),i[u.src]=await this.promiseCache[h].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[h],delete i[u.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const n=dn(e,i=>({src:i})).map(async i=>{var a,l;const s=mt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Kr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Kr||{});const XM=".json",YM="application/json",KM={extension:{type:X.LoadParser,priority:Kr.Low},name:"loadJson",test(t){return nl(t,YM)||Ji(t,XM)},async load(t){return await(await j.ADAPTER.fetch(t)).json()}};re.add(KM);const qM=".txt",QM="text/plain",ZM={name:"loadTxt",extension:{type:X.LoadParser,priority:Kr.Low},test(t){return nl(t,QM)||Ji(t,qM)},async load(t){return await(await j.ADAPTER.fetch(t)).text()}};re.add(ZM);const JM=["normal","bold","100","200","300","400","500","600","700","800","900"],ek=[".ttf",".otf",".woff",".woff2"],tk=["font/ttf","font/otf","font/woff","font/woff2"],rk=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function nk(t){const e=mt.extname(t),i=mt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(rk)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const ik={extension:{type:X.LoadParser,priority:Kr.Low},name:"loadWebFont",test(t){return nl(t,tk)||Ji(t,ek)},async load(t,e){var n,i,s;const r=j.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??nk(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>JM.includes(h)))??["normal"],u=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],c=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:f});await c.load(),r.add(c),o.push(c)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>j.ADAPTER.getFontFaceSet().delete(e))}};re.add(ik);let $_=0,pf;const sk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",ok={code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${sk}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},ak={code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let mf;class lk{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([ok.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){pf===void 0&&(pf=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<pf&&(mf||(mf=URL.createObjectURL(new Blob([ak.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(mf),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[$_]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:$_++,id:n})}}const H_=new lk;function Yh(t,e,r){const n=new Z(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const uk=[".jpeg",".jpg",".png",".webp",".avif"],hk=["image/jpeg","image/png","image/webp","image/avif"];async function ck(t){const e=await j.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Kh={name:"loadTextures",extension:{type:X.LoadParser,priority:Kr.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return nl(t,hk)||Ji(t,uk)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await H_.isImageBitmapSupported()?n=await H_.loadImageBitmap(t):n=await ck(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new ae(n,{resolution:ri(t),...e.data});return i.resource.src=t,Yh(i,r,t)},unload(t){t.destroy(!0)}};re.add(Kh);const fk=".svg",dk="image/svg+xml",pk={extension:{type:X.LoadParser,priority:Kr.High},name:"loadSVG",test(t){return nl(t,dk)||Ji(t,fk)},async testParse(t){return Na.test(t)},async parse(t,e,r){var o;const n=new Na(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new ae(n,{resolution:ri(t),...e==null?void 0:e.data});return i.resource.src=t,Yh(i,r,t)},async load(t,e){return(await j.ADAPTER.fetch(t)).text()},unload:Kh.unload};re.add(pk);class mk{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=dn(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=jM(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const h=this._parsers[u];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=mt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=ih(e);e=dn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=ih(e);e=dn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const h=s.filter(f=>f[l]?f[l]===u:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=mt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class gk{constructor(){this._detections=[],this._initialized=!1,this.resolver=new mk,this.loader=new WM,this.cache=Do,this._backgroundLoader=new HM(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=ih(e),i=dn(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},h=o.map(f=>{const c=i[f];return l+=Object.keys(c).length,this._mapLoadToResolve(c,u).then(d=>{s[f]=d})});return await Promise.all(h),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Do.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Do.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=u,Do.set(h,u)}),o}async unload(e){this._initialized||await this.init();const r=dn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=dn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Do.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Kh.config.preferWorkers}set preferWorkers(e){fe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Ul=new gk;re.handleByList(X.LoadParser,Ul.loader.parsers).handleByList(X.ResolveParser,Ul.resolver.parsers).handleByList(X.CacheParser,Ul.cache.parsers).handleByList(X.DetectionParser,Ul.detections);const yk={extension:X.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Z),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};re.add(yk);const _k={extension:{type:X.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await j.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};re.add(_k);const vk={extension:{type:X.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e=await j.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};re.add(vk);const j_=["png","jpg","jpeg"],xk={extension:{type:X.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...j_],remove:async t=>t.filter(e=>!j_.includes(e))};re.add(xk);const wk={extension:X.ResolveParser,test:Kh.test,parse:t=>{var e;return{resolution:parseFloat(((e=j.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};re.add(wk);var Nt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Nt||{});const sh={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Jr,fs;function V_(){fs={s3tc:Jr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Jr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Jr.getExtension("WEBGL_compressed_texture_etc"),etc1:Jr.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Jr.getExtension("WEBGL_compressed_texture_pvrtc")||Jr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Jr.getExtension("WEBGL_compressed_texture_atc"),astc:Jr.getExtension("WEBGL_compressed_texture_astc")}}const Ek={extension:{type:X.DetectionParser,priority:2},test:async()=>{const e=j.ADAPTER.createCanvas().getContext("webgl");return e?(Jr=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{fs||V_();const e=[];for(const r in fs)fs[r]&&e.push(r);return[...e,...t]},remove:async t=>(fs||V_(),t.filter(e=>!(e in fs)))};re.add(Ek);class Sk extends tl{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Vd(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Vd(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class ki extends Sk{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ki._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ki._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=ki._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,h=o,f=a,c=h+i-1&~(i-1),d=f+s-1&~(s-1),p=c*d*sh[r];for(let m=0;m<n;m++)l[m]={levelID:m,levelWidth:n>1?h:c,levelHeight:n>1?f:d,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,h=h>>1||1,f=f>>1||1,c=h+i-1&~(i-1),d=f+s-1&~(s-1),p=c*d*sh[r];return l}}const gf=4,Gl=124,Tk=32,W_=20,bk=542327876,zl={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Ck={FOURCC:2},$l={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},Ak=1,Pk=2,Rk=4,Ik=64,Mk=512,kk=131072,Dk=827611204,Ok=861165636,Nk=894720068,Fk=808540228,Bk=4,Lk={[Dk]:Nt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Ok]:Nt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Nk]:Nt.COMPRESSED_RGBA_S3TC_DXT5_EXT},Uk={70:Nt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Nt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Nt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Nt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Nt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Nt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function Gk(t){const e=new Uint32Array(t);if(e[0]!==bk)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,Gl/Uint32Array.BYTES_PER_ELEMENT),i=n[zl.HEIGHT],s=n[zl.WIDTH],o=n[zl.MIPMAP_COUNT],a=new Uint32Array(t,zl.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Tk/Uint32Array.BYTES_PER_ELEMENT),l=a[Ak];if(l&Rk){const u=a[Ck.FOURCC];if(u!==Fk){const g=Lk[u],x=gf+Gl,w=new Uint8Array(t,x);return[new ki(w,{format:g,width:s,height:i,levels:o})]}const h=gf+Gl,f=new Uint32Array(e.buffer,h,W_/Uint32Array.BYTES_PER_ELEMENT),c=f[$l.DXGI_FORMAT],d=f[$l.RESOURCE_DIMENSION],p=f[$l.MISC_FLAG],m=f[$l.ARRAY_SIZE],v=Uk[c];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${c}`);if(p===Bk)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const _=new Array,y=gf+Gl+W_;if(m===1)_.push(new Uint8Array(t,y));else{const g=sh[v];let x=0,w=s,T=i;for(let S=0;S<o;S++){const C=Math.max(1,w+3&-4),I=Math.max(1,T+3&-4),k=C*I*g;x+=k,w=w>>>1,T=T>>>1}let E=y;for(let S=0;S<m;S++)_.push(new Uint8Array(t,E,x)),E+=x}return _.map(g=>new ki(g,{format:v,width:s,height:i,levels:o}))}throw l&Ik?new Error("DDSParser does not support uncompressed texture data."):l&Mk?new Error("DDSParser does not supported YUV uncompressed texture data."):l&kk?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Pk?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const X_=[171,75,84,88,32,49,49,187,13,10,26,10],zk=67305985,ur={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},op=64,Y_={[ie.UNSIGNED_BYTE]:1,[ie.UNSIGNED_SHORT]:2,[ie.INT]:4,[ie.UNSIGNED_INT]:4,[ie.FLOAT]:4,[ie.HALF_FLOAT]:8},$k={[G.RGBA]:4,[G.RGB]:3,[G.RG]:2,[G.RED]:1,[G.LUMINANCE]:1,[G.LUMINANCE_ALPHA]:2,[G.ALPHA]:1},Hk={[ie.UNSIGNED_SHORT_4_4_4_4]:2,[ie.UNSIGNED_SHORT_5_5_5_1]:2,[ie.UNSIGNED_SHORT_5_6_5]:2};function jk(t,e,r=!1){const n=new DataView(e);if(!Vk(t,n))return null;const i=n.getUint32(ur.ENDIANNESS,!0)===zk,s=n.getUint32(ur.GL_TYPE,i),o=n.getUint32(ur.GL_FORMAT,i),a=n.getUint32(ur.GL_INTERNAL_FORMAT,i),l=n.getUint32(ur.PIXEL_WIDTH,i),u=n.getUint32(ur.PIXEL_HEIGHT,i)||1,h=n.getUint32(ur.PIXEL_DEPTH,i)||1,f=n.getUint32(ur.NUMBER_OF_ARRAY_ELEMENTS,i)||1,c=n.getUint32(ur.NUMBER_OF_FACES,i),d=n.getUint32(ur.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(ur.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||h!==1)throw new Error("Only 2D textures are supported");if(c!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const m=4,v=4,_=l+3&-4,y=u+3&-4,g=new Array(f);let x=l*u;s===0&&(x=_*y);let w;if(s!==0?Y_[s]?w=Y_[s]*$k[o]:w=Hk[s]:w=sh[a],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const T=r?Xk(n,p,i):null;let S=x*w,C=l,I=u,k=_,F=y,M=op+p;for(let R=0;R<d;R++){const U=n.getUint32(M,i);let Y=M+4;for(let B=0;B<f;B++){let O=g[B];O||(O=g[B]=new Array(d)),O[R]={levelID:R,levelWidth:d>1||s!==0?C:k,levelHeight:d>1||s!==0?I:F,levelBuffer:new Uint8Array(e,Y,S)},Y+=S}M+=U+4,M=M%4!==0?M+4-M%4:M,C=C>>1||1,I=I>>1||1,k=C+m-1&-4,F=I+v-1&-4,S=k*F*w}return s!==0?{uncompressed:g.map(R=>{let U=R[0].levelBuffer,Y=!1;return s===ie.FLOAT?U=new Float32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4):s===ie.UNSIGNED_INT?(Y=!0,U=new Uint32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4)):s===ie.INT&&(Y=!0,U=new Int32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4)),{resource:new tl(U,{width:R[0].levelWidth,height:R[0].levelHeight}),type:s,format:Y?Wk(o):o}}),kvData:T}:{compressed:g.map(R=>new ki(null,{format:a,width:l,height:u,levels:d,levelBuffers:R})),kvData:T}}function Vk(t,e){for(let r=0;r<X_.length;r++)if(e.getUint8(r)!==X_[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Wk(t){switch(t){case G.RGBA:return G.RGBA_INTEGER;case G.RGB:return G.RGB_INTEGER;case G.RG:return G.RG_INTEGER;case G.RED:return G.RED_INTEGER;default:return t}}function Xk(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(op+i,r),o=op+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,h),i+=4+s+a}return n}const Yk={extension:{type:X.LoadParser,priority:Kr.High},name:"loadDDS",test(t){return Ji(t,".dds")},async load(t,e,r){const i=await(await j.ADAPTER.fetch(t)).arrayBuffer(),o=Gk(i).map(a=>{const l=new ae(a,{mipmap:Wr.OFF,alphaMode:Ar.NO_PREMULTIPLIED_ALPHA,resolution:ri(t),...e.data});return Yh(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};re.add(Yk);const Kk={extension:{type:X.LoadParser,priority:Kr.High},name:"loadKTX",test(t){return Ji(t,".ktx")},async load(t,e,r){const i=await(await j.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=jk(t,i),l=s??o,u={mipmap:Wr.OFF,alphaMode:Ar.NO_PREMULTIPLIED_ALPHA,resolution:ri(t),...e.data},h=l.map(f=>{l===o&&Object.assign(u,{type:f.type,format:f.format});const c=new ae(f,u);return c.ktxKeyValueData=a,Yh(c,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};re.add(Kk);const qk={extension:X.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=j.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=j.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};re.add(qk);const Qk=new ue,Zk=4,$o=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&$o._flipY(r,n,i),$o._unpremultiplyAlpha(r);const o=new jI(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&$o._flipY(r,n,i),$o._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof Qi?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const f=s.framebuffer.glFramebuffers[r.CONTEXT_UID];f.blitFramebuffer&&r.framebuffer.bind(f.blitFramebuffer)}}else n=r.resolution,e||(e=Qk,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),l=Math.round(e.height*n),u=new Uint8Array(Zk*a*l),h=r.gl;return h.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,l,h.RGBA,h.UNSIGNED_BYTE,u),o&&(s==null||s.destroy(!0)),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,l=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,l,l+n),t.set(s,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let Cw=$o;Cw.extension={name:"extract",type:X.RendererSystem};re.add(Cw);const oh={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===ot.CIRC){const p=t.shape;r=p.x,n=p.y,o=a=p.radius,i=s=0}else if(t.type===ot.ELIP){const p=t.shape;r=p.x,n=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,v=p.height/2;r=p.x+m,n=p.y+v,o=a=Math.max(0,Math.min(p.radius,Math.min(m,v))),i=m-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let h=0,f=l*4+(i?2:0)+2,c=f,d=u;{const p=i+o,m=s,v=r+p,_=r-p,y=n+m;if(e[h++]=v,e[h++]=y,e[--f]=y,e[--f]=_,s){const g=n-m;e[c++]=_,e[c++]=g,e[--d]=g,e[--d]=v}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),v=i+Math.cos(m)*o,_=s+Math.sin(m)*a,y=r+v,g=r-v,x=n+_,w=n-_;e[h++]=y,e[h++]=x,e[--f]=x,e[--f]=g,e[c++]=g,e[c++]=w,e[--d]=w,e[--d]=y}{const p=i,m=s+a,v=r+p,_=r-p,y=n+m,g=n-m;e[h++]=v,e[h++]=y,e[--d]=g,e[--d]=v,i&&(e[h++]=_,e[h++]=y,e[--d]=g,e[--d]=_)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==ot.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function K_(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const Aw={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){K_(r,!1);const o=[];for(let u=0;u<n.length;u++){const h=n[u];K_(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=cA(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},Jk={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},eD={build(t){oh.build(t)},triangulate(t,e){oh.triangulate(t,e)}};var pr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(pr||{}),Ai=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ai||{});const no={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class q_{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,h=a-e,f=i-r,c=n-e,d=Math.abs(u*c-h*f);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=u*u+h*h,m=f*f+c*c,v=u*f+h*c,_=s*Math.sqrt(p)/d,y=s*Math.sqrt(m)/d,g=_*v/p,x=y*v/m,w=_*c+y*h,T=_*f+y*u,E=h*(y+g),S=u*(y+g),C=c*(_+x),I=f*(_+x),k=Math.atan2(S-T,E-w),F=Math.atan2(I-T,C-w);return{cx:w+e,cy:T+r,radius:s,startAngle:k,endAngle:F,anticlockwise:h*f>c*u}}static arc(e,r,n,i,s,o,a,l,u){const h=a-o,f=no._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/th)*40),c=h/(f*2),d=c*2,p=Math.cos(c),m=Math.sin(c),v=f-1,_=v%1/v;for(let y=0;y<=v;++y){const g=y+_*y,x=c+o+d*g,w=Math.cos(x),T=-Math.sin(x);u.push((p*w+m*T)*s+n,(p*-T+m*w)*s+i)}}}class tD{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class zm{static curveLength(e,r,n,i,s,o,a,l){let h=0,f=0,c=0,d=0,p=0,m=0,v=0,_=0,y=0,g=0,x=0,w=e,T=r;for(let E=1;E<=10;++E)f=E/10,c=f*f,d=c*f,p=1-f,m=p*p,v=m*p,_=v*e+3*m*f*n+3*p*c*s+d*a,y=v*r+3*m*f*i+3*p*c*o+d*l,g=w-_,x=T-y,w=_,T=y,h+=Math.sqrt(g*g+x*x);return h}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const h=no._segmentsCount(zm.curveLength(l,u,e,r,n,i,s,o));let f=0,c=0,d=0,p=0,m=0;a.push(l,u);for(let v=1,_=0;v<=h;++v)_=v/h,f=1-_,c=f*f,d=c*f,p=_*_,m=p*_,a.push(d*l+3*c*_*e+3*f*p*n+m*s,d*u+3*c*_*r+3*f*p*i+m*o)}}function Q_(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,h=t+r*s,f=e+n*s;let c,d;o?(c=n,d=-r):(c=-n,d=r);const p=l+c,m=u+d,v=h+c,_=f+d;return a.push(p,m,v,_),2}function di(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let h=Math.atan2(l,u),f=Math.atan2(i-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let c=h;const d=f-h,p=Math.abs(d),m=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(m)/Math.PI>>0)+1,_=d/v;if(c+=_,a){o.push(t,e,r,n);for(let y=1,g=c;y<v;y++,g+=_)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let y=1,g=c;y<v;y++,g+=_)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(i,s,t,e)}return v*2}function rD(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new ge(n[0],n[1]),a=new ge(n[n.length-2],n[n.length-1]),l=r.type!==ot.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const B=(o.x+a.x)*.5,O=(a.y+o.y)*.5;n.unshift(B,O),n.push(B,O)}const h=e.points,f=n.length/2;let c=n.length;const d=h.length/2,p=s.width/2,m=p*p,v=s.miterLimit*s.miterLimit;let _=n[0],y=n[1],g=n[2],x=n[3],w=0,T=0,E=-(y-x),S=_-g,C=0,I=0,k=Math.sqrt(E*E+S*S);E/=k,S/=k,E*=p,S*=p;const F=s.alignment,M=(1-F)*2,R=F*2;l||(s.cap===Ai.ROUND?c+=di(_-E*(M-R)*.5,y-S*(M-R)*.5,_-E*M,y-S*M,_+E*R,y+S*R,h,!0)+2:s.cap===Ai.SQUARE&&(c+=Q_(_,y,E,S,M,R,!0,h))),h.push(_-E*M,y-S*M,_+E*R,y+S*R);for(let B=1;B<f-1;++B){_=n[(B-1)*2],y=n[(B-1)*2+1],g=n[B*2],x=n[B*2+1],w=n[(B+1)*2],T=n[(B+1)*2+1],E=-(y-x),S=_-g,k=Math.sqrt(E*E+S*S),E/=k,S/=k,E*=p,S*=p,C=-(x-T),I=g-w,k=Math.sqrt(C*C+I*I),C/=k,I/=k,C*=p,I*=p;const O=g-_,z=y-x,P=g-w,$=T-x,Q=O*P+z*$,le=z*P-$*O,oe=le<0;if(Math.abs(le)<.001*Math.abs(Q)){h.push(g-E*M,x-S*M,g+E*R,x+S*R),Q>=0&&(s.join===pr.ROUND?c+=di(g,x,g-E*M,x-S*M,g-C*M,x-I*M,h,!1)+4:c+=2,h.push(g-C*R,x-I*R,g+C*M,x+I*M));continue}const b=(-E+_)*(-S+x)-(-E+g)*(-S+y),A=(-C+w)*(-I+x)-(-C+g)*(-I+T),V=(O*A-P*b)/le,W=($*b-z*A)/le,ne=(V-g)*(V-g)+(W-x)*(W-x),q=g+(V-g)*M,H=x+(W-x)*M,te=g-(V-g)*R,J=x-(W-x)*R,pe=Math.min(O*O+z*z,P*P+$*$),Ve=oe?M:R,Pr=pe+Ve*Ve*m,ts=ne<=Pr;let qr=s.join;if(qr===pr.MITER&&ne/m>v&&(qr=pr.BEVEL),ts)switch(qr){case pr.MITER:{h.push(q,H,te,J);break}case pr.BEVEL:{oe?h.push(q,H,g+E*R,x+S*R,q,H,g+C*R,x+I*R):h.push(g-E*M,x-S*M,te,J,g-C*M,x-I*M,te,J),c+=2;break}case pr.ROUND:{oe?(h.push(q,H,g+E*R,x+S*R),c+=di(g,x,g+E*R,x+S*R,g+C*R,x+I*R,h,!0)+4,h.push(q,H,g+C*R,x+I*R)):(h.push(g-E*M,x-S*M,te,J),c+=di(g,x,g-E*M,x-S*M,g-C*M,x-I*M,h,!1)+4,h.push(g-C*M,x-I*M,te,J));break}}else{switch(h.push(g-E*M,x-S*M,g+E*R,x+S*R),qr){case pr.MITER:{oe?h.push(te,J,te,J):h.push(q,H,q,H),c+=2;break}case pr.ROUND:{oe?c+=di(g,x,g+E*R,x+S*R,g+C*R,x+I*R,h,!0)+2:c+=di(g,x,g-E*M,x-S*M,g-C*M,x-I*M,h,!1)+2;break}}h.push(g-C*M,x-I*M,g+C*R,x+I*R),c+=2}}_=n[(f-2)*2],y=n[(f-2)*2+1],g=n[(f-1)*2],x=n[(f-1)*2+1],E=-(y-x),S=_-g,k=Math.sqrt(E*E+S*S),E/=k,S/=k,E*=p,S*=p,h.push(g-E*M,x-S*M,g+E*R,x+S*R),l||(s.cap===Ai.ROUND?c+=di(g-E*(M-R)*.5,x-S*(M-R)*.5,g-E*M,x-S*M,g+E*R,x+S*R,h,!1)+2:s.cap===Ai.SQUARE&&(c+=Q_(g,x,E,S,M,R,!1,h)));const U=e.indices,Y=no.epsilon*no.epsilon;for(let B=d;B<c+d-2;++B)_=h[B*2],y=h[B*2+1],g=h[(B+1)*2],x=h[(B+1)*2+1],w=h[(B+2)*2],T=h[(B+2)*2+1],!(Math.abs(_*(x-T)+g*(T-y)+w*(y-x))<Y)&&U.push(B,B+1,B+2)}function nD(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==ot.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let h=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,u)}function Z_(t,e){t.lineStyle.native?nD(t,e):rD(t,e)}class $m{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,h=2*i-2*r,f=4*(a*a+l*l),c=4*(a*u+l*h),d=u*u+h*h,p=2*Math.sqrt(f+c+d),m=Math.sqrt(f),v=2*f*m,_=2*Math.sqrt(d),y=c/m;return(v*p+m*c*(p-_)+(4*d*f-c*c)*Math.log((2*m+y+p)/(y+_)))/(4*v)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=no._segmentsCount($m.curveLength(o,a,e,r,n,i));let u=0,h=0;for(let f=1;f<=l;++f){const c=f/l;u=o+(e-o)*c,h=a+(r-a)*c,s.push(u+(e+(n-e)*c-u)*c,h+(r+(i-r)*c-h)*c)}}}const yf={[ot.POLY]:Aw,[ot.CIRC]:oh,[ot.ELIP]:oh,[ot.RECT]:Jk,[ot.RREC]:eD},J_=[],Hl=[];class ah{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new ah(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const as=new ge,Pw=class extends L1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new rh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Hl.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),J_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new ah(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new ah(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,as):as.copyFrom(t),n.shape.contains(as.x,as.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(as.x,as.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,h=l.lineStyle;yf[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||h.visible)&&this.processHoles(l.holes);for(let c=0;c<2;c++){const d=c===0?u:h;if(!d.visible)continue;const p=d.texture.baseTexture,m=this.indices.length,v=this.points.length/2;p.wrapMode=Kn.REPEAT,c===0?this.processFill(l):this.processLine(l);const _=this.points.length/2-v;_!==0&&(r&&!this._compareStyles(n,d)&&(r.end(m,v),r=null),r||(r=J_.pop()||new tD,r.begin(d,m,v),this.batches.push(r),n=d),this.addUvs(this.points,t,d.texture,v,_,d.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<Pw.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ae._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Hl.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Hl.pop();n||(n=new Xd,n.texArray=new Kd),n.texArray.count=0,n.start=0,n.size=0,n.type=Ur.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Ur.TRIANGLES,u=0;this.drawCalls.push(n);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],c=8,d=f.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?Ur.LINES:Ur.TRIANGLES,s=null,i=c,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===c&&(t++,i=0,n.size>0&&(n=Hl.pop(),n||(n=new Xd,n.texArray=new Kd),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=Kn.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=f.size,u+=f.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,f.attribSize,f.attribStart),this.addTextureIds(r,o,f.attribSize,f.attribStart)}ae._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Aw.triangulate(t,this):yf[t.type].triangulate(t,this)}processLine(t){Z_(t,this);for(let e=0;e<t.holes.length;e++)Z_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];yf[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=ve.shared.setValue(e).toLittleEndianNumber(),o=ve.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,l=r.frame;for(;o<i;){let h=t[(n+o)*2],f=t[(n+o)*2+1];if(s){const c=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=c}o++,e.push(h/l.width,f/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let h=a.x/a.width,f=a.y/a.height,c=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));h-=c,f-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+f)*u}};let Rw=Pw;Rw.BATCHABLE_SIZE=100;class qh{constructor(){this.color=16777215,this.alpha=1,this.texture=Z.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new qh;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Z.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Hm extends qh{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ai.BUTT,this.join=pr.MITER,this.miterLimit=10}clone(){const e=new Hm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const _f={},pu=class extends wt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new qh,this._lineStyle=new Hm,this._matrix=null,this._holeMode=!1,this.state=Tn.for2d(),this._geometry=t||new Rw,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ve(16777215),this.blendMode=se.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new pu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:Z.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ai.BUTT,join:pr.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new $s,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new $s,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),$m.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),zm.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=q_.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:h,endAngle:f,anticlockwise:c}=o;this.arc(a,l,u,h,f,c)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=th:s&&n<=i&&(n+=th),i-n===0)return this;const a=t+Math.cos(n)*r,l=e+Math.sin(n)*r,u=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),c=Math.abs(h[h.length-1]-l);f<u&&c<u||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return q_.arc(a,l,t,e,r,n,i,s,h),this}beginFill(t=0,e){return this.beginTextureFill({texture:Z.WHITE,color:t,alpha:e})}normalizeColor(t){const e=ve.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:Z.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new ue(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new Bm(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Nm(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Fm(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new $s(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ot.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:ve.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,ve.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!_f[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ce,default:Tr.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;_f[r]=new Hr(o,s)}e=_f[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,pu._TEMP_POINT),this._geometry.containsPoint(pu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=ve.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const c=l[f],d=l[f+1];u[h++]=r*c+i*d+o,u[h++]=s*d+n*c+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let qn=pu;qn.curves=no;qn._TEMP_POINT=new ge;class iD{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const vf=new ge,e0=new $s,Iw=class extends wt{constructor(t,e,r,n=Ur.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Tn.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=j.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ur.TRIANGLES&&e.length<Iw.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,h=i.ty,f=this.vertexData;for(let c=0;c<f.length/2;c++){const d=r[c*2],p=r[c*2+1];f[c*2]=s*d+a*p+u,f[c*2+1]=o*d+l*p+h}if(this._roundPixels){const c=j.RESOLUTION;for(let d=0;d<f.length;++d)f[d]=Math.round(f[d]*c)/c}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new iD(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,vf);const e=this.geometry.getBuffer("aVertexPosition").data,r=e0.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,l=n[o+1]*2,u=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[u],r[5]=e[u+1],e0.contains(vf.x,vf.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let ap=Iw;ap.BATCHABLE_SIZE=100;class sD extends ni{constructor(e,r,n){super();const i=new Ge(e),s=new Ge(r,!0),o=new Ge(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ie.FLOAT).addAttribute("aTextureCoord",s,2,!1,ie.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var oD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,aD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class t0 extends Hr{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ce.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||vr.from(aD,oD),n),this._colorDirty=!1,this.uvMatrix=new ew(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ve(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;ve.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class r0{constructor(e,r,n){this.geometry=new ni,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ie.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ge($I(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ge(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ge(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ie.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ie.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ie.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ie.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var lD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,uD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Mw extends Hh{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ce,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ie.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Hr.from(uD,lD,{}),this.state=Tn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=O1(e.blendMode,u),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=ve.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let c=!1;for(let d=0,p=0;d<o;d+=i,p+=1){let m=o-d;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[p];v.uploadDynamic(r,d,m);const _=e._bufferUpdateIDs[p]||0;c=c||v._updateID<_,c&&(v._updateID=e._updateID,v.uploadStatic(r,d,m)),s.geometry.bind(v.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new r0(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new r0(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,h=0;for(let f=0;f<n;++f){const c=e[r+f],d=c._texture,p=c.scale.x,m=c.scale.y,v=d.trim,_=d.orig;v?(l=v.x-c.anchor.x*_.width,a=l+v.width,h=v.y-c.anchor.y*_.height,u=h+v.height):(a=_.width*(1-c.anchor.x),l=_.width*-c.anchor.x,u=_.height*(1-c.anchor.y),h=_.height*-c.anchor.y),i[o]=l*p,i[o+1]=h*m,i[o+s]=a*p,i[o+s+1]=h*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=ve.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Mw.extension={name:"particle",type:X.RendererPlugin};re.add(Mw);var Qh=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Qh||{});const jl={willReadFrequently:!0},ee=class{static get experimentalLetterSpacingSupported(){let t=ee._experimentalLetterSpacingSupported;if(t!==void 0){const e=j.ADAPTER.getCanvasRenderingContext2D().prototype;t=ee._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,n=ee._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=ee.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",jl);o.font=i;const l=(r?ee.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=ee._measureText(l[p],e.letterSpacing,o);u[p]=m,h=Math.max(h,m)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const c=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(c,s.fontSize+e.strokeThickness*2)+(l.length-1)*(c+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new ee(t,e,f,d,l,u,c+e.leading,h,s)}static _measureText(t,e,r){let n=!1;ee.experimentalLetterSpacingSupported&&(ee.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(ee.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=ee._canvas){const n=r.getContext("2d",jl);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,h=ee.collapseSpaces(u),f=ee.collapseNewlines(u);let c=!h;const d=e.wordWrapWidth+l,p=ee.tokenize(t);for(let m=0;m<p.length;m++){let v=p[m];if(ee.isNewline(v)){if(!f){o+=ee.addLine(s),c=!h,s="",i=0;continue}v=" "}if(h){const y=ee.isBreakingSpace(v),g=ee.isBreakingSpace(s[s.length-1]);if(y&&g)continue}const _=ee.getFromCache(v,l,a,n);if(_>d)if(s!==""&&(o+=ee.addLine(s),s="",i=0),ee.canBreakWords(v,e.breakWords)){const y=ee.wordWrapSplit(v);for(let g=0;g<y.length;g++){let x=y[g],w=x,T=1;for(;y[g+T];){const S=y[g+T];if(!ee.canBreakChars(w,S,v,g,e.breakWords))x+=S;else break;w=S,T++}g+=T-1;const E=ee.getFromCache(x,l,a,n);E+i>d&&(o+=ee.addLine(s),c=!1,s="",i=0),s+=x,i+=E}}else{s.length>0&&(o+=ee.addLine(s),s="",i=0);const y=m===p.length-1;o+=ee.addLine(v,!y),c=!1,s="",i=0}else _+i>d&&(c=!1,o+=ee.addLine(s),s="",i=0),(s.length>0||!ee.isBreakingSpace(v)||c)&&(s+=v,i+=_)}return o+=ee.addLine(s,!1),o}static addLine(t,e=!0){return t=ee.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=ee._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!ee.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ee._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ee._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(ee.isBreakingSpace(i,s)||ee.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return ee.graphemeSegmenter(t)}static measureFont(t){if(ee._fonts[t])return ee._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=ee._canvas,n=ee._context;n.font=t;const i=ee.METRICS_STRING+ee.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(ee.BASELINE_SYMBOL).width);const a=Math.ceil(ee.HEIGHT_MULTIPLIER*o);if(o=o*ee.BASELINE_MULTIPLIER|0,s===0||a===0)return ee._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const l=n.getImageData(0,0,s,a).data,u=l.length,h=s*4;let f=0,c=0,d=!1;for(f=0;f<o;++f){for(let p=0;p<h;p+=4)if(l[c+p]!==255){d=!0;break}if(!d)c+=h;else break}for(e.ascent=o-f,c=u-h,d=!1,f=a;f>o;--f){for(let p=0;p<h;p+=4)if(l[c+p]!==255){d=!0;break}if(!d)c-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,ee._fonts[t]=e,e}static clearMetrics(t=""){t?delete ee._fonts[t]:ee._fonts={}}static get _canvas(){if(!ee.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",jl);if(r!=null&&r.measureText)return ee.__canvas=e,e;t=j.ADAPTER.createCanvas()}catch{t=j.ADAPTER.createCanvas()}t.width=t.height=10,ee.__canvas=t}return ee.__canvas}static get _context(){return ee.__context||(ee.__context=ee._canvas.getContext("2d",jl)),ee.__context}};let it=ee;it.METRICS_STRING="|ÉqÅ";it.BASELINE_SYMBOL="M";it.BASELINE_MULTIPLIER=1.4;it.HEIGHT_MULTIPLIER=2;it.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();it.experimentalLetterSpacing=!1;it._fonts={};it._newlines=[10,13];it._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const hD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ho=class{constructor(t){this.styleID=0,this.reset(),wf(this,t,t)}clone(){const t={};return wf(t,this,Ho.defaultStyle),new Ho(t)}reset(){wf(this,Ho.defaultStyle,Ho.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=xf(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=xf(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){cD(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=xf(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!hD.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let vn=Ho;vn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Qh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function xf(t){const e=ve.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function cD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function wf(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const fD={texture:!0,children:!1,baseTexture:!0},lp=class extends Zi{constructor(t,e,r){let n=!1;r||(r=j.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=Z.from(r);i.orig=new ue,i.trim=new ue,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=lp.defaultResolution??j.RESOLUTION,this._autoResolution=lp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return it.experimentalLetterSpacing}static set experimentalLetterSpacing(t){fe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),it.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=it.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let f,c;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const m=e.dropShadow&&p===0,v=m?Math.ceil(Math.max(1,s)+e.padding*2):0,_=v*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,x=e.dropShadowBlur*this._resolution,w=e.dropShadowDistance*this._resolution;r.shadowColor=ve.shared.setValue(g).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=x,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*w,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*w+_}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let y=(a-h.fontSize)/2;a-h.fontSize<0&&(y=0);for(let g=0;g<o.length;g++)f=e.strokeThickness/2,c=e.strokeThickness/2+g*a+h.ascent+y,e.align==="right"?f+=u-l[g]:e.align==="center"&&(f+=(u-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],f+e.padding,c+e.padding-v,!0),e.fill&&this.drawLetterSpacing(o[g],f+e.padding,c+e.padding-v)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(it.experimentalLetterSpacingSupported&&(it.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=it.graphemeSegmenter(t);let u=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const c=l[f];n?this.context.strokeText(c,a,r):this.context.fillText(c,a,r);let d="";for(let p=f+1;p<l.length;++p)d+=l[p];h=this.context.measureText(d).width,a+=u-h+s,u=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=WI(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=n.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=u.length+1;for(let c=1;c<f;++c)h.push(c/f)}if(u.unshift(n[0]),h.unshift(0),u.push(n[n.length-1]),h.push(1),t.fillGradientType===Qh.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=r.fontProperties.fontSize+t.strokeThickness;for(let c=0;c<e.length;c++){const d=r.lineHeight*(c-1)+f,p=r.lineHeight*c;let m=p;c>0&&d>p&&(m=(p+d)/2);const v=p+f,_=r.lineHeight*(c+1);let y=v;c+1<e.length&&_<v&&(y=(v+_)/2);const g=(y-m)/l;for(let x=0;x<u.length;x++){let w=0;typeof h[x]=="number"?w=h[x]:w=x/u.length;let T=Math.min(1,Math.max(0,m/l+w*g));T=Number(T.toFixed(5)),i.addColorStop(T,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=u.length+1;let c=1;for(let d=0;d<u.length;d++){let p;typeof h[d]=="number"?p=h[d]:p=c/f,i.addColorStop(p,u[d]),c++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},fD,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Nn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Nn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof vn?this._style=t:this._style=new vn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Zh=lp;Zh.defaultAutoResolution=!0;class dD{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function pD(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Z){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function mD(t,e){if(t.baseTexture instanceof ae){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function gD(t,e){if(t._texture&&t._texture instanceof Z){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function yD(t,e){return e instanceof Zh?(e.updateText(!0),!0):!1}function _D(t,e){if(e instanceof vn){const r=e.toFontString();return it.measureFont(r),!0}return!1}function vD(t,e){if(t instanceof Zh){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function xD(t,e){return t instanceof vn?(e.includes(t)||e.push(t),!0):!1}const kw=class{constructor(t){this.limiter=new dD(kw.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(vD),this.registerFindHook(xD),this.registerFindHook(pD),this.registerFindHook(mD),this.registerFindHook(gD),this.registerUploadHook(yD),this.registerUploadHook(_D)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,dt.system.addOnce(this.tick,this,ji.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)dt.system.addOnce(this.tick,this,ji.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof wt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&dt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let lh=kw;lh.uploadsPerFrame=4;Object.defineProperties(j,{UPLOADS_PER_FRAME:{get(){return lh.uploadsPerFrame},set(t){fe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),lh.uploadsPerFrame=t}}});function Dw(t,e){return e instanceof ae?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function wD(t,e){if(!(e instanceof qn))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Dw(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function ED(t,e){return t instanceof qn?(e.push(t),!0):!1}class Ow extends lh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(ED),this.registerUploadHook(Dw),this.registerUploadHook(wD)}}Ow.extension={name:"prepare",type:X.RendererSystem};re.add(Ow);var SD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,TD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,bD=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,n0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,CD=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Vl=new Ce;class Nw extends Hh{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new q1,this.state=Tn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Hr.from(n0,CD,r),this.shader=e.context.webGLVersion>1?Hr.from(TD,SD,r):Hr.from(n0,bD,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let c=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;c&&(l._glTextures[r.CONTEXT_UID]?c=l.wrapMode!==Kn.CLAMP:l.wrapMode===Kn.CLAMP&&(l.wrapMode=Kn.REPEAT));const d=c?this.simpleShader:this.shader,p=a.width,m=a.height,v=e._width,_=e._height;Vl.set(h.a*p/v,h.b*p/_,h.c*m/v,h.d*m/_,h.tx/v,h.ty/_),Vl.invert(),c?Vl.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=Vl.toArray(!0),d.uniforms.uColor=ve.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(n),this.state.blendMode=O1(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Nw.extension={name:"tilingSprite",type:X.RendererPlugin};re.add(Nw);const jo=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof Z?t:null,this.baseTexture=t instanceof ae?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=ri(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=jo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=jo.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new ue(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new ue(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new ue(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new ue(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Z(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor,i.borders),Z.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*jo.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*jo.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let up=jo;up.BATCH_SIZE=1e3;const AD=["jpg","png","jpeg","avif","webp"];function Fw(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=mt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Fw([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const PD={extension:X.Asset,cache:{test:t=>t instanceof up,getCacheableAssets:(t,e)=>Fw(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&AD.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=j.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:X.LoadParser,priority:Kr.Normal},async testParse(t,e){return mt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,h;let n=mt.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=sp(i,e.src);const o=(await r.load([i]))[i],a=new up(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const f=[];for(const d of l){if(typeof d!="string")continue;let p=n+d;(h=e.data)!=null&&h.ignoreMultiPack||(p=sp(p,e.src),f.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const c=await Promise.all(f);a.linkedSheets=c,c.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};re.add(PD);class uh{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class mu{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const h=a[u].split("="),f=h[0],c=h[1].replace(/"/gm,""),d=parseFloat(c),p=isNaN(d)?c:d;l[f]=p}n[o].push(l)}const i=new uh;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class hp{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new uh,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const h=o[u];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class cp{static test(e){return typeof e=="string"&&e.includes("<font>")?hp.test(j.ADAPTER.parseXML(e)):!1}static parse(e){return hp.parse(j.ADAPTER.parseXML(e))}}const Ef=[mu,hp,cp];function RD(t){for(let e=0;e<Ef.length;e++)if(Ef[e].test(t))return Ef[e];return null}function ID(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-l-u*2,f=t.height/n-l-u*2,c=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=c.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(c.unshift(o[0]),d.unshift(0),c.push(o[o.length-1]),d.push(1),r.fillGradientType===Qh.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,u,h/2,f+u);let p=0;const v=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let _=0;_<i.length;_++){const y=s.lineHeight*_;for(let g=0;g<c.length;g++){let x=0;typeof d[g]=="number"?x=d[g]:x=g/c.length;const w=y/f+x*v;let T=Math.max(p,w);T=Math.min(T,1),a.addColorStop(T,c[g]),p=T}}}else{a=e.createLinearGradient(u,f/2,h+u,f/2);const p=c.length+1;let m=1;for(let v=0;v<c.length;v++){let _;typeof d[v]=="number"?_=d[v]:_=m/p,a.addColorStop(_,c[v]),m++}}return a}function MD(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=ID(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,c=o.dropShadowBlur*s,d=o.dropShadowDistance*s;e.shadowColor=ve.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=c,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function gu(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Bw(t){return Array.from?Array.from(t):t.split("")}function kD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Bw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const fr=class{constructor(t,e,r){var u;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=ri(s.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:c}=t.page[h];l[f]=e instanceof Array?e[h]:e[c],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Ar.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=Wr.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:c}=t.char[h];let{x:d,y:p,width:m,height:v,xoffset:_,yoffset:y,xadvance:g}=t.char[h];d/=a,p/=a,m/=a,v/=a,_/=a,y/=a,g/=a;const x=new ue(d+l[c].frame.x/a,p+l[c].frame.y/a,m,v);this.chars[f]={xOffset:_,yOffset:y,xAdvance:g,kerning:{},texture:new Z(l[c].baseTexture,x),page:c}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:c,amount:d}=t.kerning[h];f/=a,c/=a,d/=a,this.chars[c]&&(this.chars[c].kerning[f]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof uh)n=t;else{const s=RD(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof Z&&(e=[e]);const i=new fr(n,e,r);return fr.available[i.font]=i,i}static uninstall(t){const e=fr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete fr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},fr.defaultOptions,r),u=kD(n),h=e instanceof vn?e:new vn(e),f=o,c=new uh;c.info[0]={face:h.fontFamily,size:h.fontSize},c.common[0]={lineHeight:h.fontSize};let d=0,p=0,m,v,_,y=0;const g=[];for(let w=0;w<u.length;w++){m||(m=j.ADAPTER.createCanvas(),m.width=o,m.height=a,v=m.getContext("2d"),_=new ae(m,{resolution:s,...l}),g.push(new Z(_)),c.page.push({id:g.length-1,file:""}));const T=u[w],E=it.measureText(T,h,!1,m),S=E.width,C=Math.ceil(E.height),I=Math.ceil((h.fontStyle==="italic"?2:1)*S);if(p>=a-C*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${T}')`);--w,m=null,v=null,_=null,p=0,d=0,y=0;continue}if(y=Math.max(C+E.fontProperties.descent,y),I*s+d>=f){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${T}')`);--w,p+=y*s,p=Math.ceil(p),d=0,y=0;continue}MD(m,v,E,d,p,s,h);const k=gu(E.text);c.char.push({id:k,page:g.length-1,x:d/s,y:p/s,width:I,height:C,xoffset:0,yoffset:0,xadvance:S-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),d+=(I+2*i)*s,d=Math.ceil(d)}for(let w=0,T=u.length;w<T;w++){const E=u[w];for(let S=0;S<T;S++){const C=u[S],I=v.measureText(E).width,k=v.measureText(C).width,M=v.measureText(E+C).width-(I+k);M&&c.kerning.push({first:gu(E),second:gu(C),amount:M})}}const x=new fr(c,g,!0);return fr.available[t]!==void 0&&fr.uninstall(t),fr.available[t]=x,x}};let Tt=fr;Tt.ALPHA=[["a","z"],["A","Z"]," "];Tt.NUMERIC=[["0","9"]];Tt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Tt.ASCII=[[" ","~"]];Tt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:fr.ALPHANUMERIC};Tt.available={};var DD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,OD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const i0=[],s0=[],o0=[],Lw=class extends wt{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},Lw.styleDefaults,e);if(!Tt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new ve(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Fn(()=>{this.dirty=!0},this,0,0),this._roundPixels=j.ROUND_PIXELS,this.dirty=!0,this._resolution=j.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var I;const t=Tt.available[this._fontName],e=this.fontSize,r=e/t.size,n=new ge,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=Bw(a),u=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?i0:s0;let f=null,c=0,d=0,p=0,m=-1,v=0,_=0,y=0,g=0;for(let k=0;k<l.length;k++){const F=l[k],M=gu(F);if(/(?:\s)/.test(F)&&(m=k,v=c,g++),F==="\r"||F===`
`){s.push(c),o.push(-1),d=Math.max(d,c),++p,++_,n.x=0,n.y+=t.lineHeight,f=null,g=0;continue}const R=t.chars[M];if(!R)continue;f&&R.kerning[f]&&(n.x+=R.kerning[f]);const U=o0.pop()||{texture:Z.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ge};U.texture=R.texture,U.line=p,U.charCode=M,U.position.x=Math.round(n.x+R.xOffset+this._letterSpacing/2),U.position.y=Math.round(n.y+R.yOffset),U.prevSpaces=g,i.push(U),c=U.position.x+Math.max(R.xAdvance-R.xOffset,R.texture.orig.width),n.x+=R.xAdvance+this._letterSpacing,y=Math.max(y,R.yOffset+R.texture.height),f=M,m!==-1&&u>0&&n.x>u&&(++_,zs(i,1+m-_,1+k-m),k=m,m=-1,s.push(v),o.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,v),p++,n.x=0,n.y+=t.lineHeight,f=null,g=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(c=v),s.push(c),d=Math.max(d,c),o.push(-1));const w=[];for(let k=0;k<=p;k++){let F=0;this._align==="right"?F=d-s[k]:this._align==="center"?F=(d-s[k])/2:this._align==="justify"&&(F=o[k]<0?0:(d-s[k])/o[k]),w.push(F)}const T=i.length,E={},S=[],C=this._activePagesMeshData;h.push(...C);for(let k=0;k<T;k++){const F=i[k].texture,M=F.baseTexture.uid;if(!E[M]){let R=h.pop();if(!R){const Y=new sD;let B,O;t.distanceFieldType==="none"?(B=new t0(Z.EMPTY),O=se.NORMAL):(B=new t0(Z.EMPTY,{program:vr.from(OD,DD),uniforms:{uFWidth:0}}),O=se.NORMAL_NPM);const z=new ap(Y,B);z.blendMode=O,R={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:z,vertices:null,uvs:null,indices:null}}R.index=0,R.indexCount=0,R.vertexCount=0,R.uvsCount=0,R.total=0;const{_textureCache:U}=this;U[M]=U[M]||new Z(F.baseTexture),R.mesh.texture=U[M],R.mesh.tint=this._tintColor.value,S.push(R),E[M]=R}E[M].total++}for(let k=0;k<C.length;k++)S.includes(C[k])||this.removeChild(C[k].mesh);for(let k=0;k<S.length;k++)S[k].mesh.parent!==this&&this.addChild(S[k].mesh);this._activePagesMeshData=S;for(const k in E){const F=E[k],M=F.total;if(!(((I=F.indices)==null?void 0:I.length)>6*M)||F.vertices.length<ap.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*M),F.uvs=new Float32Array(4*2*M),F.indices=new Uint16Array(6*M);else{const R=F.total,U=F.vertices;for(let Y=R*4*2;Y<U.length;Y++)U[Y]=0}F.mesh.size=6*M}for(let k=0;k<T;k++){const F=i[k];let M=F.position.x+w[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(M=Math.round(M));const R=M*r,U=F.position.y*r,Y=F.texture,B=E[Y.baseTexture.uid],O=Y.frame,z=Y._uvs,P=B.index++;B.indices[P*6+0]=0+P*4,B.indices[P*6+1]=1+P*4,B.indices[P*6+2]=2+P*4,B.indices[P*6+3]=0+P*4,B.indices[P*6+4]=2+P*4,B.indices[P*6+5]=3+P*4,B.vertices[P*8+0]=R,B.vertices[P*8+1]=U,B.vertices[P*8+2]=R+O.width*r,B.vertices[P*8+3]=U,B.vertices[P*8+4]=R+O.width*r,B.vertices[P*8+5]=U+O.height*r,B.vertices[P*8+6]=R,B.vertices[P*8+7]=U+O.height*r,B.uvs[P*8+0]=z.x0,B.uvs[P*8+1]=z.y0,B.uvs[P*8+2]=z.x1,B.uvs[P*8+3]=z.y1,B.uvs[P*8+4]=z.x2,B.uvs[P*8+5]=z.y2,B.uvs[P*8+6]=z.x3,B.uvs[P*8+7]=z.y3}this._textWidth=d*r,this._textHeight=(n.y+t.lineHeight)*r;for(const k in E){const F=E[k];if(this.anchor.x!==0||this.anchor.y!==0){let Y=0;const B=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let z=0;z<F.total;z++)F.vertices[Y++]-=B,F.vertices[Y++]-=O,F.vertices[Y++]-=B,F.vertices[Y++]-=O,F.vertices[Y++]-=B,F.vertices[Y++]-=O,F.vertices[Y++]-=B,F.vertices[Y++]-=O}this._maxLineHeight=y*r;const M=F.mesh.geometry.getBuffer("aVertexPosition"),R=F.mesh.geometry.getBuffer("aTextureCoord"),U=F.mesh.geometry.getIndex();M.data=F.vertices,R.data=F.uvs,U.data=F.indices,M.update(),R.update(),U.update()}for(let k=0;k<i.length;k++)o0.push(i[k]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Tt.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(u))/2,f=this.fontSize/n,c=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=h*e*f*c}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Tt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Tt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Tt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=Tt.available[this._fontName].distanceFieldType==="none"?i0:s0;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Z.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let ND=Lw;ND.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const FD=[".xml",".fnt"],BD={extension:{type:X.LoadParser,priority:Kr.Normal},name:"loadBitmapFont",test(t){return FD.includes(mt.extname(t).toLowerCase())},async testParse(t){return mu.test(t)||cp.test(t)},async parse(t,e,r){const n=mu.test(t)?mu.parse(t):cp.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const h=s[u].file;let f=mt.join(mt.dirname(i),h);f=sp(f,i),o.push(f)}const a=await r.load(o),l=o.map(u=>a[u]);return Tt.install(n,l,!0)},async load(t,e){return(await j.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};re.add(BD);const ds=class extends vn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new ds(Object.keys(ds.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete ds.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=ds;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return j.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:mt.basename(t,mt.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=GI(t)),typeof t=="number"?UI(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,ds.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=j.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let la=ds;la.availableFonts={};la.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const ps=class extends Zi{constructor(t="",e={}){super(Z.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=Z.from(r,{scaleMode:j.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new ue,n.trim=new ue,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),l=document.createElementNS(s,"div"),u=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=ps.defaultMaxWidth,this.maxHeight=ps.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=r,this._loadImage=new Image,this._autoResolution=ps.defaultAutoResolution,this._resolution=ps.defaultResolution??j.RESOLUTION,this.text=t,this.style=e}measureText(t){var a,l;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(a=this._style)==null?void 0:a.toCSS(n)}),this._styleElement.textContent=(l=this._style)==null?void 0:l.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},ps.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Nn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Nn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof la?(this.ownsStyle=!1,this._style=t):t instanceof vn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=la.from(t)):(this.ownsStyle=!0,this._style=new la(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let Jh=ps;Jh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};Jh.defaultMaxWidth=2024;Jh.defaultMaxHeight=2024;Jh.defaultAutoResolution=!0;function rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var zt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},io={duration:.5,overwrite:!1,delay:0},jm,gt,He,er=1e8,we=1/er,fp=Math.PI*2,LD=fp/4,UD=0,Gw=Math.sqrt,GD=Math.cos,zD=Math.sin,tt=function(e){return typeof e=="string"},Le=function(e){return typeof e=="function"},xn=function(e){return typeof e=="number"},Vm=function(e){return typeof e>"u"},Xr=function(e){return typeof e=="object"},Mt=function(e){return e!==!1},zw=function(){return typeof window<"u"},Wl=function(e){return Le(e)||tt(e)},$w=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},yt=Array.isArray,dp=/(?:-?\.?\d|\.)+/gi,Hw=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Rs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Sf=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,jw=/[+-]=-?[.\d]+/,Vw=/[^,'"\[\]\s]+/gi,$D=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Re,Yt,pp,Wm,Ht={},hh={},Ww,Xw=function(e){return(hh=Vi(e,Ht))&&jt},Xm=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},ch=function(e,r){return!r&&console.warn(e)},Yw=function(e,r){return e&&(Ht[e]=r)&&hh&&(hh[e]=r)||Ht},Ba=function(){return 0},HD={suppressEvents:!0,isStart:!0,kill:!1},yu={suppressEvents:!0,kill:!1},jD={suppressEvents:!0},Ym={},Qn=[],mp={},Kw,Bt={},Tf={},a0=30,_u=[],Km="",qm=function(e){var r=e[0],n,i;if(Xr(r)||Le(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(i=_u.length;i--&&!_u[i].targetTest(r););n=_u[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new yE(e[i],n)))||e.splice(i,1);return e},Di=function(e){return e._gsap||qm(tr(e))[0]._gsap},qw=function(e,r,n){return(n=e[r])&&Le(n)?e[r]():Vm(n)&&e.getAttribute&&e.getAttribute(r)||n},kt=function(e,r){return(e=e.split(",")).forEach(r)||e},Ue=function(e){return Math.round(e*1e5)/1e5||0},st=function(e){return Math.round(e*1e7)/1e7||0},js=function(e,r){var n=r.charAt(0),i=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},VD=function(e,r){for(var n=r.length,i=0;e.indexOf(r[i])<0&&++i<n;);return i<n},fh=function(){var e=Qn.length,r=Qn.slice(0),n,i;for(mp={},Qn.length=0,n=0;n<e;n++)i=r[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Qw=function(e,r,n,i){Qn.length&&!gt&&fh(),e.render(r,n,gt&&r<0&&(e._initted||e._startAt)),Qn.length&&!gt&&fh()},Zw=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(Vw).length<2?r:tt(e)?e.trim():e},Jw=function(e){return e},or=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},WD=function(e){return function(r,n){for(var i in n)i in r||i==="duration"&&e||i==="ease"||(r[i]=n[i])}},Vi=function(e,r){for(var n in r)e[n]=r[n];return e},l0=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Xr(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},dh=function(e,r){var n={},i;for(i in e)i in r||(n[i]=e[i]);return n},ua=function(e){var r=e.parent||Re,n=e.keyframes?WD(yt(e.keyframes)):or;if(Mt(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},XD=function(e,r){for(var n=e.length,i=n===r.length;i&&n--&&e[n]===r[n];);return n<0},eE=function(e,r,n,i,s){var o=e[i],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[i]=r,r._prev=o,r.parent=r._dp=e,r},ec=function(e,r,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=r._prev,o=r._next;s?s._next=o:e[n]===r&&(e[n]=o),o?o._prev=s:e[i]===r&&(e[i]=s),r._next=r._prev=r.parent=null},si=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Oi=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},YD=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},gp=function(e,r,n,i){return e._startAt&&(gt?e._startAt.revert(yu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,i))},KD=function t(e){return!e||e._ts&&t(e.parent)},u0=function(e){return e._repeat?so(e._tTime,e=e.duration()+e._rDelay)*e:0},so=function(e,r){var n=Math.floor(e/=r);return e&&n===e?n-1:n},ph=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},tc=function(e){return e._end=st(e._start+(e._tDur/Math.abs(e._ts||e._rts||we)||0))},rc=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=st(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),tc(e),n._dirty||Oi(n,e)),e},tE=function(e,r){var n;if((r._time||r._initted&&!r._dur)&&(n=ph(e.rawTime(),r),(!r._dur||il(0,r.totalDuration(),n)-r._tTime>we)&&r.render(n,!0)),Oi(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-we}},Lr=function(e,r,n,i){return r.parent&&si(r),r._start=st((xn(n)?n:n||e!==Re?Xt(e,n,r):e._time)+r._delay),r._end=st(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),eE(e,r,"_first","_last",e._sort?"_start":0),yp(r)||(e._recent=r),i||tE(e,r),e._ts<0&&rc(e,e._tTime),e},rE=function(e,r){return(Ht.ScrollTrigger||Xm("scrollTrigger",r))&&Ht.ScrollTrigger.create(r,e)},nE=function(e,r,n,i,s){if(Zm(e,r,s),!e._initted)return 1;if(!n&&e._pt&&!gt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Kw!==Lt.frame)return Qn.push(e),e._lazy=[s,i],1},qD=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},yp=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},QD=function(e,r,n,i){var s=e.ratio,o=r<0||!r&&(!e._start&&qD(e)&&!(!e._initted&&yp(e))||(e._ts<0||e._dp._ts<0)&&!yp(e))?0:1,a=e._rDelay,l=0,u,h,f;if(a&&e._repeat&&(l=il(0,e._tDur,r),h=so(l,a),e._yoyo&&h&1&&(o=1-o),h!==so(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||gt||i||e._zTime===we||!r&&e._zTime){if(!e._initted&&nE(e,r,i,n,l))return;for(f=e._zTime,e._zTime=r||(n?we:0),n||(n=r&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;r<0&&gp(e,r,n,!0),e._onUpdate&&!n&&rr(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&rr(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&si(e,1),!n&&!gt&&(rr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},ZD=function(e,r,n){var i;if(n>r)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},oo=function(e,r,n,i){var s=e._repeat,o=st(r)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:st(o*(s+1)+e._rDelay*s):o,a>0&&!i&&rc(e,e._tTime=e._tDur*a),e.parent&&tc(e),n||Oi(e.parent,e),e},h0=function(e){return e instanceof Ct?Oi(e):oo(e,e._dur)},JD={_start:0,endTime:Ba,totalDuration:Ba},Xt=function t(e,r,n){var i=e.labels,s=e._recent||JD,o=e.duration()>=er?s.endTime(!1):e._dur,a,l,u;return tt(r)&&(isNaN(r)||r in i)?(l=r.charAt(0),u=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(a<0?s:n).totalDuration()/100:1)):a<0?(r in i||(i[r]=o),i[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),u&&n&&(l=l/100*(yt(n)?n[0]:n).totalDuration()),a>1?t(e,r.substr(0,a-1),n)+l:o+l)):r==null?o:+r},ha=function(e,r,n){var i=xn(r[1]),s=(i?2:1)+(e<2?0:1),o=r[s],a,l;if(i&&(o.duration=r[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Mt(l.vars.inherit)&&l.parent;o.immediateRender=Mt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new Ke(r[0],o,r[s+1])},ci=function(e,r){return e||e===0?r(e):r},il=function(e,r,n){return n<e?e:n>r?r:n},pt=function(e,r){return!tt(e)||!(r=$D.exec(e))?"":r[1]},eO=function(e,r,n){return ci(n,function(i){return il(e,r,i)})},_p=[].slice,iE=function(e,r){return e&&Xr(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Xr(e[0]))&&!e.nodeType&&e!==Yt},tO=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return tt(i)&&!r||iE(i,1)?(s=n).push.apply(s,tr(i)):n.push(i)})||n},tr=function(e,r,n){return He&&!r&&He.selector?He.selector(e):tt(e)&&!n&&(pp||!ao())?_p.call((r||Wm).querySelectorAll(e),0):yt(e)?tO(e,n):iE(e)?_p.call(e,0):e?[e]:[]},vp=function(e){return e=tr(e)[0]||ch("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return tr(r,n.querySelectorAll?n:n===e?ch("Invalid scope")||Wm.createElement("div"):e)}},sE=function(e){return e.sort(function(){return .5-Math.random()})},oE=function(e){if(Le(e))return e;var r=Xr(e)?e:{each:e},n=Ni(r.ease),i=r.from||0,s=parseFloat(r.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=r.axis,h=i,f=i;return tt(i)?h=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(h=i[0],f=i[1]),function(c,d,p){var m=(p||r).length,v=o[m],_,y,g,x,w,T,E,S,C;if(!v){if(C=r.grid==="auto"?0:(r.grid||[1,er])[1],!C){for(E=-er;E<(E=p[C++].getBoundingClientRect().left)&&C<m;);C--}for(v=o[m]=[],_=l?Math.min(C,m)*h-.5:i%C,y=C===er?0:l?m*f/C-.5:i/C|0,E=0,S=er,T=0;T<m;T++)g=T%C-_,x=y-(T/C|0),v[T]=w=u?Math.abs(u==="y"?x:g):Gw(g*g+x*x),w>E&&(E=w),w<S&&(S=w);i==="random"&&sE(v),v.max=E-S,v.min=S,v.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(C>m?m-1:u?u==="y"?m/C:C:Math.max(C,m/C))||0)*(i==="edges"?-1:1),v.b=m<0?s-m:s,v.u=pt(r.amount||r.each)||0,n=n&&m<0?pE(n):n}return m=(v[c]-v.min)/v.max||0,st(v.b+(n?n(m):m)*v.v)+v.u}},xp=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=st(Math.round(parseFloat(n)/e)*e*r);return(i-i%1)/r+(xn(n)?0:pt(n))}},aE=function(e,r){var n=yt(e),i,s;return!n&&Xr(e)&&(i=n=e.radius||er,e.values?(e=tr(e.values),(s=!xn(e[0]))&&(i*=i)):e=xp(e.increment)),ci(r,n?Le(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=er,h=0,f=e.length,c,d;f--;)s?(c=e[f].x-a,d=e[f].y-l,c=c*c+d*d):c=Math.abs(e[f]-a),c<u&&(u=c,h=f);return h=!i||u<=i?e[h]:o,s||h===o||xn(o)?h:h+pt(o)}:xp(e))},lE=function(e,r,n,i){return ci(yt(e)?!r:n===!0?!!(n=0):!i,function(){return yt(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*i)/i})},rO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduce(function(s,o){return o(s)},i)}},nO=function(e,r){return function(n){return e(parseFloat(n))+(r||pt(n))}},iO=function(e,r,n){return hE(e,r,0,1,n)},uE=function(e,r,n){return ci(n,function(i){return e[~~r(i)]})},sO=function t(e,r,n){var i=r-e;return yt(e)?uE(e,t(0,e.length),r):ci(n,function(s){return(i+(s-e)%i)%i+e})},oO=function t(e,r,n){var i=r-e,s=i*2;return yt(e)?uE(e,t(0,e.length-1),r):ci(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},La=function(e){for(var r=0,n="",i,s,o,a;~(i=e.indexOf("random(",r));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?Vw:dp),n+=e.substr(r,i-r)+lE(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return n+e.substr(r,e.length-r)},hE=function(e,r,n,i,s){var o=r-e,a=i-n;return ci(s,function(l){return n+((l-e)/o*a||0)})},aO=function t(e,r,n,i){var s=isNaN(e+r)?0:function(d){return(1-d)*e+d*r};if(!s){var o=tt(e),a={},l,u,h,f,c;if(n===!0&&(i=1)&&(n=null),o)e={p:e},r={p:r};else if(yt(e)&&!yt(r)){for(h=[],f=e.length,c=f-2,u=1;u<f;u++)h.push(t(e[u-1],e[u]));f--,s=function(p){p*=f;var m=Math.min(c,~~p);return h[m](p-m)},n=r}else i||(e=Vi(yt(e)?[]:{},e));if(!h){for(l in r)Qm.call(a,e,l,"get",r[l]);s=function(p){return tg(p,a)||(o?e.p:e)}}}return ci(n,s)},c0=function(e,r,n){var i=e.labels,s=er,o,a,l;for(o in i)a=i[o]-r,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},rr=function(e,r,n){var i=e.vars,s=i[r],o=He,a=e._ctx,l,u,h;if(s)return l=i[r+"Params"],u=i.callbackScope||e,n&&Qn.length&&fh(),a&&(He=a),h=l?s.apply(u,l):s.call(u),He=o,h},Vo=function(e){return si(e),e.scrollTrigger&&e.scrollTrigger.kill(!!gt),e.progress()<1&&rr(e,"onInterrupt"),e},Is,lO=function(e){e=!e.name&&e.default||e;var r=e.name,n=Le(e),i=r&&!n&&e.init?function(){this._props=[]}:e,s={init:Ba,render:tg,add:Qm,kill:TO,modifier:SO,rawVars:0},o={targetTest:0,get:0,getSetter:eg,aliases:{},register:0};if(ao(),e!==i){if(Bt[r])return;or(i,or(dh(e,s),o)),Vi(i.prototype,Vi(s,dh(e,o))),Bt[i.prop=r]=i,e.targetTest&&(_u.push(i),Ym[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Yw(r,i),e.register&&e.register(jt,i,Dt)},xe=255,Wo={aqua:[0,xe,xe],lime:[0,xe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xe],navy:[0,0,128],white:[xe,xe,xe],olive:[128,128,0],yellow:[xe,xe,0],orange:[xe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xe,0,0],pink:[xe,192,203],cyan:[0,xe,xe],transparent:[xe,xe,xe,0]},bf=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*xe+.5|0},cE=function(e,r,n){var i=e?xn(e)?[e>>16,e>>8&xe,e&xe]:0:Wo.black,s,o,a,l,u,h,f,c,d,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Wo[e])i=Wo[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&xe,i&xe,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&xe,e&xe]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(dp),!r)l=+i[0]%360/360,u=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(u+1):h+u-h*u,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=bf(l+1/3,s,o),i[1]=bf(l,s,o),i[2]=bf(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Hw),n&&i.length<4&&(i[3]=1),i}else i=e.match(dp)||Wo.transparent;i=i.map(Number)}return r&&!p&&(s=i[0]/xe,o=i[1]/xe,a=i[2]/xe,f=Math.max(s,o,a),c=Math.min(s,o,a),h=(f+c)/2,f===c?l=u=0:(d=f-c,u=h>.5?d/(2-f-c):d/(f+c),l=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},fE=function(e){var r=[],n=[],i=-1;return e.split(Zn).forEach(function(s){var o=s.match(Rs)||[];r.push.apply(r,o),n.push(i+=o.length+1)}),r.c=n,r},f0=function(e,r,n){var i="",s=(e+i).match(Zn),o=r?"hsla(":"rgba(",a=0,l,u,h,f;if(!s)return e;if(s=s.map(function(c){return(c=cE(c,r,1))&&o+(r?c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:c.join(","))+")"}),n&&(h=fE(e),l=n.c,l.join(i)!==h.c.join(i)))for(u=e.replace(Zn,"1").split(Rs),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!u)for(u=e.split(Zn),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},Zn=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Wo)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),uO=/hsl[a]?\(/,dE=function(e){var r=e.join(" "),n;if(Zn.lastIndex=0,Zn.test(r))return n=uO.test(r),e[1]=f0(e[1],n),e[0]=f0(e[0],n,fE(e[1])),!0},Ua,Lt=function(){var t=Date.now,e=500,r=33,n=t(),i=n,s=1e3/240,o=s,a=[],l,u,h,f,c,d,p=function m(v){var _=t()-i,y=v===!0,g,x,w,T;if(_>e&&(n+=_-r),i+=_,w=i-n,g=w-o,(g>0||y)&&(T=++f.frame,c=w-f.time*1e3,f.time=w=w/1e3,o+=g+(g>=s?4:s-g),x=1),y||(l=u(m)),x)for(d=0;d<a.length;d++)a[d](w,c,T,v)};return f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(v){return c/(1e3/(v||60))},wake:function(){Ww&&(!pp&&zw()&&(Yt=pp=window,Wm=Yt.document||{},Ht.gsap=jt,(Yt.gsapVersions||(Yt.gsapVersions=[])).push(jt.version),Xw(hh||Yt.GreenSockGlobals||!Yt.gsap&&Yt||{}),h=Yt.requestAnimationFrame),l&&f.sleep(),u=h||function(v){return setTimeout(v,o-f.time*1e3+1|0)},Ua=1,p(2))},sleep:function(){(h?Yt.cancelAnimationFrame:clearTimeout)(l),Ua=0,u=Ba},lagSmoothing:function(v,_){e=v||1/0,r=Math.min(_||33,e)},fps:function(v){s=1e3/(v||240),o=f.time*1e3+s},add:function(v,_,y){var g=_?function(x,w,T,E){v(x,w,T,E),f.remove(g)}:v;return f.remove(v),a[y?"unshift":"push"](g),ao(),g},remove:function(v,_){~(_=a.indexOf(v))&&a.splice(_,1)&&d>=_&&d--},_listeners:a},f}(),ao=function(){return!Ua&&Lt.wake()},de={},hO=/^[\d.\-M][\d.\-,\s]/,cO=/["']/g,fO=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,l,u;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),r[i]=isNaN(u)?u.replace(cO,"").trim():+u,i=l.substr(a+1).trim();return r},dO=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r);return e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)},pO=function(e){var r=(e+"").split("("),n=de[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[fO(r[1])]:dO(e).split(",").map(Zw)):de._CE&&hO.test(e)?de._CE("",e):n},pE=function(e){return function(r){return 1-e(1-r)}},mE=function t(e,r){for(var n=e._first,i;n;)n instanceof Ct?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},Ni=function(e,r){return e&&(Le(e)?e:de[e]||pO(e))||r},es=function(e,r,n,i){n===void 0&&(n=function(l){return 1-r(1-l)}),i===void 0&&(i=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:i},o;return kt(e,function(a){de[a]=Ht[a]=s,de[o=a.toLowerCase()]=n;for(var l in s)de[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=de[a+"."+l]=s[l]}),s},gE=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},Cf=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/fp*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*zD((h-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:gE(a);return s=fp/s,l.config=function(u,h){return t(e,u,h)},l},Af=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:gE(n);return i.config=function(s){return t(e,s)},i};kt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;es(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});de.Linear.easeNone=de.none=de.Linear.easeIn;es("Elastic",Cf("in"),Cf("out"),Cf());(function(t,e){var r=1/e,n=2*r,i=2.5*r,s=function(a){return a<r?t*a*a:a<n?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};es("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);es("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});es("Circ",function(t){return-(Gw(1-t*t)-1)});es("Sine",function(t){return t===1?1:-GD(t*LD)+1});es("Back",Af("in"),Af("out"),Af());de.SteppedEase=de.steps=Ht.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,i=e+(r?0:1),s=r?1:0,o=1-we;return function(a){return((i*il(0,o,a)|0)+s)*n}}};io.ease=de["quad.out"];kt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Km+=t+","+t+"Params,"});var yE=function(e,r){this.id=UD++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:qw,this.set=r?r.getSetter:eg},lo=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,oo(this,+r.duration,1,1),this.data=r.data,He&&(this._ctx=He,He.data.push(this)),Ua||Lt.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,oo(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(ao(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(rc(this,n),!s._dp||s.parent||tE(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Lr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===we||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Qw(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+u0(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+u0(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?so(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-we?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?ph(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-we?0:this._rts,this.totalTime(il(-this._delay,this._tDur,i),!0),tc(this),YD(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ao(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==we&&(this._tTime-=we)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Lr(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Mt(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ph(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=jD);var i=gt;return gt=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),gt=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,h0(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,h0(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Xt(this,n),Mt(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Mt(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-we:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-we,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-we)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=Le(n)?n:Jw,a=function(){var u=i.then;i.then=null,Le(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Vo(this)},t}();or(lo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-we,_prom:0,_ps:!1,_rts:1});var Ct=function(t){Uw(e,t);function e(n,i){var s;return n===void 0&&(n={}),s=t.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Mt(n.sortChildren),Re&&Lr(n.parent||Re,rn(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&rE(rn(s),n.scrollTrigger),s}var r=e.prototype;return r.to=function(i,s,o){return ha(0,arguments,this),this},r.from=function(i,s,o){return ha(1,arguments,this),this},r.fromTo=function(i,s,o,a){return ha(2,arguments,this),this},r.set=function(i,s,o){return s.duration=0,s.parent=this,ua(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ke(i,s,Xt(this,o),1),this},r.call=function(i,s,o){return Lr(this,Ke.delayedCall(0,i,s),o)},r.staggerTo=function(i,s,o,a,l,u,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new Ke(i,o,Xt(this,l)),this},r.staggerFrom=function(i,s,o,a,l,u,h){return o.runBackwards=1,ua(o).immediateRender=Mt(o.immediateRender),this.staggerTo(i,s,o,a,l,u,h)},r.staggerFromTo=function(i,s,o,a,l,u,h,f){return a.startAt=o,ua(a).immediateRender=Mt(a.immediateRender),this.staggerTo(i,s,a,l,u,h,f)},r.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=i<=0?0:st(i),f=this._zTime<0!=i<0&&(this._initted||!u),c,d,p,m,v,_,y,g,x,w,T,E;if(this!==Re&&h>l&&i>=0&&(h=l),h!==this._tTime||o||f){if(a!==this._time&&u&&(h+=this._time-a,i+=this._time-a),c=h,x=this._start,g=this._ts,_=!g,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,v=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(c=st(h%v),h===l?(m=this._repeat,c=u):(m=~~(h/v),m&&m===h/v&&(c=u,m--),c>u&&(c=u)),w=so(this._tTime,v),!a&&this._tTime&&w!==m&&(w=m),T&&m&1&&(c=u-c,E=1),m!==w&&!this._lock){var S=T&&w&1,C=S===(T&&m&1);if(m<w&&(S=!S),a=S?0:u,this._lock=1,this.render(a||(E?0:st(m*v)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&rr(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,C&&(this._lock=2,a=S?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;mE(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=ZD(this,st(a),st(c)),y&&(h-=c-(c=y._start))),this._tTime=h,this._time=c,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&c&&!s&&(rr(this,"onStart"),this._tTime!==h))return this;if(c>=a&&i>=0)for(d=this._first;d;){if(p=d._next,(d._act||c>=d._start)&&d._ts&&y!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(c-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(c-d._start)*d._ts,s,o),c!==this._time||!this._ts&&!_){y=0,p&&(h+=this._zTime=-we);break}}d=p}else{d=this._last;for(var I=i<0?i:c;d;){if(p=d._prev,(d._act||I<=d._end)&&d._ts&&y!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(I-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(I-d._start)*d._ts,s,o||gt&&(d._initted||d._startAt)),c!==this._time||!this._ts&&!_){y=0,p&&(h+=this._zTime=I?-we:we);break}}d=p}}if(y&&!s&&(this.pause(),y.render(c>=a?0:-we)._zTime=c>=a?1:-1,this._ts))return this._start=x,tc(this),this.render(i,s,o);this._onUpdate&&!s&&rr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(x===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&si(this,1),!s&&!(i<0&&!a)&&(h||a||!l)&&(rr(this,h===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,s){var o=this;if(xn(s)||(s=Xt(this,s,i)),!(i instanceof lo)){if(yt(i))return i.forEach(function(a){return o.add(a,s)}),this;if(tt(i))return this.addLabel(i,s);if(Le(i))i=Ke.delayedCall(0,i);else return this}return this!==i?Lr(this,i,s):this},r.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-er);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Ke?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},r.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},r.remove=function(i){return tt(i)?this.removeLabel(i):Le(i)?this.killTweensOf(i):(ec(this,i),i===this._recent&&(this._recent=this._last),Oi(this))},r.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=st(Lt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},r.addLabel=function(i,s){return this.labels[i]=Xt(this,s),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,s,o){var a=Ke.delayedCall(0,s||Ba,o);return a.data="isPause",this._hasPause=1,Lr(this,a,Xt(this,i))},r.removePause=function(i){var s=this._first;for(i=Xt(this,i);s;)s._start===i&&s.data==="isPause"&&si(s),s=s._next},r.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Bn!==a[l]&&a[l].kill(i,s);return this},r.getTweensOf=function(i,s){for(var o=[],a=tr(i),l=this._first,u=xn(s),h;l;)l instanceof Ke?VD(l._targets,a)&&(u?(!Bn||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(i,s){s=s||{};var o=this,a=Xt(o,i),l=s,u=l.startAt,h=l.onStart,f=l.onStartParams,c=l.immediateRender,d,p=Ke.to(o,or({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||we,onStart:function(){if(o.pause(),!d){var v=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());p._dur!==v&&oo(p,v,0,1).render(p._time,!0,!0),d=1}h&&h.apply(p,f||[])}},s));return c?p.render(0):p},r.tweenFromTo=function(i,s,o){return this.tweenTo(s,or({startAt:{time:Xt(this,i)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),c0(this,Xt(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),c0(this,Xt(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+we)},r.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Oi(this)},r.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Oi(this)},r.totalDuration=function(i){var s=0,o=this,a=o._last,l=er,u,h,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Lr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;oo(o,o===Re&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Re._ts&&(Qw(Re,ph(i,Re)),Kw=Lt.frame),Lt.frame>=a0){a0+=zt.autoSleep||120;var s=Re._first;if((!s||!s._ts)&&zt.autoSleep&&Lt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Lt.sleep()}}},e}(lo);or(Ct.prototype,{_lock:0,_hasPause:0,_forcing:0});var mO=function(e,r,n,i,s,o,a){var l=new Dt(this._pt,e,r,0,1,SE,null,s),u=0,h=0,f,c,d,p,m,v,_,y;for(l.b=n,l.e=i,n+="",i+="",(_=~i.indexOf("random("))&&(i=La(i)),o&&(y=[n,i],o(y,e,r),n=y[0],i=y[1]),c=n.match(Sf)||[];f=Sf.exec(i);)p=f[0],m=i.substring(u,f.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==c[h++]&&(v=parseFloat(c[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:v,c:p.charAt(1)==="="?js(v,p)-v:parseFloat(p)-v,m:d&&d<4?Math.round:0},u=Sf.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(jw.test(i)||_)&&(l.e=0),this._pt=l,l},Qm=function(e,r,n,i,s,o,a,l,u,h){Le(i)&&(i=i(s||0,e,o));var f=e[r],c=n!=="get"?n:Le(f)?u?e[r.indexOf("set")||!Le(e["get"+r.substr(3)])?r:"get"+r.substr(3)](u):e[r]():f,d=Le(f)?u?xO:wE:Jm,p;if(tt(i)&&(~i.indexOf("random(")&&(i=La(i)),i.charAt(1)==="="&&(p=js(c,i)+(pt(c)||0),(p||p===0)&&(i=p))),!h||c!==i||wp)return!isNaN(c*i)&&i!==""?(p=new Dt(this._pt,e,r,+c||0,i-(c||0),typeof f=="boolean"?EO:EE,0,d),u&&(p.fp=u),a&&p.modifier(a,this,e),this._pt=p):(!f&&!(r in e)&&Xm(r,i),mO.call(this,e,r,c,i,d,l||zt.stringFilter,u))},gO=function(e,r,n,i,s){if(Le(e)&&(e=ca(e,s,r,n,i)),!Xr(e)||e.style&&e.nodeType||yt(e)||$w(e))return tt(e)?ca(e,s,r,n,i):e;var o={},a;for(a in e)o[a]=ca(e[a],s,r,n,i);return o},_E=function(e,r,n,i,s,o){var a,l,u,h;if(Bt[e]&&(a=new Bt[e]).init(s,a.rawVars?r[e]:gO(r[e],i,s,o,n),n,i,o)!==!1&&(n._pt=l=new Dt(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Is))for(u=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)u[a._props[h]]=l;return a},Bn,wp,Zm=function t(e,r,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,h=i.onUpdateParams,f=i.callbackScope,c=i.runBackwards,d=i.yoyoEase,p=i.keyframes,m=i.autoRevert,v=e._dur,_=e._startAt,y=e._targets,g=e.parent,x=g&&g.data==="nested"?g.vars.targets:y,w=e._overwrite==="auto"&&!jm,T=e.timeline,E,S,C,I,k,F,M,R,U,Y,B,O,z;if(T&&(!p||!s)&&(s="none"),e._ease=Ni(s,io.ease),e._yEase=d?pE(Ni(d===!0?s:d,io.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!T&&!!i.runBackwards,!T||p&&!i.stagger){if(R=y[0]?Di(y[0]).harness:0,O=R&&i[R.prop],E=dh(i,Ym),_&&(_._zTime<0&&_.progress(1),r<0&&c&&a&&!m?_.render(-1,!0):_.revert(c&&v?yu:HD),_._lazy=0),o){if(si(e._startAt=Ke.set(y,or({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!_&&Mt(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:h,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(gt||!a&&!m)&&e._startAt.revert(yu),a&&v&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(c&&v&&!_){if(r&&(a=!1),C=or({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Mt(l),immediateRender:a,stagger:0,parent:g},E),O&&(C[R.prop]=O),si(e._startAt=Ke.set(y,C)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(gt?e._startAt.revert(yu):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,we,we);else if(!r)return}for(e._pt=e._ptCache=0,l=v&&Mt(l)||l&&!v,S=0;S<y.length;S++){if(k=y[S],M=k._gsap||qm(y)[S]._gsap,e._ptLookup[S]=Y={},mp[M.id]&&Qn.length&&fh(),B=x===y?S:x.indexOf(k),R&&(U=new R).init(k,O||E,e,B,x)!==!1&&(e._pt=I=new Dt(e._pt,k,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(P){Y[P]=I}),U.priority&&(F=1)),!R||O)for(C in E)Bt[C]&&(U=_E(C,E,e,B,k,x))?U.priority&&(F=1):Y[C]=I=Qm.call(e,k,C,"get",E[C],B,x,0,i.stringFilter);e._op&&e._op[S]&&e.kill(k,e._op[S]),w&&e._pt&&(Bn=e,Re.killTweensOf(k,Y,e.globalTime(r)),z=!e.parent,Bn=0),e._pt&&l&&(mp[M.id]=1)}F&&TE(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!z,p&&r<=0&&T.render(er,!0,!0)},yO=function(e,r,n,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],u,h,f,c;if(!l)for(l=e._ptCache[r]=[],f=e._ptLookup,c=e._targets.length;c--;){if(u=f[c][r],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==r&&u.fp!==r;)u=u._next;if(!u)return wp=1,e.vars[r]="+=0",Zm(e,a),wp=0,1;l.push(u)}for(c=l.length;c--;)h=l[c],u=h._pt||h,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=n-u.s,h.e&&(h.e=Ue(n)+pt(h.e)),h.b&&(h.b=u.s+pt(h.b))},_O=function(e,r){var n=e[0]?Di(e[0]).harness:0,i=n&&n.aliases,s,o,a,l;if(!i)return r;s=Vi({},r);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},vO=function(e,r,n,i){var s=r.ease||i||"power1.inOut",o,a;if(yt(r))a=n[e]||(n[e]=[]),r.forEach(function(l,u){return a.push({t:u/(r.length-1)*100,v:l,e:s})});else for(o in r)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},ca=function(e,r,n,i,s){return Le(e)?e.call(r,n,i,s):tt(e)&&~e.indexOf("random(")?La(e):e},vE=Km+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xE={};kt(vE+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return xE[t]=1});var Ke=function(t){Uw(e,t);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:ua(i))||this;var l=a.vars,u=l.duration,h=l.delay,f=l.immediateRender,c=l.stagger,d=l.overwrite,p=l.keyframes,m=l.defaults,v=l.scrollTrigger,_=l.yoyoEase,y=i.parent||Re,g=(yt(n)||$w(n)?xn(n[0]):"length"in i)?[n]:tr(n),x,w,T,E,S,C,I,k;if(a._targets=g.length?qm(g):ch("GSAP target "+n+" not found. https://greensock.com",!zt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||c||Wl(u)||Wl(h)){if(i=a.vars,x=a.timeline=new Ct({data:"nested",defaults:m||{},targets:y&&y.data==="nested"?y.vars.targets:g}),x.kill(),x.parent=x._dp=rn(a),x._start=0,c||Wl(u)||Wl(h)){if(E=g.length,I=c&&oE(c),Xr(c))for(S in c)~vE.indexOf(S)&&(k||(k={}),k[S]=c[S]);for(w=0;w<E;w++)T=dh(i,xE),T.stagger=0,_&&(T.yoyoEase=_),k&&Vi(T,k),C=g[w],T.duration=+ca(u,rn(a),w,C,g),T.delay=(+ca(h,rn(a),w,C,g)||0)-a._delay,!c&&E===1&&T.delay&&(a._delay=h=T.delay,a._start+=h,T.delay=0),x.to(C,T,I?I(w,C,g):0),x._ease=de.none;x.duration()?u=h=0:a.timeline=0}else if(p){ua(or(x.vars.defaults,{ease:"none"})),x._ease=Ni(p.ease||i.ease||"none");var F=0,M,R,U;if(yt(p))p.forEach(function(Y){return x.to(g,Y,">")}),x.duration();else{T={};for(S in p)S==="ease"||S==="easeEach"||vO(S,p[S],T,p.easeEach);for(S in T)for(M=T[S].sort(function(Y,B){return Y.t-B.t}),F=0,w=0;w<M.length;w++)R=M[w],U={ease:R.e,duration:(R.t-(w?M[w-1].t:0))/100*u},U[S]=R.v,x.to(g,U,F),F+=U.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||a.duration(u=x.duration())}else a.timeline=0;return d===!0&&!jm&&(Bn=rn(a),Re.killTweensOf(g),Bn=0),Lr(y,rn(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!p&&a._start===st(y._time)&&Mt(f)&&KD(rn(a))&&y.data!=="nested")&&(a._tTime=-we,a.render(Math.max(0,-h)||0)),v&&rE(rn(a),v),a}var r=e.prototype;return r.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,h=i<0,f=i>l-we&&!h?l:i<we?0:i,c,d,p,m,v,_,y,g,x;if(!u)QD(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(c=f,g=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+i,s,o);if(c=st(f%m),f===l?(p=this._repeat,c=u):(p=~~(f/m),p&&p===f/m&&(c=u,p--),c>u&&(c=u)),_=this._yoyo&&p&1,_&&(x=this._yEase,c=u-c),v=so(this._tTime,m),c===a&&!o&&this._initted)return this._tTime=f,this;p!==v&&(g&&this._yEase&&mE(g,_),this.vars.repeatRefresh&&!_&&!this._lock&&(this._lock=o=1,this.render(st(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(nE(this,h?i:c,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(x||this._ease)(c/u),this._from&&(this.ratio=y=1-y),c&&!a&&!s&&(rr(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(y,d.d),d=d._next;g&&g.render(i<0?i:!c&&_?-we:g._dur*g._ease(c/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&gp(this,i,s,o),rr(this,"onUpdate")),this._repeat&&p!==v&&this.vars.onRepeat&&!s&&this.parent&&rr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(h&&!this._onUpdate&&gp(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&si(this,1),!s&&!(h&&!a)&&(f||a||_)&&(rr(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},r.resetTo=function(i,s,o,a){Ua||Lt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Zm(this,l),u=this._ease(l/this._dur),yO(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(rc(this,0),this.parent||eE(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Vo(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Bn&&Bn.vars.overwrite!==!0)._first||Vo(this),this.parent&&o!==this.timeline.totalDuration()&&oo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?tr(i):a,u=this._ptLookup,h=this._pt,f,c,d,p,m,v,_;if((!s||s==="all")&&XD(a,l))return s==="all"&&(this._pt=0),Vo(this);for(f=this._op=this._op||[],s!=="all"&&(tt(s)&&(m={},kt(s,function(y){return m[y]=1}),s=m),s=_O(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){c=u[_],s==="all"?(f[_]=s,p=c,d={}):(d=f[_]=f[_]||{},p=s);for(m in p)v=c&&c[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&ec(this,v,"_pt"),delete c[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&h&&Vo(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return ha(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return ha(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Re.killTweensOf(i,s,o)},e}(lo);or(Ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});kt("staggerTo,staggerFrom,staggerFromTo",function(t){Ke[t]=function(){var e=new Ct,r=_p.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Jm=function(e,r,n){return e[r]=n},wE=function(e,r,n){return e[r](n)},xO=function(e,r,n,i){return e[r](i.fp,n)},wO=function(e,r,n){return e.setAttribute(r,n)},eg=function(e,r){return Le(e[r])?wE:Vm(e[r])&&e.setAttribute?wO:Jm},EE=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},EO=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},SE=function(e,r){var n=r._pt,i="";if(!e&&r.b)i=r.b;else if(e===1&&r.e)i=r.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=r.c}r.set(r.t,r.p,i,r)},tg=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},SO=function(e,r,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,r,n),s=o},TO=function(e){for(var r=this._pt,n,i;r;)i=r._next,r.p===e&&!r.op||r.op===e?ec(this,r,"_pt"):r.dep||(n=1),r=i;return!n},bO=function(e,r,n,i){i.mSet(e,r,i.m.call(i.tween,n,i.mt),i)},TE=function(e){for(var r=e._pt,n,i,s,o;r;){for(n=r._next,i=s;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:o)?r._prev._next=r:s=r,(r._next=i)?i._prev=r:o=r,r=n}e._pt=s},Dt=function(){function t(r,n,i,s,o,a,l,u,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||EE,this.d=l||this,this.set=u||Jm,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=bO,this.m=n,this.mt=s,this.tween=i},t}();kt(Km+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ym[t]=1});Ht.TweenMax=Ht.TweenLite=Ke;Ht.TimelineLite=Ht.TimelineMax=Ct;Re=new Ct({sortChildren:!1,defaults:io,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});zt.stringFilter=dE;var uo=[],vu={},CO=[],d0=0,Pf=function(e){return(vu[e]||CO).map(function(r){return r()})},Ep=function(){var e=Date.now(),r=[];e-d0>2&&(Pf("matchMediaInit"),uo.forEach(function(n){var i=n.queries,s=n.conditions,o,a,l,u;for(a in i)o=Yt.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(n.revert(),l&&r.push(n))}),Pf("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n)}),d0=e,Pf("matchMedia"))},bE=function(){function t(r,n){this.selector=n&&vp(n),this.data=[],this._r=[],this.isReverted=!1,r&&this.add(r)}var e=t.prototype;return e.add=function(n,i,s){Le(n)&&(s=i,i=n,n=Le);var o=this,a=function(){var u=He,h=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=vp(s)),He=o,f=i.apply(o,arguments),Le(f)&&o._r.push(f),He=u,o.selector=h,o.isReverted=!1,f};return o.last=a,n===Le?a(o):n?o[n]=a:a},e.ignore=function(n){var i=He;He=null,n(this),He=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof t?n.push.apply(n,i.getTweens()):i instanceof Ke&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof lo)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=uo.indexOf(this);~a&&uo.splice(a,1)}},e.revert=function(n){this.kill(n||{})},t}(),AO=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(n,i,s){Xr(n)||(n={matches:n});var o=new bE(0,s||this.scope),a=o.conditions={},l,u,h;this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(u in n)u==="all"?h=1:(l=Yt.matchMedia(n[u]),l&&(uo.indexOf(o)<0&&uo.push(o),(a[u]=l.matches)&&(h=1),l.addListener?l.addListener(Ep):l.addEventListener("change",Ep)));return h&&i(o),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},t}(),mh={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(i){return lO(i)})},timeline:function(e){return new Ct(e)},getTweensOf:function(e,r){return Re.getTweensOf(e,r)},getProperty:function(e,r,n,i){tt(e)&&(e=tr(e)[0]);var s=Di(e||{}).get,o=n?Jw:Zw;return n==="native"&&(n=""),e&&(r?o((Bt[r]&&Bt[r].get||s)(e,r,n,i)):function(a,l,u){return o((Bt[a]&&Bt[a].get||s)(e,a,l,u))})},quickSetter:function(e,r,n){if(e=tr(e),e.length>1){var i=e.map(function(h){return jt.quickSetter(h,r,n)}),s=i.length;return function(h){for(var f=s;f--;)i[f](h)}}e=e[0]||{};var o=Bt[r],a=Di(e),l=a.harness&&(a.harness.aliases||{})[r]||r,u=o?function(h){var f=new o;Is._pt=0,f.init(e,n?h+n:h,Is,0,[e]),f.render(1,f),Is._pt&&tg(1,Is)}:a.set(e,l);return o?u:function(h){return u(e,l,n?h+n:h,a,1)}},quickTo:function(e,r,n){var i,s=jt.to(e,Vi((i={},i[r]="+=0.1",i.paused=!0,i),n||{})),o=function(l,u,h){return s.resetTo(r,l,u,h)};return o.tween=s,o},isTweening:function(e){return Re.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ni(e.ease,io.ease)),l0(io,e||{})},config:function(e){return l0(zt,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Bt[a]&&!Ht[a]&&ch(r+" effect requires "+a+" plugin.")}),Tf[r]=function(a,l,u){return n(tr(a),or(l||{},s),u)},o&&(Ct.prototype[r]=function(a,l,u){return this.add(Tf[r](a,Xr(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,r){de[e]=Ni(r)},parseEase:function(e,r){return arguments.length?Ni(e,r):de},getById:function(e){return Re.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Ct(e),i,s;for(n.smoothChildTiming=Mt(e.smoothChildTiming),Re.remove(n),n._dp=0,n._time=n._tTime=Re._time,i=Re._first;i;)s=i._next,(r||!(!i._dur&&i instanceof Ke&&i.vars.onComplete===i._targets[0]))&&Lr(n,i,i._start-i._delay),i=s;return Lr(Re,n,0),n},context:function(e,r){return e?new bE(e,r):He},matchMedia:function(e){return new AO(e)},matchMediaRefresh:function(){return uo.forEach(function(e){var r=e.conditions,n,i;for(i in r)r[i]&&(r[i]=!1,n=1);n&&e.revert()})||Ep()},addEventListener:function(e,r){var n=vu[e]||(vu[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=vu[e],i=n&&n.indexOf(r);i>=0&&n.splice(i,1)},utils:{wrap:sO,wrapYoyo:oO,distribute:oE,random:lE,snap:aE,normalize:iO,getUnit:pt,clamp:eO,splitColor:cE,toArray:tr,selector:vp,mapRange:hE,pipe:rO,unitize:nO,interpolate:aO,shuffle:sE},install:Xw,effects:Tf,ticker:Lt,updateRoot:Ct.updateRoot,plugins:Bt,globalTimeline:Re,core:{PropTween:Dt,globals:Yw,Tween:Ke,Timeline:Ct,Animation:lo,getCache:Di,_removeLinkedListItem:ec,reverting:function(){return gt},context:function(e){return e&&He&&(He.data.push(e),e._ctx=He),He},suppressOverwrites:function(e){return jm=e}}};kt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return mh[t]=Ke[t]});Lt.add(Ct.updateRoot);Is=mh.to({},{duration:0});var PO=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},RO=function(e,r){var n=e._targets,i,s,o;for(i in r)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=PO(o,i)),o&&o.modifier&&o.modifier(r[i],e,n[s],i))},Rf=function(e,r){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(tt(s)&&(l={},kt(s,function(h){return l[h]=1}),s=l),r){l={};for(u in s)l[u]=r(s[u]);s=l}RO(a,s)}}}},jt=mh.registerPlugin({name:"attr",init:function(e,r,n,i,s){var o,a,l;this.tween=n;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)gt?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},Rf("roundProps",xp),Rf("modifiers"),Rf("snap",aE))||mh;Ke.version=Ct.version=jt.version="3.11.4";Ww=1;zw()&&ao();de.Power0;de.Power1;de.Power2;de.Power3;de.Power4;de.Linear;de.Quad;de.Cubic;de.Quart;de.Quint;de.Strong;de.Elastic;de.Back;de.SteppedEase;de.Bounce;de.Sine;de.Expo;de.Circ;/*!
 * CSSPlugin 3.11.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var p0,Ln,Vs,rg,Pi,m0,ng,IO=function(){return typeof window<"u"},wn={},Ei=180/Math.PI,Ws=Math.PI/180,ls=Math.atan2,g0=1e8,ig=/([A-Z])/g,MO=/(left|right|width|margin|padding|x)/i,kO=/[\s,\(]\S/,hn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Sp=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},DO=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},OO=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},NO=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},CE=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},AE=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},FO=function(e,r,n){return e.style[r]=n},BO=function(e,r,n){return e.style.setProperty(r,n)},LO=function(e,r,n){return e._gsap[r]=n},UO=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},GO=function(e,r,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},zO=function(e,r,n,i,s){var o=e._gsap;o[r]=n,o.renderTransform(s,o)},Me="transform",br=Me+"Origin",$O=function(e,r){var n=this,i=this.target,s=i.style;if(e in wn){if(this.tfm=this.tfm||{},e!=="transform"&&(e=hn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=sn(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:sn(i,e)),this.props.indexOf(Me)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(br,r,"")),e=Me}(s||r)&&this.props.push(e,r,s[e])},PE=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},HO=function(){var e=this.props,r=this.target,n=r.style,i=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].replace(ig,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=ng(),s&&!s.isStart&&!n[Me]&&(PE(n),i.uncache=1)}},RE=function(e,r){var n={target:e,props:[],revert:HO,save:$O};return r&&r.split(",").forEach(function(i){return n.save(i)}),n},IE,Tp=function(e,r){var n=Ln.createElementNS?Ln.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ln.createElement(e);return n.style?n:Ln.createElement(e)},jr=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(ig,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,ho(r)||r,1)||""},y0="O,Moz,ms,Ms,Webkit".split(","),ho=function(e,r,n){var i=r||Pi,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(y0[o]+e in s););return o<0?null:(o===3?"ms":o>=0?y0[o]:"")+e},bp=function(){IO()&&window.document&&(p0=window,Ln=p0.document,Vs=Ln.documentElement,Pi=Tp("div")||{style:{}},Tp("div"),Me=ho(Me),br=Me+"Origin",Pi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",IE=!!ho("perspective"),ng=jt.core.reverting,rg=1)},If=function t(e){var r=Tp("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Vs.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),Vs.removeChild(r),this.style.cssText=s,o},_0=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},ME=function(e){var r;try{r=e.getBBox()}catch{r=If.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===If||(r=If.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+_0(e,["x","cx","x1"])||0,y:+_0(e,["y","cy","y1"])||0,width:0,height:0}:r},kE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ME(e))},Ga=function(e,r){if(r){var n=e.style;r in wn&&r!==br&&(r=Me),n.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(r.replace(ig,"-$1").toLowerCase())):n.removeAttribute(r)}},Un=function(e,r,n,i,s,o){var a=new Dt(e._pt,r,n,0,1,o?AE:CE);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},v0={deg:1,rad:1,turn:1},jO={grid:1,flex:1},oi=function t(e,r,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Pi.style,l=MO.test(r),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),f=100,c=i==="px",d=i==="%",p,m,v,_;return i===o||!s||v0[i]||v0[o]?s:(o!=="px"&&!c&&(s=t(e,r,n,"px")),_=e.getCTM&&kE(e),(d||o==="%")&&(wn[r]||~r.indexOf("adius"))?(p=_?e.getBBox()[l?"width":"height"]:e[h],Ue(d?s/p*f:s/100*p)):(a[l?"width":"height"]=f+(c?o:i),m=~r.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,_&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Ln||!m.appendChild)&&(m=Ln.body),v=m._gsap,v&&d&&v.width&&l&&v.time===Lt.time&&!v.uncache?Ue(s/v.width*f):((d||o==="%")&&!jO[jr(m,"display")]&&(a.position=jr(e,"position")),m===e&&(a.position="static"),m.appendChild(Pi),p=Pi[h],m.removeChild(Pi),a.position="absolute",l&&d&&(v=Di(m),v.time=Lt.time,v.width=m[h]),Ue(c?p*s/f:p&&s?f/p*s:0))))},sn=function(e,r,n,i){var s;return rg||bp(),r in hn&&r!=="transform"&&(r=hn[r],~r.indexOf(",")&&(r=r.split(",")[0])),wn[r]&&r!=="transform"?(s=$a(e,i),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:yh(jr(e,br))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=gh[r]&&gh[r](e,r,n)||jr(e,r)||qw(e,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?oi(e,r,s,n)+n:s},VO=function(e,r,n,i){if(!n||n==="none"){var s=ho(r,e,1),o=s&&jr(e,s,1);o&&o!==n?(r=s,n=o):r==="borderColor"&&(n=jr(e,"borderTopColor"))}var a=new Dt(this._pt,e.style,r,0,1,SE),l=0,u=0,h,f,c,d,p,m,v,_,y,g,x,w;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[r]=i,i=jr(e,r)||i,e.style[r]=n),h=[n,i],dE(h),n=h[0],i=h[1],c=n.match(Rs)||[],w=i.match(Rs)||[],w.length){for(;f=Rs.exec(i);)v=f[0],y=i.substring(l,f.index),p?p=(p+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(p=1),v!==(m=c[u++]||"")&&(d=parseFloat(m)||0,x=m.substr((d+"").length),v.charAt(1)==="="&&(v=js(d,v)+x),_=parseFloat(v),g=v.substr((_+"").length),l=Rs.lastIndex-g.length,g||(g=g||zt.units[r]||x,l===i.length&&(i+=g,a.e+=g)),x!==g&&(d=oi(e,r,m,g)||0),a._pt={_next:a._pt,p:y||u===1?y:",",s:d,c:_-d,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=r==="display"&&i==="none"?AE:CE;return jw.test(i)&&(a.e=0),this._pt=a,a},x0={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},WO=function(e){var r=e.split(" "),n=r[0],i=r[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),r[0]=x0[n]||n,r[1]=x0[i]||i,r.join(" ")},XO=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,i=n.style,s=r.u,o=n._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],wn[a]&&(l=1,a=a==="transformOrigin"?br:Me),Ga(n,a);l&&(Ga(n,Me),o&&(o.svg&&n.removeAttribute("transform"),$a(n,1),o.uncache=1,PE(i)))}},gh={clearProps:function(e,r,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Dt(e._pt,r,n,0,0,XO);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},za=[1,0,0,1,0,0],DE={},OE=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},w0=function(e){var r=jr(e,Me);return OE(r)?za:r.substr(7).match(Hw).map(Ue)},sg=function(e,r){var n=e._gsap||Di(e),i=e.style,s=w0(e),o,a,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?za:s):(s===za&&!e.offsetParent&&e!==Vs&&!n.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,Vs.appendChild(e)),s=w0(e),l?i.display=l:Ga(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Vs.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Cp=function(e,r,n,i,s,o){var a=e._gsap,l=s||sg(e,!0),u=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,c=a.yOffset||0,d=l[0],p=l[1],m=l[2],v=l[3],_=l[4],y=l[5],g=r.split(" "),x=parseFloat(g[0])||0,w=parseFloat(g[1])||0,T,E,S,C;n?l!==za&&(E=d*v-p*m)&&(S=x*(v/E)+w*(-m/E)+(m*y-v*_)/E,C=x*(-p/E)+w*(d/E)-(d*y-p*_)/E,x=S,w=C):(T=ME(e),x=T.x+(~g[0].indexOf("%")?x/100*T.width:x),w=T.y+(~(g[1]||g[0]).indexOf("%")?w/100*T.height:w)),i||i!==!1&&a.smooth?(_=x-u,y=w-h,a.xOffset=f+(_*d+y*m)-_,a.yOffset=c+(_*p+y*v)-y):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=w,a.smooth=!!i,a.origin=r,a.originIsAbsolute=!!n,e.style[br]="0px 0px",o&&(Un(o,a,"xOrigin",u,x),Un(o,a,"yOrigin",h,w),Un(o,a,"xOffset",f,a.xOffset),Un(o,a,"yOffset",c,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},$a=function(e,r){var n=e._gsap||new yE(e);if("x"in n&&!r&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=jr(e,br)||"0",h,f,c,d,p,m,v,_,y,g,x,w,T,E,S,C,I,k,F,M,R,U,Y,B,O,z,P,$,Q,le,oe,b;return h=f=c=m=v=_=y=g=x=0,d=p=1,n.svg=!!(e.getCTM&&kE(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Me]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Me]!=="none"?l[Me]:"")),i.scale=i.rotate=i.translate="none"),E=sg(e,n.svg),n.svg&&(n.uncache?(O=e.getBBox(),u=n.xOrigin-O.x+"px "+(n.yOrigin-O.y)+"px",B=""):B=!r&&e.getAttribute("data-svg-origin"),Cp(e,B||u,!!B||n.originIsAbsolute,n.smooth!==!1,E)),w=n.xOrigin||0,T=n.yOrigin||0,E!==za&&(k=E[0],F=E[1],M=E[2],R=E[3],h=U=E[4],f=Y=E[5],E.length===6?(d=Math.sqrt(k*k+F*F),p=Math.sqrt(R*R+M*M),m=k||F?ls(F,k)*Ei:0,y=M||R?ls(M,R)*Ei+m:0,y&&(p*=Math.abs(Math.cos(y*Ws))),n.svg&&(h-=w-(w*k+T*M),f-=T-(w*F+T*R))):(b=E[6],le=E[7],P=E[8],$=E[9],Q=E[10],oe=E[11],h=E[12],f=E[13],c=E[14],S=ls(b,Q),v=S*Ei,S&&(C=Math.cos(-S),I=Math.sin(-S),B=U*C+P*I,O=Y*C+$*I,z=b*C+Q*I,P=U*-I+P*C,$=Y*-I+$*C,Q=b*-I+Q*C,oe=le*-I+oe*C,U=B,Y=O,b=z),S=ls(-M,Q),_=S*Ei,S&&(C=Math.cos(-S),I=Math.sin(-S),B=k*C-P*I,O=F*C-$*I,z=M*C-Q*I,oe=R*I+oe*C,k=B,F=O,M=z),S=ls(F,k),m=S*Ei,S&&(C=Math.cos(S),I=Math.sin(S),B=k*C+F*I,O=U*C+Y*I,F=F*C-k*I,Y=Y*C-U*I,k=B,U=O),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,_=180-_),d=Ue(Math.sqrt(k*k+F*F+M*M)),p=Ue(Math.sqrt(Y*Y+b*b)),S=ls(U,Y),y=Math.abs(S)>2e-4?S*Ei:0,x=oe?1/(oe<0?-oe:oe):0),n.svg&&(B=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!OE(jr(e,Me)),B&&e.setAttribute("transform",B))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(d*=-1,y+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,y+=y<=0?180:-180)),r=r||n.uncache,n.x=h-((n.xPercent=h&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=c+o,n.scaleX=Ue(d),n.scaleY=Ue(p),n.rotation=Ue(m)+a,n.rotationX=Ue(v)+a,n.rotationY=Ue(_)+a,n.skewX=y+a,n.skewY=g+a,n.transformPerspective=x+o,(n.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[br]=yh(u)),n.xOffset=n.yOffset=0,n.force3D=zt.force3D,n.renderTransform=n.svg?KO:IE?NE:YO,n.uncache=0,n},yh=function(e){return(e=e.split(" "))[0]+" "+e[1]},Mf=function(e,r,n){var i=pt(r);return Ue(parseFloat(r)+parseFloat(oi(e,"x",n+"px",i)))+i},YO=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,NE(e,r)},pi="0deg",Oo="0px",mi=") ",NE=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,u=n.rotation,h=n.rotationY,f=n.rotationX,c=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,v=n.transformPerspective,_=n.force3D,y=n.target,g=n.zOrigin,x="",w=_==="auto"&&e&&e!==1||_===!0;if(g&&(f!==pi||h!==pi)){var T=parseFloat(h)*Ws,E=Math.sin(T),S=Math.cos(T),C;T=parseFloat(f)*Ws,C=Math.cos(T),o=Mf(y,o,E*C*-g),a=Mf(y,a,-Math.sin(T)*-g),l=Mf(y,l,S*C*-g+g)}v!==Oo&&(x+="perspective("+v+mi),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(w||o!==Oo||a!==Oo||l!==Oo)&&(x+=l!==Oo||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+mi),u!==pi&&(x+="rotate("+u+mi),h!==pi&&(x+="rotateY("+h+mi),f!==pi&&(x+="rotateX("+f+mi),(c!==pi||d!==pi)&&(x+="skew("+c+", "+d+mi),(p!==1||m!==1)&&(x+="scale("+p+", "+m+mi),y.style[Me]=x||"translate(0, 0)"},KO=function(e,r){var n=r||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,u=n.skewX,h=n.skewY,f=n.scaleX,c=n.scaleY,d=n.target,p=n.xOrigin,m=n.yOrigin,v=n.xOffset,_=n.yOffset,y=n.forceCSS,g=parseFloat(o),x=parseFloat(a),w,T,E,S,C;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=Ws,u*=Ws,w=Math.cos(l)*f,T=Math.sin(l)*f,E=Math.sin(l-u)*-c,S=Math.cos(l-u)*c,u&&(h*=Ws,C=Math.tan(u-h),C=Math.sqrt(1+C*C),E*=C,S*=C,h&&(C=Math.tan(h),C=Math.sqrt(1+C*C),w*=C,T*=C)),w=Ue(w),T=Ue(T),E=Ue(E),S=Ue(S)):(w=f,S=c,T=E=0),(g&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(g=oi(d,"x",o,"px"),x=oi(d,"y",a,"px")),(p||m||v||_)&&(g=Ue(g+p-(p*w+m*E)+v),x=Ue(x+m-(p*T+m*S)+_)),(i||s)&&(C=d.getBBox(),g=Ue(g+i/100*C.width),x=Ue(x+s/100*C.height)),C="matrix("+w+","+T+","+E+","+S+","+g+","+x+")",d.setAttribute("transform",C),y&&(d.style[Me]=C)},qO=function(e,r,n,i,s){var o=360,a=tt(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Ei:1),u=l-i,h=i+u+"deg",f,c;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*g0)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*g0)%o-~~(u/o)*o)),e._pt=c=new Dt(e._pt,r,n,i,u,DO),c.e=h,c.u="deg",e._props.push(n),c},E0=function(e,r){for(var n in r)e[n]=r[n];return e},QO=function(e,r,n){var i=E0({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,u,h,f,c,d,p;i.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[Me]=r,a=$a(n,1),Ga(n,Me),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Me],o[Me]=r,a=$a(n,1),o[Me]=u);for(l in wn)u=i[l],h=a[l],u!==h&&s.indexOf(l)<0&&(d=pt(u),p=pt(h),f=d!==p?oi(n,l,u,p):parseFloat(u),c=parseFloat(h),e._pt=new Dt(e._pt,a,l,f,c-f,Sp),e._pt.u=p||0,e._props.push(l));E0(a,i)};kt("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map(function(a){return e<2?t+a:"border"+a+t});gh[e>1?"border"+t:t]=function(a,l,u,h,f){var c,d;if(arguments.length<4)return c=o.map(function(p){return sn(a,p,u)}),d=c.join(" "),d.split(c[0]).length===5?c[0]:d;c=(h+"").split(" "),d={},o.forEach(function(p,m){return d[p]=c[m]=c[m]||c[(m-1)/2|0]}),a.init(l,d,f)}});var FE={name:"css",register:bp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,i,s){var o=this._props,a=e.style,l=n.vars.startAt,u,h,f,c,d,p,m,v,_,y,g,x,w,T,E,S;rg||bp(),this.styles=this.styles||RE(e),S=this.styles.props,this.tween=n;for(m in r)if(m!=="autoRound"&&(h=r[m],!(Bt[m]&&_E(m,r,n,i,e,s)))){if(d=typeof h,p=gh[m],d==="function"&&(h=h.call(n,i,e,s),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=La(h)),p)p(this,e,m,h,n)&&(E=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",Zn.lastIndex=0,Zn.test(u)||(v=pt(u),_=pt(h)),_?v!==_&&(u=oi(e,m,u,_)+_):v&&(h+=v),this.add(a,"setProperty",u,h,i,s,0,0,m),o.push(m),S.push(m,0,a[m]);else if(d!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(n,i,e,s):l[m],tt(u)&&~u.indexOf("random(")&&(u=La(u)),pt(u+"")||(u+=zt.units[m]||pt(sn(e,m))||""),(u+"").charAt(1)==="="&&(u=sn(e,m))):u=sn(e,m),c=parseFloat(u),y=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),y&&(h=h.substr(2)),f=parseFloat(h),m in hn&&(m==="autoAlpha"&&(c===1&&sn(e,"visibility")==="hidden"&&f&&(c=0),S.push("visibility",0,a.visibility),Un(this,a,"visibility",c?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=hn[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in wn,g){if(this.styles.save(m),x||(w=e._gsap,w.renderTransform&&!r.parseTransform||$a(e,r.parseTransform),T=r.smoothOrigin!==!1&&w.smooth,x=this._pt=new Dt(this._pt,a,Me,0,1,w.renderTransform,w,0,-1),x.dep=1),m==="scale")this._pt=new Dt(this._pt,w,"scaleY",w.scaleY,(y?js(w.scaleY,y+f):f)-w.scaleY||0,Sp),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){S.push(br,0,a[br]),h=WO(h),w.svg?Cp(e,h,0,T,0,this):(_=parseFloat(h.split(" ")[2])||0,_!==w.zOrigin&&Un(this,w,"zOrigin",w.zOrigin,_),Un(this,a,m,yh(u),yh(h)));continue}else if(m==="svgOrigin"){Cp(e,h,1,T,0,this);continue}else if(m in DE){qO(this,w,m,c,y?js(c,y+h):h);continue}else if(m==="smoothOrigin"){Un(this,w,"smooth",w.smooth,h);continue}else if(m==="force3D"){w[m]=h;continue}else if(m==="transform"){QO(this,h,e);continue}}else m in a||(m=ho(m)||m);if(g||(f||f===0)&&(c||c===0)&&!kO.test(h)&&m in a)v=(u+"").substr((c+"").length),f||(f=0),_=pt(h)||(m in zt.units?zt.units[m]:v),v!==_&&(c=oi(e,m,u,_)),this._pt=new Dt(this._pt,g?w:a,m,c,(y?js(c,y+f):f)-c,!g&&(_==="px"||m==="zIndex")&&r.autoRound!==!1?NO:Sp),this._pt.u=_||0,v!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=OO);else if(m in a)VO.call(this,e,m,u,y?y+h:h);else if(m in e)this.add(e,m,u||e[m],y?y+h:h,i,s);else if(m!=="parseTransform"){Xm(m,h);continue}g||(m in a?S.push(m,0,a[m]):S.push(m,1,u||e[m])),o.push(m)}}E&&TE(this)},render:function(e,r){if(r.tween._time||!ng())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:sn,aliases:hn,getSetter:function(e,r,n){var i=hn[r];return i&&i.indexOf(",")<0&&(r=i),r in wn&&r!==br&&(e._gsap.x||sn(e,"x"))?n&&m0===n?r==="scale"?UO:LO:(m0=n||{})&&(r==="scale"?GO:zO):e.style&&!Vm(e.style[r])?FO:~r.indexOf("-")?BO:eg(e,r)},core:{_removeProperty:Ga,_getMatrix:sg}};jt.utils.checkPrefix=ho;jt.core.getStyleSaver=RE;(function(t,e,r,n){var i=kt(t+","+e+","+r,function(s){wn[s]=1});kt(e,function(s){zt.units[s]="deg",DE[s]=1}),hn[i[13]]=t+","+e,kt(n,function(s){var o=s.split(":");hn[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");kt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){zt.units[t]="px"});jt.registerPlugin(FE);var rt=jt.registerPlugin(FE)||jt;rt.core.Tween;const xu="/CosmoGem/assets/key-eD33ksAA.png",ZO=({score:t,keys:e})=>N.jsx(N.Fragment,{children:N.jsx("div",{className:"app-game-score",children:N.jsxs("div",{className:"app-game-wrapper",children:[N.jsxs("div",{className:"app-game-count",children:[N.jsx("p",{className:"app-game-count_text",children:"Score:"}),N.jsx("span",{className:"app-game-count_record",children:t})]}),N.jsxs("div",{className:"app-game-keys",children:[N.jsx("img",{className:"app-game-keys_icon",src:xu,alt:"key-icon"}),N.jsx("span",{className:"app-game-keys_count",children:e})]})]})})}),Xl=t=>{if(!(!t||t.destroyed))try{t.parent&&t.parent.removeChild(t),t.destroy&&t.destroy({children:!0}),t.destroyed=!0}catch(e){console.error("Error destroying gem:",e)}},JO=(t,e,r,n,i)=>{const s=D.useRef([]),o=D.useRef(null),a=D.useRef(null),l=D.useRef(!1),u=D.useRef(!1),[h,f]=D.useState(0),c=D.useRef(null),[d,p]=D.useState(0),m=()=>{s.current=Array(r.rows).fill().map(()=>Array(r.cols).fill(null))},v=D.useCallback(()=>{e.current&&e.current.children.sort((b,A)=>b.y-A.y)},[]),_=D.useCallback((b,A,V)=>{var q;if(!((q=i.current)!=null&&q[b]))return console.error(`Texture for type "${b}" not found!`),null;const W=new wt;W.interactive=W.buttonMode=!0,W.data={type:b,x:A,y:V};const ne=new Zi(i.current[b]);return ne.anchor.set(.5),ne.width=ne.height=r.gemSize,W.addChild(ne),W.data.originalScale={x:1,y:1},W.on("pointerdown",()=>x(W)),W.on("pointerover",()=>y(W)),W.on("pointerout",()=>g(W)),W},[r.gemSize,i]),y=b=>{l.current||o.current||u.current||(b.data.hoverAnimation&&b.data.hoverAnimation.kill(),b.data.hoverAnimation=rt.to(b.scale,{x:1.1,y:1.1,duration:.2,ease:"power1.out"}))},g=b=>{b.data.hoverAnimation&&b.data.hoverAnimation.kill(),b!==o.current&&rt.to(b.scale,{x:b.data.originalScale.x,y:b.data.originalScale.y,duration:.2,ease:"power1.out"})},x=b=>{if(l.current||u.current)return;if(b.data.hoverAnimation&&b.data.hoverAnimation.kill(),o.current===b){T(b);return}if(!o.current){w(b);return}const A=o.current;k(A,b)?E(A,b):(T(A),w(b))},w=b=>{o.current=b,b.data.originalScale={x:1.2,y:1.2},b.data.selectionAnimation&&b.data.selectionAnimation.kill(),b.data.selectionAnimation=rt.to(b.scale,{x:1.2,y:1.2,duration:.2,ease:"power1.out"})},T=b=>{b||(b=o.current),b&&(b.data.selectionAnimation&&b.data.selectionAnimation.kill(),b.data.originalScale={x:1,y:1},rt.to(b.scale,{x:1,y:1,duration:.2,ease:"power1.out"}),o.current=null)},E=async(b,A)=>{u.current=!0;try{rt.to(b.scale,{x:1,y:1,duration:.2}),rt.to(A.scale,{x:1,y:1,duration:.2});const V={gem1:{x:b.data.x,y:b.data.y},gem2:{x:A.data.x,y:A.data.y}};await F(b,A);const W=U();W.size>0?(await Y(Array.from(W)),await O(),await S()):await M(b,A,V)}finally{u.current=!1,o.current=null}},S=async()=>{let b=U(),A=0;for(;b.size>0;)A++,oe(A),await Y(Array.from(b)),await O(),b=U();A>0&&!P()&&await Q()},C=D.useCallback((b,A,V=50)=>{var q,H,te,J,pe,Ve,Pr,ts,qr,og,ag,lg;let W,ne=0;do{if(W=n[Math.floor(Math.random()*n.length)],ne++,ne>=V)break;if(!(b>=2&&((q=s.current[A][b-1])==null?void 0:q.data.type)===W&&((H=s.current[A][b-2])==null?void 0:H.data.type)===W)&&!(b>=1&&b<r.cols-1&&((te=s.current[A][b-1])==null?void 0:te.data.type)===W&&((J=s.current[A][b+1])==null?void 0:J.data.type)===W)&&!(b<r.cols-2&&((pe=s.current[A][b+1])==null?void 0:pe.data.type)===W&&((Ve=s.current[A][b+2])==null?void 0:Ve.data.type)===W)&&!(A>=2&&((Pr=s.current[A-1][b])==null?void 0:Pr.data.type)===W&&((ts=s.current[A-2][b])==null?void 0:ts.data.type)===W)&&!(A>=1&&A<r.rows-1&&((qr=s.current[A-1][b])==null?void 0:qr.data.type)===W&&((og=s.current[A+1][b])==null?void 0:og.data.type)===W)&&!(A<r.rows-2&&((ag=s.current[A+1][b])==null?void 0:ag.data.type)===W&&((lg=s.current[A+2][b])==null?void 0:lg.data.type)===W))break}while(!0);return W},[r.cols,r.rows,n]),I=D.useCallback(()=>{const b=r.gemSize+r.gemPadding;for(let A=0;A<r.rows;A++)for(let V=0;V<r.cols;V++){s.current[A][V]&&s.current[A][V].parent&&Xl(s.current[A][V]);const W=C(V,A),ne=_(W,V,A);ne&&(ne.position.set(V*b+r.gemSize/2,A*b+r.gemSize/2),e.current.addChild(ne),s.current[A][V]=ne)}},[r.cols,r.gemPadding,r.gemSize,r.rows,e,_,C]),k=(b,A)=>{if(!b||!A)return!1;const V=Math.abs(b.data.x-A.data.x),W=Math.abs(b.data.y-A.data.y);return V===1&&W===0||V===0&&W===1},F=async(b,A)=>{if(!b||!A){console.error("One of the gems is null!");return}[s.current[b.data.y][b.data.x],s.current[A.data.y][A.data.x]]=[A,b],[b.data.x,A.data.x]=[A.data.x,b.data.x],[b.data.y,A.data.y]=[A.data.y,b.data.y];const V=r.gemSize+r.gemPadding,W=b.data.x*V+r.gemSize/2,ne=b.data.y*V+r.gemSize/2,q=A.data.x*V+r.gemSize/2,H=A.data.y*V+r.gemSize/2;await Promise.all([new Promise(te=>{rt.to(b.position,{x:W,y:ne,duration:.3,ease:"power1.out",onComplete:te})}),new Promise(te=>{rt.to(A.position,{x:q,y:H,duration:.3,ease:"power1.out",onComplete:te})})])},M=async(b,A,V)=>{if(!b||!A){console.error("One of the gems is null when reverting swap!");return}[s.current[b.data.y][b.data.x],s.current[A.data.y][A.data.x]]=[A,b],b.data.x=V.gem1.x,b.data.y=V.gem1.y,A.data.x=V.gem2.x,A.data.y=V.gem2.y;const W=r.gemSize+r.gemPadding,ne=V.gem1.x*W+r.gemSize/2,q=V.gem1.y*W+r.gemSize/2,H=V.gem2.x*W+r.gemSize/2,te=V.gem2.y*W+r.gemSize/2;await Promise.all([new Promise(J=>{rt.to(b.position,{x:ne,y:q,duration:.3,ease:"power1.out",onComplete:J})}),new Promise(J=>{rt.to(A.position,{x:H,y:te,duration:.3,ease:"power1.out",onComplete:J})})])},R=()=>!0,U=()=>{var A,V,W,ne;const b=new Set;for(let q=0;q<r.rows;q++)for(let H=0;H<r.cols-2;H++){const te=s.current[q][H];if(!te)continue;let J=1;for(;H+J<r.cols&&((V=(A=s.current[q][H+J])==null?void 0:A.data)==null?void 0:V.type)===te.data.type;)J++;if(J>=3)for(let pe=0;pe<J;pe++)b.add(s.current[q][H+pe]);H+=J-1}for(let q=0;q<r.cols;q++)for(let H=0;H<r.rows-2;H++){const te=s.current[H][q];if(!te)continue;let J=1;for(;H+J<r.rows&&((ne=(W=s.current[H+J][q])==null?void 0:W.data)==null?void 0:ne.type)===te.data.type;)J++;if(J>=3)for(let pe=0;pe<J;pe++)b.add(s.current[H+pe][q]);H+=J-1}return b},Y=async b=>{const A=b.filter(H=>H&&H.parent&&!H.destroyed);if(A.length===0)return;const V=10,W=h>0?h:1,ne=A.length*V*W;p(H=>H+ne);const q=A.map(H=>new Promise(te=>{const{x:J,y:pe}=H.data;s.current[pe][J]=null,H&&H.position&&B(H),Xl(H),setTimeout(te,100)}));await Promise.all(q)},B=b=>{if(!b||!b.position||!b.parent||!t.current)return;const A=new wt;A.position.copyFrom(b.position),b.parent.addChild(A);const V=8+Math.floor(Math.random()*5);for(let W=0;W<V;W++){const ne=new qn().beginFill(r.resources.gems[b.data.type].light||16777215).drawCircle(0,0,2+Math.random()*3).endFill();ne.position.set(0,0),A.addChild(ne);const q=Math.random()*Math.PI*2,H=1+Math.random()*3,te=J=>{if(!ne.parent){t.current.ticker.remove(te);return}ne.x+=Math.cos(q)*H*J,ne.y+=Math.sin(q)*H*J,ne.alpha-=.03*J,ne.alpha<=0&&(A.removeChild(ne),t.current.ticker.remove(te))};t.current.ticker.add(te)}setTimeout(()=>{A.parent&&A.parent.removeChild(A)},1e3)},O=async()=>{const b=Array(r.cols).fill().map(()=>({emptyCount:0,gemsToMove:[]}));for(let q=0;q<r.cols;q++){let H=0;for(let te=r.rows-1;te>=0;te--)if(!s.current[te][q])H++;else if(H>0){const J=s.current[te][q],pe=te+H;J.data.y=pe,s.current[pe][q]=J,s.current[te][q]=null,b[q].gemsToMove.push({gem:J,newY:pe})}b[q].emptyCount=H}const A=r.gemSize+r.gemPadding,V=.4,W=b.map((q,H)=>q.gemsToMove.map(({gem:te,newY:J})=>{const pe=J*A+r.gemSize/2;return{gem:te,targetY:pe,duration:V+(J-te.data.y)*.03}})).flat();await Promise.all(W.map(({gem:q,targetY:H,duration:te})=>new Promise(J=>{rt.to(q.position,{y:H,duration:te,ease:"sine.out",onComplete:J})})));const ne=b.map((q,H)=>Array.from({length:q.emptyCount}).map((te,J)=>{const pe=J,Ve=J*.03;return{x:H,newY:pe,delay:Ve,duration:.12+J*.05}})).flat();for(const{x:q,newY:H,delay:te,duration:J}of ne)await new Promise(pe=>{setTimeout(async()=>{const Ve=z(q,H,!1);if(!Ve)return pe();const Pr=-r.gemSize,ts=H*A+r.gemSize/2;Ve.position.set(q*A+r.gemSize/2,Pr),await new Promise(qr=>{rt.to(Ve.position,{y:ts,duration:J,ease:"back.out(1.2)",onComplete:()=>{v(),qr()}})}),pe()},te*1e3)})},z=D.useCallback((b,A,V)=>{if(b<0||b>=r.cols||A<0||A>=r.rows)return null;const W=C(b,A),ne=_(W,b,A);if(!ne)return null;s.current[A][b]&&Xl(s.current[A][b]);const q=r.gemSize+r.gemPadding,H=b*q+r.gemSize/2,te=A*q+r.gemSize/2;return ne.position.set(H,V?-r.gemSize:te),e.current.addChild(ne),s.current[A][b]=ne,V&&(ne.scale.set(.8),rt.to(ne.scale,{x:1,y:1,duration:.2,ease:"elastic.out(1, 0.5)"})),v(),ne},[r,C,_,v]),P=()=>{for(let b=0;b<r.rows;b++)for(let A=0;A<r.cols;A++){if(A<r.cols-1){[s.current[b][A],s.current[b][A+1]]=[s.current[b][A+1],s.current[b][A]];const V=U();if([s.current[b][A],s.current[b][A+1]]=[s.current[b][A+1],s.current[b][A]],V.size>0)return!0}if(b<r.rows-1){[s.current[b][A],s.current[b+1][A]]=[s.current[b+1][A],s.current[b][A]];const V=U();if([s.current[b][A],s.current[b+1][A]]=[s.current[b+1][A],s.current[b][A]],V.size>0)return!0}}return!1},$=async()=>{let b;do{b=!1;const A=U();A.size>0&&(b=!0,await Y(Array.from(A)),await O())}while(b)},Q=async()=>{l.current=!0;for(let b=0;b<r.rows;b++)for(let A=0;A<r.cols;A++)s.current[b][A]&&(Xl(s.current[b][A]),s.current[b][A]=null);I(),await $(),l.current=!1},le=()=>{if(!c.current&&t.current){const b=new Zh("",{fontFamily:"Arial",fontSize:36,fill:16777215,fontWeight:"bold",dropShadow:!0,dropShadowColor:4877482,dropShadowBlur:10});b.anchor.set(.5),b.position.set(t.current.screen.width/2,50),b.alpha=0,t.current.stage.addChild(b),c.current=b}},oe=b=>{f(b),c.current&&(b>1?(c.current.text=`COMBO x${b}!`,c.current.alpha=1,rt.to(c.current,{alpha:0,duration:1,delay:.5,ease:"power1.out"})):c.current.alpha=0)};return{boardRef:s,selectedGemRef:o,lastSelectedGemRef:a,combo:h,score:d,initializeBoard:m,initializeGems:I,isAdjacent:k,swapGems:F,revertSwap:M,checkPotentialMatches:R,checkMatches:U,destroyGems:Y,dropGems:O,setScore:p,createGemAt:z,hasValidMoves:P,removeInitialMatches:$,recreateBoard:Q,setupComboText:le,updateCombo:oe}},e3=(t,e,r)=>{const n=document.getElementById("restart-btn");n&&n.addEventListener("click",()=>{t(0),e(0),r()})},t3=t=>{const e=document.getElementById("game-board")||document.body;e.innerHTML=`
            <div style="
                color: white;
                background: #1a1a2e;
                padding: 20px;
                border-radius: 10px;
                font-family: Arial;
                text-align: center;
                max-width: 500px;
                margin: 20px auto;
            ">
                <h3 style="color: #ff4757">Game Error</h3>
                <p>${t}</p>
                <button style="
                    background: #ff4757;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 5px;
                    margin-top: 15px;
                    cursor: pointer;
                " onclick="window.location.reload()">
                    Try Again
                </button>
                <p style="margin-top: 20px; font-size: 0.8em; opacity: 0.7;">
                    If the error persists, try another browser
                </p>
            </div>
        `},ye={rows:7,cols:7,gemSize:0,gemPadding:10,gemRadius:15,resources:{gems:{sparkle:{color:16763904,light:16771899,svg:"/CosmoGem//GemsIcon/amethyst-gem.png"},diamond:{color:58879,light:8716287,svg:"/CosmoGem//GemsIcon/crystal-gem.png"},crystal:{color:11225020,light:13538264,svg:"/CosmoGem//GemsIcon/emerald-gem.png"},star:{color:16748800,light:16761963,svg:"/CosmoGem//GemsIcon/ruby-gem.png"},lightning:{color:16771584,light:16777101,svg:"/CosmoGem//GemsIcon/ruby2-gem.png"},heart:{color:16717636,light:16736623,svg:"/CosmoGem//GemsIcon/topaz-gem.png"}}},keys:{spawnChance:.05,scoreValue:150,texture:"/CosmoGem//key.png"}},r3=()=>{const t=D.useRef(null),e=D.useRef(null),r=D.useRef(null),n=Object.keys(ye.resources.gems),i=D.useRef({}),{score:s,initializeBoard:o,initializeGems:a,removeInitialMatches:l,setupComboText:u,updateCombo:h,setScore:f}=JO(t,e,ye,n,i);D.useEffect(()=>((async()=>{try{if(!R1())throw new Error("Your device does not support WebGL. Please update your browser.");const T=new Gm({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,backgroundAlpha:0,transparent:!0,antialias:!0,resolution:Math.min(2,window.devicePixelRatio||1),autoDensity:!0,powerPreference:"high-performance"});document.getElementById("game-board").appendChild(T.view),t.current=T,await c(),o(),m(),x(),e3(f,h,x),window.addEventListener("resize",p)}catch(T){console.error("Game initialization error:",T),t3(T.message)}})(),()=>{window.removeEventListener("resize",p),t.current&&t.current.destroy(!0)}),[]);const c=async()=>{const w={};for(const T of n)try{w[T]=await Z.fromURL(ye.resources.gems[T].svg)}catch(E){console.warn(`Failed to load texture for ${T}, using fallback:`,E),w[T]=d(T)}try{w.key=await Z.fromURL(ye.keys.texture)}catch(T){console.warn("Failed to load key texture, using fallback:",T),w.key=d("sparkle")}i.current=w},d=w=>{const T=new qn;return T.beginFill(ye.resources.gems[w].color),T.drawCircle(0,0,30),T.endFill(),t.current.renderer.generateTexture(T)},p=()=>{clearTimeout(r.current),r.current=setTimeout(m,100)},m=()=>{var R;const w=window.innerWidth,T=window.innerHeight,E=Math.min(w*.9,T*.8),S=Math.floor((E-(ye.cols+1)*ye.gemPadding)/ye.cols),C=Math.floor((E-(ye.rows+1)*ye.gemPadding)/ye.rows),I=Math.max(Math.min(S,C,40),20);ye.gemSize=I,ye.gemRadius=Math.floor(I*.2);const k=25,F=ye.cols*(ye.gemSize+ye.gemPadding)-ye.gemPadding,M=ye.rows*(ye.gemSize+ye.gemPadding)-ye.gemPadding;(R=t.current)!=null&&R.renderer&&(t.current.renderer.resize(F+k*2,M+k*2),e.current&&e.current.position.set(k,k),v())},v=()=>{if(!e.current){x();return}rt.to(e.current,{alpha:0,duration:.2,onComplete:()=>{_(),x(),rt.to(e.current,{alpha:1,duration:.3})}})},_=()=>{e.current&&(t.current.stage.removeChild(e.current),e.current.destroy({children:!0}),e.current=null)},y=()=>{const w=new wt;w.position.set((ye.gemPadding+2.5)*2,(ye.gemPadding+2.5)*2),t.current.stage.addChild(w),e.current=w},g=()=>{const w=ye.gemSize+ye.gemPadding,T=ye.cols*w-ye.gemPadding,E=ye.rows*w-ye.gemPadding,S=new qn;S.beginFill(1712698).drawRoundedRect(-15,-15,T+30,E+30,20).endFill(),S.lineStyle(3,4877482,.7).drawRoundedRect(-10,-10,T+20,E+20,15);const C=new qn;C.beginFill(4877482,.1).drawRoundedRect(-20,-20,T+40,E+40,25).endFill(),C.blur=5,e.current.addChild(C),e.current.addChild(S)},x=()=>{_(),y(),g(),a(),l(),u()};return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"app-game-container",children:N.jsx("div",{id:"game-board",className:"app-game-board"})}),N.jsx(ZO,{score:s,keys:0}),N.jsxs("div",{className:"app-game-btns",children:[N.jsx(ti,{to:"/",className:"app-game-btn app-game-home",children:"На главную"}),N.jsx("button",{id:"restart-btn",className:"app-game-btn app-game-restart",children:"Restart"})]})]})},n3=()=>N.jsx(N.Fragment,{children:N.jsx("h4",{children:"Seetings Page"})}),i3="/CosmoGem/assets/logo-game-DfZjE2jY.jpeg",s3="data:image/svg+xml,%3c!--%20icon666.com%20-%20MILLIONS%20OF%20FREE%20VECTOR%20ICONS%20--%3e%3csvg%20id='Capa_1'%20enable-background='new%200%200%20512%20512'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='256'%20x2='256'%20y1='489'%20y2='187.993'%3e%3cstop%20offset='0'%20stop-color='%2300b59c'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%239cffac'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='SVGID_2_'%20gradientUnits='userSpaceOnUse'%20x1='256'%20x2='256'%20y1='368.003'%20y2='23'%3e%3cstop%20offset='0'%20stop-color='%23c3ffe8'%3e%3c/stop%3e%3cstop%20offset='.9973'%20stop-color='%23f0fff4'%3e%3c/stop%3e%3c/linearGradient%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='m111.742%20339.143c-5.566-2.344-12.041-1.055-16.348%203.252l-61%2060c-2.812%202.812-4.394%206.621-4.394%2010.605v61c0%208.291%206.709%2015%2015%2015h61c8.291%200%2015-6.709%2015-15v-121c0-6.064-3.662-11.543-9.258-13.857zm114.258-61.143h-60c-8.291%200-15%206.709-15%2015v181c0%208.291%206.709%2015%2015%2015h60c8.291%200%2015-6.709%2015-15v-181c0-8.291-6.709-15-15-15zm121%200h-61c-8.291%200-15%206.709-15%2015v181c0%208.291%206.709%2015%2015%2015h61c8.291%200%2015-6.709%2015-15v-181c0-8.291-6.709-15-15-15zm125.742-88.857c-5.566-2.344-12.041-1.025-16.348%203.252l-60%2060c-2.812%202.812-4.394%206.621-4.394%2010.605v211c0%208.291%206.709%2015%2015%2015h60c8.291%200%2015-6.709%2015-15v-271c0-6.064-3.662-11.543-9.258-13.857z'%20fill='url(%23SVGID_1_)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='m497%2023h-90c-6.064%200-11.543%203.647-13.857%209.258s-1.025%2012.056%203.252%2016.348l14.561%2014.575-95.069%2094.819h-204.789c-3.984%200-7.822%201.582-10.635%204.409l-96.098%2095.405c-2.783%202.813-4.365%206.622-4.365%2010.591v84.595c0%206.064%203.662%2011.543%209.258%2013.857%205.454%202.294%2011.988%201.108%2016.348-3.252l116.605-115.605h204.789c3.984%200%207.793-1.582%2010.605-4.395l116.895-116.894%2011.895%2011.895c4.336%204.307%2010.781%205.596%2016.348%203.252%205.595-2.315%209.257-7.794%209.257-13.858v-90c0-8.291-6.709-15-15-15z'%20fill='url(%23SVGID_2_)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",o3=()=>N.jsx(N.Fragment,{children:N.jsx("div",{className:"header",children:N.jsxs("div",{className:"header-wrapper",children:[N.jsxs("div",{className:"header-logo",children:[N.jsx("img",{src:i3,width:40,height:40,alt:"",className:"header-logo-icon"}),N.jsx("h4",{className:"header-logo-text",children:"Admin accaunt"})]}),N.jsx(ti,{to:"/tops",className:"header-stage",children:N.jsx("img",{src:s3,alt:"stage",width:20,height:20})})]})})}),a3=()=>N.jsxs(N.Fragment,{children:[N.jsx("h2",{className:"app-tops-title",children:"Top's players"}),N.jsxs("p",{className:"app-tops-text",children:["Вдохновляйтесь лучшими!",N.jsx("br",{}),"Каждая игра - шанс подняться в этом рейтинге."]})]}),l3="/CosmoGem/assets/baggi-C7jSTrUb.jpeg",u3="/CosmoGem/assets/enduro-DlhM80GL.jpeg",h3="/CosmoGem/assets/quadrocikle-CL9dTlKh.jpeg",c3=()=>N.jsx(N.Fragment,{children:N.jsxs("div",{className:"app-tops-list",children:[N.jsxs("div",{className:"app-tops-item",children:[N.jsxs("div",{className:"app-tops-item_person",children:[N.jsx("img",{src:h3,alt:"acc-icon",className:"app-tops-item_person__icon"}),N.jsx("h4",{className:"app-tops-item_person__name",children:"Gleb"})]}),N.jsxs("div",{className:"app-tops-item_count",children:[N.jsx("img",{src:xu,alt:"icon-key",className:"app-tops-item_count__icon"}),N.jsx("span",{className:"app-tops-item_count__keys",children:"425"})]})]}),N.jsxs("div",{className:"app-tops-item",children:[N.jsxs("div",{className:"app-tops-item_person",children:[N.jsx("img",{src:u3,alt:"acc-icon",className:"app-tops-item_person__icon"}),N.jsx("h4",{className:"app-tops-item_person__name",children:"Kirill"})]}),N.jsxs("div",{className:"app-tops-item_count",children:[N.jsx("img",{src:xu,alt:"icon-key",className:"app-tops-item_count__icon"}),N.jsx("span",{className:"app-tops-item_count__keys",children:"422"})]})]}),N.jsxs("div",{className:"app-tops-item",children:[N.jsxs("div",{className:"app-tops-item_person",children:[N.jsx("img",{src:l3,alt:"acc-icon",className:"app-tops-item_person__icon"}),N.jsx("h4",{className:"app-tops-item_person__name",children:"Vlad"})]}),N.jsxs("div",{className:"app-tops-item_count",children:[N.jsx("img",{src:xu,alt:"icon-key",className:"app-tops-item_count__icon"}),N.jsx("span",{className:"app-tops-item_count__keys",children:"334"})]})]})]})}),f3=()=>N.jsx(N.Fragment,{children:N.jsxs("div",{className:"app-tops",children:[N.jsxs("div",{className:"app-tops-btns",children:[N.jsx(ti,{to:"/",className:"app-tops-btn app-tops-home",children:"На главную"}),N.jsx(ti,{to:"/game",id:"restart-btn",className:"app-tops-btn app-tops-restart",children:"В игру"})]}),N.jsx(a3,{}),N.jsx(c3,{})]})}),d3=()=>N.jsx(N.Fragment,{children:N.jsxs("div",{className:"app",children:[N.jsx("div",{className:"app-overlay"}),N.jsx(o3,{}),N.jsxs(eC,{children:[N.jsx(Uo,{path:"/",element:N.jsx(jC,{})}),N.jsx(Uo,{path:"/game",element:N.jsx(r3,{})}),N.jsx(Uo,{path:"/settings",element:N.jsx(n3,{})}),N.jsx(Uo,{path:"/tops",element:N.jsx(f3,{})})]})]})});kf.createRoot(document.getElementById("root")).render(N.jsx(Gn.StrictMode,{children:N.jsx(SC,{basename:"/CosmoGem",children:N.jsx(d3,{})})}));
